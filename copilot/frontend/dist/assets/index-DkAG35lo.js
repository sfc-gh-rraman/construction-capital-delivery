(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VX={exports:{}},EE={},XX={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=Symbol.for("react.element"),gpe=Symbol.for("react.portal"),ype=Symbol.for("react.fragment"),vpe=Symbol.for("react.strict_mode"),xpe=Symbol.for("react.profiler"),bpe=Symbol.for("react.provider"),_pe=Symbol.for("react.context"),wpe=Symbol.for("react.forward_ref"),Spe=Symbol.for("react.suspense"),Epe=Symbol.for("react.memo"),Ape=Symbol.for("react.lazy"),DB=Symbol.iterator;function kpe(e){return e===null||typeof e!="object"?null:(e=DB&&e[DB]||e["@@iterator"],typeof e=="function"?e:null)}var YX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KX=Object.assign,ZX={};function ug(e,t,n){this.props=e,this.context=t,this.refs=ZX,this.updater=n||YX}ug.prototype.isReactComponent={};ug.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ug.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function QX(){}QX.prototype=ug.prototype;function rI(e,t,n){this.props=e,this.context=t,this.refs=ZX,this.updater=n||YX}var iI=rI.prototype=new QX;iI.constructor=rI;KX(iI,ug.prototype);iI.isPureReactComponent=!0;var jB=Array.isArray,JX=Object.prototype.hasOwnProperty,aI={current:null},eY={key:!0,ref:!0,__self:!0,__source:!0};function tY(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)JX.call(t,r)&&!eY.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:G1,type:e,key:a,ref:o,props:i,_owner:aI.current}}function Cpe(e,t){return{$$typeof:G1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oI(e){return typeof e=="object"&&e!==null&&e.$$typeof===G1}function Ope(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var IB=/\/+/g;function yO(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ope(""+e.key):t.toString(36)}function I_(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case G1:case gpe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+yO(o,0):r,jB(i)?(n="",e!=null&&(n=e.replace(IB,"$&/")+"/"),I_(i,t,n,"",function(u){return u})):i!=null&&(oI(i)&&(i=Cpe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(IB,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",jB(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+yO(a,s);o+=I_(a,t,n,l,i)}else if(l=kpe(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+yO(a,s++),o+=I_(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xb(e,t,n){if(e==null)return e;var r=[],i=0;return I_(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Ppe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ki={current:null},L_={transition:null},$pe={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:L_,ReactCurrentOwner:aI};function nY(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:xb,forEach:function(e,t,n){xb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xb(e,function(){t++}),t},toArray:function(e){return xb(e,function(t){return t})||[]},only:function(e){if(!oI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=ug;ft.Fragment=ype;ft.Profiler=xpe;ft.PureComponent=rI;ft.StrictMode=vpe;ft.Suspense=Spe;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$pe;ft.act=nY;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=KX({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=aI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)JX.call(t,l)&&!eY.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:G1,type:e.type,key:i,ref:a,props:r,_owner:o}};ft.createContext=function(e){return e={$$typeof:_pe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bpe,_context:e},e.Consumer=e};ft.createElement=tY;ft.createFactory=function(e){var t=tY.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:wpe,render:e}};ft.isValidElement=oI;ft.lazy=function(e){return{$$typeof:Ape,_payload:{_status:-1,_result:e},_init:Ppe}};ft.memo=function(e,t){return{$$typeof:Epe,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=L_.transition;L_.transition={};try{e()}finally{L_.transition=t}};ft.unstable_act=nY;ft.useCallback=function(e,t){return ki.current.useCallback(e,t)};ft.useContext=function(e){return ki.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return ki.current.useDeferredValue(e)};ft.useEffect=function(e,t){return ki.current.useEffect(e,t)};ft.useId=function(){return ki.current.useId()};ft.useImperativeHandle=function(e,t,n){return ki.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return ki.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return ki.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return ki.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return ki.current.useReducer(e,t,n)};ft.useRef=function(e){return ki.current.useRef(e)};ft.useState=function(e){return ki.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return ki.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return ki.current.useTransition()};ft.version="18.3.1";XX.exports=ft;var X=XX.exports;const q=kt(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tpe=X,Npe=Symbol.for("react.element"),Mpe=Symbol.for("react.fragment"),Dpe=Object.prototype.hasOwnProperty,jpe=Tpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ipe={key:!0,ref:!0,__self:!0,__source:!0};function rY(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Dpe.call(t,r)&&!Ipe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Npe,type:e,key:a,ref:o,props:i,_owner:jpe.current}}EE.Fragment=Mpe;EE.jsx=rY;EE.jsxs=rY;VX.exports=EE;var S=VX.exports,mT={},iY={exports:{}},$a={},aY={exports:{}},oY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var N=B.length;B.push(G);e:for(;0<N;){var Z=N-1>>>1,Y=B[Z];if(0<i(Y,G))B[Z]=G,B[N]=Y,N=Z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],N=B.pop();if(N!==G){B[0]=N;e:for(var Z=0,Y=B.length,U=Y>>>1;Z<U;){var me=2*(Z+1)-1,le=B[me],ve=me+1,mt=B[ve];if(0>i(le,N))ve<Y&&0>i(mt,le)?(B[Z]=mt,B[ve]=N,Z=ve):(B[Z]=le,B[me]=N,Z=me);else if(ve<Y&&0>i(mt,N))B[Z]=mt,B[ve]=N,Z=ve;else break e}}return G}function i(B,G){var N=B.sortIndex-G.sortIndex;return N!==0?N:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=B)r(u),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(u)}}function k(B){if(g=!1,_(B),!m)if(n(l)!==null)m=!0,z(E);else{var G=n(u);G!==null&&H(k,G.startTime-B)}}function E(B,G){m=!1,g&&(g=!1,v(P),P=-1),p=!0;var N=d;try{for(_(G),f=n(l);f!==null&&(!(f.expirationTime>G)||B&&!j());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,d=f.priorityLevel;var Y=Z(f.expirationTime<=G);G=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),_(G)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var me=n(u);me!==null&&H(k,me.startTime-G),U=!1}return U}finally{f=null,d=N,p=!1}}var A=!1,C=null,P=-1,T=5,D=-1;function j(){return!(e.unstable_now()-D<T)}function I(){if(C!==null){var B=e.unstable_now();D=B;var G=!0;try{G=C(!0,B)}finally{G?W():(A=!1,C=null)}}else A=!1}var W;if(typeof b=="function")W=function(){b(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,M=R.port2;R.port1.onmessage=I,W=function(){M.postMessage(null)}}else W=function(){x(I,0)};function z(B){C=B,A||(A=!0,W())}function H(B,G){P=x(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,z(E))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var N=d;d=G;try{return B()}finally{d=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var N=d;d=B;try{return G()}finally{d=N}},e.unstable_scheduleCallback=function(B,G,N){var Z=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?Z+N:Z):N=Z,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=N+Y,B={id:c++,callback:G,priorityLevel:B,startTime:N,expirationTime:Y,sortIndex:-1},N>Z?(B.sortIndex=N,t(u,B),n(l)===null&&B===n(u)&&(g?(v(P),P=-1):g=!0,H(k,N-Z))):(B.sortIndex=Y,t(l,B),m||p||(m=!0,z(E))),B},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(B){var G=d;return function(){var N=d;d=G;try{return B.apply(this,arguments)}finally{d=N}}}})(oY);aY.exports=oY;var Lpe=aY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fpe=X,Aa=Lpe;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sY=new Set,dv={};function nh(e,t){Kp(e,t),Kp(e+"Capture",t)}function Kp(e,t){for(dv[e]=t,e=0;e<t.length;e++)sY.add(t[e])}var uu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gT=Object.prototype.hasOwnProperty,Rpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LB={},FB={};function zpe(e){return gT.call(FB,e)?!0:gT.call(LB,e)?!1:Rpe.test(e)?FB[e]=!0:(LB[e]=!0,!1)}function Bpe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Upe(e,t,n,r){if(t===null||typeof t>"u"||Bpe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ci(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tr[e]=new Ci(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tr[t]=new Ci(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tr[e]=new Ci(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tr[e]=new Ci(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tr[e]=new Ci(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tr[e]=new Ci(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tr[e]=new Ci(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tr[e]=new Ci(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tr[e]=new Ci(e,5,!1,e.toLowerCase(),null,!1,!1)});var sI=/[\-:]([a-z])/g;function lI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sI,lI);Tr[t]=new Ci(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sI,lI);Tr[t]=new Ci(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sI,lI);Tr[t]=new Ci(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tr[e]=new Ci(e,1,!1,e.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tr[e]=new Ci(e,1,!1,e.toLowerCase(),null,!0,!0)});function uI(e,t,n,r){var i=Tr.hasOwnProperty(t)?Tr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Upe(t,n,i,r)&&(n=null),r||i===null?zpe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _u=Fpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bb=Symbol.for("react.element"),rp=Symbol.for("react.portal"),ip=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),yT=Symbol.for("react.profiler"),lY=Symbol.for("react.provider"),uY=Symbol.for("react.context"),fI=Symbol.for("react.forward_ref"),vT=Symbol.for("react.suspense"),xT=Symbol.for("react.suspense_list"),dI=Symbol.for("react.memo"),Gu=Symbol.for("react.lazy"),cY=Symbol.for("react.offscreen"),RB=Symbol.iterator;function gy(e){return e===null||typeof e!="object"?null:(e=RB&&e[RB]||e["@@iterator"],typeof e=="function"?e:null)}var bn=Object.assign,vO;function r0(e){if(vO===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vO=t&&t[1]||""}return`
`+vO+e}var xO=!1;function bO(e,t){if(!e||xO)return"";xO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{xO=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?r0(e):""}function Wpe(e){switch(e.tag){case 5:return r0(e.type);case 16:return r0("Lazy");case 13:return r0("Suspense");case 19:return r0("SuspenseList");case 0:case 2:case 15:return e=bO(e.type,!1),e;case 11:return e=bO(e.type.render,!1),e;case 1:return e=bO(e.type,!0),e;default:return""}}function bT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ip:return"Fragment";case rp:return"Portal";case yT:return"Profiler";case cI:return"StrictMode";case vT:return"Suspense";case xT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uY:return(e.displayName||"Context")+".Consumer";case lY:return(e._context.displayName||"Context")+".Provider";case fI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dI:return t=e.displayName||null,t!==null?t:bT(e.type)||"Memo";case Gu:t=e._payload,e=e._init;try{return bT(e(t))}catch{}}return null}function Hpe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bT(t);case 8:return t===cI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fY(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qpe(e){var t=fY(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _b(e){e._valueTracker||(e._valueTracker=qpe(e))}function dY(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fY(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Aw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _T(e,t){var n=t.checked;return bn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zB(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hY(e,t){t=t.checked,t!=null&&uI(e,"checked",t,!1)}function wT(e,t){hY(e,t);var n=Tc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ST(e,t.type,n):t.hasOwnProperty("defaultValue")&&ST(e,t.type,Tc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BB(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ST(e,t,n){(t!=="number"||Aw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var i0=Array.isArray;function Pp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ET(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return bn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UB(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(pe(92));if(i0(n)){if(1<n.length)throw Error(pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tc(n)}}function pY(e,t){var n=Tc(t.value),r=Tc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WB(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mY(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mY(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wb,gY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wb=wb||document.createElement("div"),wb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var M0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gpe=["Webkit","ms","Moz","O"];Object.keys(M0).forEach(function(e){Gpe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),M0[t]=M0[e]})});function yY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||M0.hasOwnProperty(e)&&M0[e]?(""+t).trim():t+"px"}function vY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Vpe=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kT(e,t){if(t){if(Vpe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function CT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OT=null;function hI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var PT=null,$p=null,Tp=null;function HB(e){if(e=Y1(e)){if(typeof PT!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=PE(t),PT(e.stateNode,e.type,t))}}function xY(e){$p?Tp?Tp.push(e):Tp=[e]:$p=e}function bY(){if($p){var e=$p,t=Tp;if(Tp=$p=null,HB(e),t)for(e=0;e<t.length;e++)HB(t[e])}}function _Y(e,t){return e(t)}function wY(){}var _O=!1;function SY(e,t,n){if(_O)return e(t,n);_O=!0;try{return _Y(e,t,n)}finally{_O=!1,($p!==null||Tp!==null)&&(wY(),bY())}}function pv(e,t){var n=e.stateNode;if(n===null)return null;var r=PE(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(pe(231,t,typeof n));return n}var $T=!1;if(uu)try{var yy={};Object.defineProperty(yy,"passive",{get:function(){$T=!0}}),window.addEventListener("test",yy,yy),window.removeEventListener("test",yy,yy)}catch{$T=!1}function Xpe(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var D0=!1,kw=null,Cw=!1,TT=null,Ype={onError:function(e){D0=!0,kw=e}};function Kpe(e,t,n,r,i,a,o,s,l){D0=!1,kw=null,Xpe.apply(Ype,arguments)}function Zpe(e,t,n,r,i,a,o,s,l){if(Kpe.apply(this,arguments),D0){if(D0){var u=kw;D0=!1,kw=null}else throw Error(pe(198));Cw||(Cw=!0,TT=u)}}function rh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function EY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qB(e){if(rh(e)!==e)throw Error(pe(188))}function Qpe(e){var t=e.alternate;if(!t){if(t=rh(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qB(i),e;if(a===r)return qB(i),t;a=a.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?e:t}function AY(e){return e=Qpe(e),e!==null?kY(e):null}function kY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kY(e);if(t!==null)return t;e=e.sibling}return null}var CY=Aa.unstable_scheduleCallback,GB=Aa.unstable_cancelCallback,Jpe=Aa.unstable_shouldYield,eme=Aa.unstable_requestPaint,Pn=Aa.unstable_now,tme=Aa.unstable_getCurrentPriorityLevel,pI=Aa.unstable_ImmediatePriority,OY=Aa.unstable_UserBlockingPriority,Ow=Aa.unstable_NormalPriority,nme=Aa.unstable_LowPriority,PY=Aa.unstable_IdlePriority,AE=null,js=null;function rme(e){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(AE,e,void 0,(e.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:ome,ime=Math.log,ame=Math.LN2;function ome(e){return e>>>=0,e===0?32:31-(ime(e)/ame|0)|0}var Sb=64,Eb=4194304;function a0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=a0(s):(a&=o,a!==0&&(r=a0(a)))}else o=n&~i,o!==0?r=a0(o):a!==0&&(r=a0(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wo(t),i=1<<n,r|=e[n],t&=~i;return r}function sme(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lme(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Wo(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=sme(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function NT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $Y(){var e=Sb;return Sb<<=1,!(Sb&4194240)&&(Sb=64),e}function wO(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function V1(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wo(t),e[t]=n}function ume(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wo(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function mI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function TY(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NY,gI,MY,DY,jY,MT=!1,Ab=[],yc=null,vc=null,xc=null,mv=new Map,gv=new Map,ec=[],cme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VB(e,t){switch(e){case"focusin":case"focusout":yc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":xc=null;break;case"pointerover":case"pointerout":mv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gv.delete(t.pointerId)}}function vy(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Y1(t),t!==null&&gI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fme(e,t,n,r,i){switch(t){case"focusin":return yc=vy(yc,e,t,n,r,i),!0;case"dragenter":return vc=vy(vc,e,t,n,r,i),!0;case"mouseover":return xc=vy(xc,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mv.set(a,vy(mv.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gv.set(a,vy(gv.get(a)||null,e,t,n,r,i)),!0}return!1}function IY(e){var t=Kf(e.target);if(t!==null){var n=rh(t);if(n!==null){if(t=n.tag,t===13){if(t=EY(n),t!==null){e.blockedOn=t,jY(e.priority,function(){MY(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F_(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=DT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);OT=r,n.target.dispatchEvent(r),OT=null}else return t=Y1(n),t!==null&&gI(t),e.blockedOn=n,!1;t.shift()}return!0}function XB(e,t,n){F_(e)&&n.delete(t)}function dme(){MT=!1,yc!==null&&F_(yc)&&(yc=null),vc!==null&&F_(vc)&&(vc=null),xc!==null&&F_(xc)&&(xc=null),mv.forEach(XB),gv.forEach(XB)}function xy(e,t){e.blockedOn===t&&(e.blockedOn=null,MT||(MT=!0,Aa.unstable_scheduleCallback(Aa.unstable_NormalPriority,dme)))}function yv(e){function t(i){return xy(i,e)}if(0<Ab.length){xy(Ab[0],e);for(var n=1;n<Ab.length;n++){var r=Ab[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yc!==null&&xy(yc,e),vc!==null&&xy(vc,e),xc!==null&&xy(xc,e),mv.forEach(t),gv.forEach(t),n=0;n<ec.length;n++)r=ec[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ec.length&&(n=ec[0],n.blockedOn===null);)IY(n),n.blockedOn===null&&ec.shift()}var Np=_u.ReactCurrentBatchConfig,$w=!0;function hme(e,t,n,r){var i=Lt,a=Np.transition;Np.transition=null;try{Lt=1,yI(e,t,n,r)}finally{Lt=i,Np.transition=a}}function pme(e,t,n,r){var i=Lt,a=Np.transition;Np.transition=null;try{Lt=4,yI(e,t,n,r)}finally{Lt=i,Np.transition=a}}function yI(e,t,n,r){if($w){var i=DT(e,t,n,r);if(i===null)NO(e,t,r,Tw,n),VB(e,r);else if(fme(i,e,t,n,r))r.stopPropagation();else if(VB(e,r),t&4&&-1<cme.indexOf(e)){for(;i!==null;){var a=Y1(i);if(a!==null&&NY(a),a=DT(e,t,n,r),a===null&&NO(e,t,r,Tw,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else NO(e,t,r,null,n)}}var Tw=null;function DT(e,t,n,r){if(Tw=null,e=hI(r),e=Kf(e),e!==null)if(t=rh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=EY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tw=e,null}function LY(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tme()){case pI:return 1;case OY:return 4;case Ow:case nme:return 16;case PY:return 536870912;default:return 16}default:return 16}}var ic=null,vI=null,R_=null;function FY(){if(R_)return R_;var e,t=vI,n=t.length,r,i="value"in ic?ic.value:ic.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return R_=i.slice(e,1<r?1-r:void 0)}function z_(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kb(){return!0}function YB(){return!1}function Ta(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kb:YB,this.isPropagationStopped=YB,this}return bn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kb)},persist:function(){},isPersistent:kb}),t}var cg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xI=Ta(cg),X1=bn({},cg,{view:0,detail:0}),mme=Ta(X1),SO,EO,by,kE=bn({},X1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==by&&(by&&e.type==="mousemove"?(SO=e.screenX-by.screenX,EO=e.screenY-by.screenY):EO=SO=0,by=e),SO)},movementY:function(e){return"movementY"in e?e.movementY:EO}}),KB=Ta(kE),gme=bn({},kE,{dataTransfer:0}),yme=Ta(gme),vme=bn({},X1,{relatedTarget:0}),AO=Ta(vme),xme=bn({},cg,{animationName:0,elapsedTime:0,pseudoElement:0}),bme=Ta(xme),_me=bn({},cg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wme=Ta(_me),Sme=bn({},cg,{data:0}),ZB=Ta(Sme),Eme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ame={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cme(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kme[e])?!!t[e]:!1}function bI(){return Cme}var Ome=bn({},X1,{key:function(e){if(e.key){var t=Eme[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=z_(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ame[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bI,charCode:function(e){return e.type==="keypress"?z_(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?z_(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pme=Ta(Ome),$me=bn({},kE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QB=Ta($me),Tme=bn({},X1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bI}),Nme=Ta(Tme),Mme=bn({},cg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dme=Ta(Mme),jme=bn({},kE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ime=Ta(jme),Lme=[9,13,27,32],_I=uu&&"CompositionEvent"in window,j0=null;uu&&"documentMode"in document&&(j0=document.documentMode);var Fme=uu&&"TextEvent"in window&&!j0,RY=uu&&(!_I||j0&&8<j0&&11>=j0),JB=" ",e6=!1;function zY(e,t){switch(e){case"keyup":return Lme.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BY(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ap=!1;function Rme(e,t){switch(e){case"compositionend":return BY(t);case"keypress":return t.which!==32?null:(e6=!0,JB);case"textInput":return e=t.data,e===JB&&e6?null:e;default:return null}}function zme(e,t){if(ap)return e==="compositionend"||!_I&&zY(e,t)?(e=FY(),R_=vI=ic=null,ap=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RY&&t.locale!=="ko"?null:t.data;default:return null}}var Bme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bme[e.type]:t==="textarea"}function UY(e,t,n,r){xY(r),t=Nw(t,"onChange"),0<t.length&&(n=new xI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var I0=null,vv=null;function Ume(e){JY(e,0)}function CE(e){var t=lp(e);if(dY(t))return e}function Wme(e,t){if(e==="change")return t}var WY=!1;if(uu){var kO;if(uu){var CO="oninput"in document;if(!CO){var n6=document.createElement("div");n6.setAttribute("oninput","return;"),CO=typeof n6.oninput=="function"}kO=CO}else kO=!1;WY=kO&&(!document.documentMode||9<document.documentMode)}function r6(){I0&&(I0.detachEvent("onpropertychange",HY),vv=I0=null)}function HY(e){if(e.propertyName==="value"&&CE(vv)){var t=[];UY(t,vv,e,hI(e)),SY(Ume,t)}}function Hme(e,t,n){e==="focusin"?(r6(),I0=t,vv=n,I0.attachEvent("onpropertychange",HY)):e==="focusout"&&r6()}function qme(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return CE(vv)}function Gme(e,t){if(e==="click")return CE(t)}function Vme(e,t){if(e==="input"||e==="change")return CE(t)}function Xme(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xo=typeof Object.is=="function"?Object.is:Xme;function xv(e,t){if(Xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gT.call(t,i)||!Xo(e[i],t[i]))return!1}return!0}function i6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a6(e,t){var n=i6(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i6(n)}}function qY(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qY(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GY(){for(var e=window,t=Aw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Aw(e.document)}return t}function wI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yme(e){var t=GY(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qY(n.ownerDocument.documentElement,n)){if(r!==null&&wI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=a6(n,a);var o=a6(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kme=uu&&"documentMode"in document&&11>=document.documentMode,op=null,jT=null,L0=null,IT=!1;function o6(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;IT||op==null||op!==Aw(r)||(r=op,"selectionStart"in r&&wI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),L0&&xv(L0,r)||(L0=r,r=Nw(jT,"onSelect"),0<r.length&&(t=new xI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=op)))}function Cb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sp={animationend:Cb("Animation","AnimationEnd"),animationiteration:Cb("Animation","AnimationIteration"),animationstart:Cb("Animation","AnimationStart"),transitionend:Cb("Transition","TransitionEnd")},OO={},VY={};uu&&(VY=document.createElement("div").style,"AnimationEvent"in window||(delete sp.animationend.animation,delete sp.animationiteration.animation,delete sp.animationstart.animation),"TransitionEvent"in window||delete sp.transitionend.transition);function OE(e){if(OO[e])return OO[e];if(!sp[e])return e;var t=sp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VY)return OO[e]=t[n];return e}var XY=OE("animationend"),YY=OE("animationiteration"),KY=OE("animationstart"),ZY=OE("transitionend"),QY=new Map,s6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xc(e,t){QY.set(e,t),nh(t,[e])}for(var PO=0;PO<s6.length;PO++){var $O=s6[PO],Zme=$O.toLowerCase(),Qme=$O[0].toUpperCase()+$O.slice(1);Xc(Zme,"on"+Qme)}Xc(XY,"onAnimationEnd");Xc(YY,"onAnimationIteration");Xc(KY,"onAnimationStart");Xc("dblclick","onDoubleClick");Xc("focusin","onFocus");Xc("focusout","onBlur");Xc(ZY,"onTransitionEnd");Kp("onMouseEnter",["mouseout","mouseover"]);Kp("onMouseLeave",["mouseout","mouseover"]);Kp("onPointerEnter",["pointerout","pointerover"]);Kp("onPointerLeave",["pointerout","pointerover"]);nh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nh("onBeforeInput",["compositionend","keypress","textInput","paste"]);nh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var o0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jme=new Set("cancel close invalid load scroll toggle".split(" ").concat(o0));function l6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zpe(r,t,void 0,e),e.currentTarget=null}function JY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;l6(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;l6(i,s,u),a=l}}}if(Cw)throw e=TT,Cw=!1,TT=null,e}function en(e,t){var n=t[BT];n===void 0&&(n=t[BT]=new Set);var r=e+"__bubble";n.has(r)||(eK(t,e,2,!1),n.add(r))}function TO(e,t,n){var r=0;t&&(r|=4),eK(n,e,r,t)}var Ob="_reactListening"+Math.random().toString(36).slice(2);function bv(e){if(!e[Ob]){e[Ob]=!0,sY.forEach(function(n){n!=="selectionchange"&&(Jme.has(n)||TO(n,!1,e),TO(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ob]||(t[Ob]=!0,TO("selectionchange",!1,t))}}function eK(e,t,n,r){switch(LY(t)){case 1:var i=hme;break;case 4:i=pme;break;default:i=yI}n=i.bind(null,t,n,e),i=void 0,!$T||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function NO(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Kf(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}SY(function(){var u=a,c=hI(n),f=[];e:{var d=QY.get(e);if(d!==void 0){var p=xI,m=e;switch(e){case"keypress":if(z_(n)===0)break e;case"keydown":case"keyup":p=Pme;break;case"focusin":m="focus",p=AO;break;case"focusout":m="blur",p=AO;break;case"beforeblur":case"afterblur":p=AO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Nme;break;case XY:case YY:case KY:p=bme;break;case ZY:p=Dme;break;case"scroll":p=mme;break;case"wheel":p=Ime;break;case"copy":case"cut":case"paste":p=wme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=QB}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var b=u,_;b!==null;){_=b;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,v!==null&&(k=pv(b,v),k!=null&&g.push(_v(b,k,_)))),x)break;b=b.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==OT&&(m=n.relatedTarget||n.fromElement)&&(Kf(m)||m[cu]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Kf(m):null,m!==null&&(x=rh(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=KB,k="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=QB,k="onPointerLeave",v="onPointerEnter",b="pointer"),x=p==null?d:lp(p),_=m==null?d:lp(m),d=new g(k,b+"leave",p,n,c),d.target=x,d.relatedTarget=_,k=null,Kf(c)===u&&(g=new g(v,b+"enter",m,n,c),g.target=_,g.relatedTarget=x,k=g),x=k,p&&m)t:{for(g=p,v=m,b=0,_=g;_;_=Lh(_))b++;for(_=0,k=v;k;k=Lh(k))_++;for(;0<b-_;)g=Lh(g),b--;for(;0<_-b;)v=Lh(v),_--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Lh(g),v=Lh(v)}g=null}else g=null;p!==null&&u6(f,d,p,g,!1),m!==null&&x!==null&&u6(f,x,m,g,!0)}}e:{if(d=u?lp(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=Wme;else if(t6(d))if(WY)E=Vme;else{E=qme;var A=Hme}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Gme);if(E&&(E=E(e,u))){UY(f,E,n,c);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&ST(d,"number",d.value)}switch(A=u?lp(u):window,e){case"focusin":(t6(A)||A.contentEditable==="true")&&(op=A,jT=u,L0=null);break;case"focusout":L0=jT=op=null;break;case"mousedown":IT=!0;break;case"contextmenu":case"mouseup":case"dragend":IT=!1,o6(f,n,c);break;case"selectionchange":if(Kme)break;case"keydown":case"keyup":o6(f,n,c)}var C;if(_I)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ap?zY(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(RY&&n.locale!=="ko"&&(ap||P!=="onCompositionStart"?P==="onCompositionEnd"&&ap&&(C=FY()):(ic=c,vI="value"in ic?ic.value:ic.textContent,ap=!0)),A=Nw(u,P),0<A.length&&(P=new ZB(P,e,null,n,c),f.push({event:P,listeners:A}),C?P.data=C:(C=BY(n),C!==null&&(P.data=C)))),(C=Fme?Rme(e,n):zme(e,n))&&(u=Nw(u,"onBeforeInput"),0<u.length&&(c=new ZB("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}JY(f,t)})}function _v(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=pv(e,n),a!=null&&r.unshift(_v(e,a,i)),a=pv(e,t),a!=null&&r.push(_v(e,a,i))),e=e.return}return r}function Lh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u6(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=pv(n,a),l!=null&&o.unshift(_v(n,l,s))):i||(l=pv(n,a),l!=null&&o.push(_v(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ege=/\r\n?/g,tge=/\u0000|\uFFFD/g;function c6(e){return(typeof e=="string"?e:""+e).replace(ege,`
`).replace(tge,"")}function Pb(e,t,n){if(t=c6(t),c6(e)!==t&&n)throw Error(pe(425))}function Mw(){}var LT=null,FT=null;function RT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zT=typeof setTimeout=="function"?setTimeout:void 0,nge=typeof clearTimeout=="function"?clearTimeout:void 0,f6=typeof Promise=="function"?Promise:void 0,rge=typeof queueMicrotask=="function"?queueMicrotask:typeof f6<"u"?function(e){return f6.resolve(null).then(e).catch(ige)}:zT;function ige(e){setTimeout(function(){throw e})}function MO(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),yv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yv(t)}function bc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fg=Math.random().toString(36).slice(2),ks="__reactFiber$"+fg,wv="__reactProps$"+fg,cu="__reactContainer$"+fg,BT="__reactEvents$"+fg,age="__reactListeners$"+fg,oge="__reactHandles$"+fg;function Kf(e){var t=e[ks];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cu]||n[ks]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=d6(e);e!==null;){if(n=e[ks])return n;e=d6(e)}return t}e=n,n=e.parentNode}return null}function Y1(e){return e=e[ks]||e[cu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function PE(e){return e[wv]||null}var UT=[],up=-1;function Yc(e){return{current:e}}function sn(e){0>up||(e.current=UT[up],UT[up]=null,up--)}function Zt(e,t){up++,UT[up]=e.current,e.current=t}var Nc={},Jr=Yc(Nc),Wi=Yc(!1),xd=Nc;function Zp(e,t){var n=e.type.contextTypes;if(!n)return Nc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hi(e){return e=e.childContextTypes,e!=null}function Dw(){sn(Wi),sn(Jr)}function h6(e,t,n){if(Jr.current!==Nc)throw Error(pe(168));Zt(Jr,t),Zt(Wi,n)}function tK(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(pe(108,Hpe(e)||"Unknown",i));return bn({},n,r)}function jw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nc,xd=Jr.current,Zt(Jr,e),Zt(Wi,Wi.current),!0}function p6(e,t,n){var r=e.stateNode;if(!r)throw Error(pe(169));n?(e=tK(e,t,xd),r.__reactInternalMemoizedMergedChildContext=e,sn(Wi),sn(Jr),Zt(Jr,e)):sn(Wi),Zt(Wi,n)}var jl=null,$E=!1,DO=!1;function nK(e){jl===null?jl=[e]:jl.push(e)}function sge(e){$E=!0,nK(e)}function Kc(){if(!DO&&jl!==null){DO=!0;var e=0,t=Lt;try{var n=jl;for(Lt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jl=null,$E=!1}catch(i){throw jl!==null&&(jl=jl.slice(e+1)),CY(pI,Kc),i}finally{Lt=t,DO=!1}}return null}var cp=[],fp=0,Iw=null,Lw=0,Wa=[],Ha=0,bd=null,Wl=1,Hl="";function If(e,t){cp[fp++]=Lw,cp[fp++]=Iw,Iw=e,Lw=t}function rK(e,t,n){Wa[Ha++]=Wl,Wa[Ha++]=Hl,Wa[Ha++]=bd,bd=e;var r=Wl;e=Hl;var i=32-Wo(r)-1;r&=~(1<<i),n+=1;var a=32-Wo(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wl=1<<32-Wo(t)+i|n<<i|r,Hl=a+e}else Wl=1<<a|n<<i|r,Hl=e}function SI(e){e.return!==null&&(If(e,1),rK(e,1,0))}function EI(e){for(;e===Iw;)Iw=cp[--fp],cp[fp]=null,Lw=cp[--fp],cp[fp]=null;for(;e===bd;)bd=Wa[--Ha],Wa[Ha]=null,Hl=Wa[--Ha],Wa[Ha]=null,Wl=Wa[--Ha],Wa[Ha]=null}var ba=null,ga=null,cn=!1,Do=null;function iK(e,t){var n=Ya(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function m6(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ba=e,ga=bc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ba=e,ga=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bd!==null?{id:Wl,overflow:Hl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ya(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ba=e,ga=null,!0):!1;default:return!1}}function WT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function HT(e){if(cn){var t=ga;if(t){var n=t;if(!m6(e,t)){if(WT(e))throw Error(pe(418));t=bc(n.nextSibling);var r=ba;t&&m6(e,t)?iK(r,n):(e.flags=e.flags&-4097|2,cn=!1,ba=e)}}else{if(WT(e))throw Error(pe(418));e.flags=e.flags&-4097|2,cn=!1,ba=e}}}function g6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ba=e}function $b(e){if(e!==ba)return!1;if(!cn)return g6(e),cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!RT(e.type,e.memoizedProps)),t&&(t=ga)){if(WT(e))throw aK(),Error(pe(418));for(;t;)iK(e,t),t=bc(t.nextSibling)}if(g6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ga=bc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ga=null}}else ga=ba?bc(e.stateNode.nextSibling):null;return!0}function aK(){for(var e=ga;e;)e=bc(e.nextSibling)}function Qp(){ga=ba=null,cn=!1}function AI(e){Do===null?Do=[e]:Do.push(e)}var lge=_u.ReactCurrentBatchConfig;function _y(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,e))}return e}function Tb(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y6(e){var t=e._init;return t(e._payload)}function oK(e){function t(v,b){if(e){var _=v.deletions;_===null?(v.deletions=[b],v.flags|=16):_.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Ec(v,b),v.index=0,v.sibling=null,v}function a(v,b,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<b?(v.flags|=2,b):_):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,b,_,k){return b===null||b.tag!==6?(b=BO(_,v.mode,k),b.return=v,b):(b=i(b,_),b.return=v,b)}function l(v,b,_,k){var E=_.type;return E===ip?c(v,b,_.props.children,k,_.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gu&&y6(E)===b.type)?(k=i(b,_.props),k.ref=_y(v,b,_),k.return=v,k):(k=V_(_.type,_.key,_.props,null,v.mode,k),k.ref=_y(v,b,_),k.return=v,k)}function u(v,b,_,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=UO(_,v.mode,k),b.return=v,b):(b=i(b,_.children||[]),b.return=v,b)}function c(v,b,_,k,E){return b===null||b.tag!==7?(b=od(_,v.mode,k,E),b.return=v,b):(b=i(b,_),b.return=v,b)}function f(v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=BO(""+b,v.mode,_),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bb:return _=V_(b.type,b.key,b.props,null,v.mode,_),_.ref=_y(v,null,b),_.return=v,_;case rp:return b=UO(b,v.mode,_),b.return=v,b;case Gu:var k=b._init;return f(v,k(b._payload),_)}if(i0(b)||gy(b))return b=od(b,v.mode,_,null),b.return=v,b;Tb(v,b)}return null}function d(v,b,_,k){var E=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(v,b,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bb:return _.key===E?l(v,b,_,k):null;case rp:return _.key===E?u(v,b,_,k):null;case Gu:return E=_._init,d(v,b,E(_._payload),k)}if(i0(_)||gy(_))return E!==null?null:c(v,b,_,k,null);Tb(v,_)}return null}function p(v,b,_,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(_)||null,s(b,v,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case bb:return v=v.get(k.key===null?_:k.key)||null,l(b,v,k,E);case rp:return v=v.get(k.key===null?_:k.key)||null,u(b,v,k,E);case Gu:var A=k._init;return p(v,b,_,A(k._payload),E)}if(i0(k)||gy(k))return v=v.get(_)||null,c(b,v,k,E,null);Tb(b,k)}return null}function m(v,b,_,k){for(var E=null,A=null,C=b,P=b=0,T=null;C!==null&&P<_.length;P++){C.index>P?(T=C,C=null):T=C.sibling;var D=d(v,C,_[P],k);if(D===null){C===null&&(C=T);break}e&&C&&D.alternate===null&&t(v,C),b=a(D,b,P),A===null?E=D:A.sibling=D,A=D,C=T}if(P===_.length)return n(v,C),cn&&If(v,P),E;if(C===null){for(;P<_.length;P++)C=f(v,_[P],k),C!==null&&(b=a(C,b,P),A===null?E=C:A.sibling=C,A=C);return cn&&If(v,P),E}for(C=r(v,C);P<_.length;P++)T=p(C,v,P,_[P],k),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),b=a(T,b,P),A===null?E=T:A.sibling=T,A=T);return e&&C.forEach(function(j){return t(v,j)}),cn&&If(v,P),E}function g(v,b,_,k){var E=gy(_);if(typeof E!="function")throw Error(pe(150));if(_=E.call(_),_==null)throw Error(pe(151));for(var A=E=null,C=b,P=b=0,T=null,D=_.next();C!==null&&!D.done;P++,D=_.next()){C.index>P?(T=C,C=null):T=C.sibling;var j=d(v,C,D.value,k);if(j===null){C===null&&(C=T);break}e&&C&&j.alternate===null&&t(v,C),b=a(j,b,P),A===null?E=j:A.sibling=j,A=j,C=T}if(D.done)return n(v,C),cn&&If(v,P),E;if(C===null){for(;!D.done;P++,D=_.next())D=f(v,D.value,k),D!==null&&(b=a(D,b,P),A===null?E=D:A.sibling=D,A=D);return cn&&If(v,P),E}for(C=r(v,C);!D.done;P++,D=_.next())D=p(C,v,P,D.value,k),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?P:D.key),b=a(D,b,P),A===null?E=D:A.sibling=D,A=D);return e&&C.forEach(function(I){return t(v,I)}),cn&&If(v,P),E}function x(v,b,_,k){if(typeof _=="object"&&_!==null&&_.type===ip&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case bb:e:{for(var E=_.key,A=b;A!==null;){if(A.key===E){if(E=_.type,E===ip){if(A.tag===7){n(v,A.sibling),b=i(A,_.props.children),b.return=v,v=b;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gu&&y6(E)===A.type){n(v,A.sibling),b=i(A,_.props),b.ref=_y(v,A,_),b.return=v,v=b;break e}n(v,A);break}else t(v,A);A=A.sibling}_.type===ip?(b=od(_.props.children,v.mode,k,_.key),b.return=v,v=b):(k=V_(_.type,_.key,_.props,null,v.mode,k),k.ref=_y(v,b,_),k.return=v,v=k)}return o(v);case rp:e:{for(A=_.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(v,b.sibling),b=i(b,_.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=UO(_,v.mode,k),b.return=v,v=b}return o(v);case Gu:return A=_._init,x(v,b,A(_._payload),k)}if(i0(_))return m(v,b,_,k);if(gy(_))return g(v,b,_,k);Tb(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,_),b.return=v,v=b):(n(v,b),b=BO(_,v.mode,k),b.return=v,v=b),o(v)):n(v,b)}return x}var Jp=oK(!0),sK=oK(!1),Fw=Yc(null),Rw=null,dp=null,kI=null;function CI(){kI=dp=Rw=null}function OI(e){var t=Fw.current;sn(Fw),e._currentValue=t}function qT(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mp(e,t){Rw=e,kI=dp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bi=!0),e.firstContext=null)}function io(e){var t=e._currentValue;if(kI!==e)if(e={context:e,memoizedValue:t,next:null},dp===null){if(Rw===null)throw Error(pe(308));dp=e,Rw.dependencies={lanes:0,firstContext:e}}else dp=dp.next=e;return t}var Zf=null;function PI(e){Zf===null?Zf=[e]:Zf.push(e)}function lK(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,PI(t)):(n.next=i.next,i.next=n),t.interleaved=n,fu(e,r)}function fu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vu=!1;function $I(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ql(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _c(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fu(e,n)}return i=r.interleaved,i===null?(t.next=t,PI(r)):(t.next=i.next,i.next=t),r.interleaved=t,fu(e,n)}function B_(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mI(e,n)}}function v6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zw(e,t,n,r){var i=e.updateQueue;Vu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(d=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=bn({},f,d);break e;case 2:Vu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);wd|=o,e.lanes=o,e.memoizedState=f}}function x6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var K1={},Is=Yc(K1),Sv=Yc(K1),Ev=Yc(K1);function Qf(e){if(e===K1)throw Error(pe(174));return e}function TI(e,t){switch(Zt(Ev,t),Zt(Sv,e),Zt(Is,K1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:AT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=AT(t,e)}sn(Is),Zt(Is,t)}function em(){sn(Is),sn(Sv),sn(Ev)}function cK(e){Qf(Ev.current);var t=Qf(Is.current),n=AT(t,e.type);t!==n&&(Zt(Sv,e),Zt(Is,n))}function NI(e){Sv.current===e&&(sn(Is),sn(Sv))}var gn=Yc(0);function Bw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jO=[];function MI(){for(var e=0;e<jO.length;e++)jO[e]._workInProgressVersionPrimary=null;jO.length=0}var U_=_u.ReactCurrentDispatcher,IO=_u.ReactCurrentBatchConfig,_d=0,xn=null,Wn=null,tr=null,Uw=!1,F0=!1,Av=0,uge=0;function Dr(){throw Error(pe(321))}function DI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xo(e[n],t[n]))return!1;return!0}function jI(e,t,n,r,i,a){if(_d=a,xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U_.current=e===null||e.memoizedState===null?hge:pge,e=n(r,i),F0){a=0;do{if(F0=!1,Av=0,25<=a)throw Error(pe(301));a+=1,tr=Wn=null,t.updateQueue=null,U_.current=mge,e=n(r,i)}while(F0)}if(U_.current=Ww,t=Wn!==null&&Wn.next!==null,_d=0,tr=Wn=xn=null,Uw=!1,t)throw Error(pe(300));return e}function II(){var e=Av!==0;return Av=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?xn.memoizedState=tr=e:tr=tr.next=e,tr}function ao(){if(Wn===null){var e=xn.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=tr===null?xn.memoizedState:tr.next;if(t!==null)tr=t,Wn=e;else{if(e===null)throw Error(pe(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},tr===null?xn.memoizedState=tr=e:tr=tr.next=e}return tr}function kv(e,t){return typeof t=="function"?t(e):t}function LO(e){var t=ao(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=Wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((_d&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,xn.lanes|=c,wd|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Xo(r,t.memoizedState)||(Bi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,xn.lanes|=a,wd|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function FO(e){var t=ao(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Xo(a,t.memoizedState)||(Bi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fK(){}function dK(e,t){var n=xn,r=ao(),i=t(),a=!Xo(r.memoizedState,i);if(a&&(r.memoizedState=i,Bi=!0),r=r.queue,LI(mK.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||tr!==null&&tr.memoizedState.tag&1){if(n.flags|=2048,Cv(9,pK.bind(null,n,r,i,t),void 0,null),fr===null)throw Error(pe(349));_d&30||hK(n,t,i)}return i}function hK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pK(e,t,n,r){t.value=n,t.getSnapshot=r,gK(t)&&yK(e)}function mK(e,t,n){return n(function(){gK(t)&&yK(e)})}function gK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xo(e,n)}catch{return!0}}function yK(e){var t=fu(e,1);t!==null&&Ho(t,e,1,-1)}function b6(e){var t=bs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:e},t.queue=e,e=e.dispatch=dge.bind(null,xn,e),[t.memoizedState,e]}function Cv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vK(){return ao().memoizedState}function W_(e,t,n,r){var i=bs();xn.flags|=e,i.memoizedState=Cv(1|t,n,void 0,r===void 0?null:r)}function TE(e,t,n,r){var i=ao();r=r===void 0?null:r;var a=void 0;if(Wn!==null){var o=Wn.memoizedState;if(a=o.destroy,r!==null&&DI(r,o.deps)){i.memoizedState=Cv(t,n,a,r);return}}xn.flags|=e,i.memoizedState=Cv(1|t,n,a,r)}function _6(e,t){return W_(8390656,8,e,t)}function LI(e,t){return TE(2048,8,e,t)}function xK(e,t){return TE(4,2,e,t)}function bK(e,t){return TE(4,4,e,t)}function _K(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wK(e,t,n){return n=n!=null?n.concat([e]):null,TE(4,4,_K.bind(null,t,e),n)}function FI(){}function SK(e,t){var n=ao();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&DI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EK(e,t){var n=ao();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&DI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AK(e,t,n){return _d&21?(Xo(n,t)||(n=$Y(),xn.lanes|=n,wd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bi=!0),e.memoizedState=n)}function cge(e,t){var n=Lt;Lt=n!==0&&4>n?n:4,e(!0);var r=IO.transition;IO.transition={};try{e(!1),t()}finally{Lt=n,IO.transition=r}}function kK(){return ao().memoizedState}function fge(e,t,n){var r=Sc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CK(e))OK(t,n);else if(n=lK(e,t,n,r),n!==null){var i=bi();Ho(n,e,r,i),PK(n,t,r)}}function dge(e,t,n){var r=Sc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CK(e))OK(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xo(s,o)){var l=t.interleaved;l===null?(i.next=i,PI(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=lK(e,t,i,r),n!==null&&(i=bi(),Ho(n,e,r,i),PK(n,t,r))}}function CK(e){var t=e.alternate;return e===xn||t!==null&&t===xn}function OK(e,t){F0=Uw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PK(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mI(e,n)}}var Ww={readContext:io,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},hge={readContext:io,useCallback:function(e,t){return bs().memoizedState=[e,t===void 0?null:t],e},useContext:io,useEffect:_6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,W_(4194308,4,_K.bind(null,t,e),n)},useLayoutEffect:function(e,t){return W_(4194308,4,e,t)},useInsertionEffect:function(e,t){return W_(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fge.bind(null,xn,e),[r.memoizedState,e]},useRef:function(e){var t=bs();return e={current:e},t.memoizedState=e},useState:b6,useDebugValue:FI,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=b6(!1),t=e[0];return e=cge.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xn,i=bs();if(cn){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=t(),fr===null)throw Error(pe(349));_d&30||hK(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,_6(mK.bind(null,r,a,e),[e]),r.flags|=2048,Cv(9,pK.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=bs(),t=fr.identifierPrefix;if(cn){var n=Hl,r=Wl;n=(r&~(1<<32-Wo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Av++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uge++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pge={readContext:io,useCallback:SK,useContext:io,useEffect:LI,useImperativeHandle:wK,useInsertionEffect:xK,useLayoutEffect:bK,useMemo:EK,useReducer:LO,useRef:vK,useState:function(){return LO(kv)},useDebugValue:FI,useDeferredValue:function(e){var t=ao();return AK(t,Wn.memoizedState,e)},useTransition:function(){var e=LO(kv)[0],t=ao().memoizedState;return[e,t]},useMutableSource:fK,useSyncExternalStore:dK,useId:kK,unstable_isNewReconciler:!1},mge={readContext:io,useCallback:SK,useContext:io,useEffect:LI,useImperativeHandle:wK,useInsertionEffect:xK,useLayoutEffect:bK,useMemo:EK,useReducer:FO,useRef:vK,useState:function(){return FO(kv)},useDebugValue:FI,useDeferredValue:function(e){var t=ao();return Wn===null?t.memoizedState=e:AK(t,Wn.memoizedState,e)},useTransition:function(){var e=FO(kv)[0],t=ao().memoizedState;return[e,t]},useMutableSource:fK,useSyncExternalStore:dK,useId:kK,unstable_isNewReconciler:!1};function Po(e,t){if(e&&e.defaultProps){t=bn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function GT(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:bn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var NE={isMounted:function(e){return(e=e._reactInternals)?rh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bi(),i=Sc(e),a=Ql(r,i);a.payload=t,n!=null&&(a.callback=n),t=_c(e,a,i),t!==null&&(Ho(t,e,i,r),B_(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bi(),i=Sc(e),a=Ql(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=_c(e,a,i),t!==null&&(Ho(t,e,i,r),B_(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bi(),r=Sc(e),i=Ql(n,r);i.tag=2,t!=null&&(i.callback=t),t=_c(e,i,r),t!==null&&(Ho(t,e,r,n),B_(t,e,r))}};function w6(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!xv(n,r)||!xv(i,a):!0}function $K(e,t,n){var r=!1,i=Nc,a=t.contextType;return typeof a=="object"&&a!==null?a=io(a):(i=Hi(t)?xd:Jr.current,r=t.contextTypes,a=(r=r!=null)?Zp(e,i):Nc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=NE,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function S6(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&NE.enqueueReplaceState(t,t.state,null)}function VT(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$I(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=io(a):(a=Hi(t)?xd:Jr.current,i.context=Zp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(GT(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&NE.enqueueReplaceState(i,i.state,null),zw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function tm(e,t){try{var n="",r=t;do n+=Wpe(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function RO(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function XT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gge=typeof WeakMap=="function"?WeakMap:Map;function TK(e,t,n){n=Ql(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qw||(qw=!0,iN=r),XT(e,t)},n}function NK(e,t,n){n=Ql(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){XT(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){XT(e,t),typeof r!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function E6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gge;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$ge.bind(null,e,t,n),t.then(e,e))}function A6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k6(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ql(-1,1),t.tag=2,_c(n,t,1))),n.lanes|=1),e)}var yge=_u.ReactCurrentOwner,Bi=!1;function ui(e,t,n,r){t.child=e===null?sK(t,null,n,r):Jp(t,e.child,n,r)}function C6(e,t,n,r,i){n=n.render;var a=t.ref;return Mp(t,i),r=jI(e,t,n,r,a,i),n=II(),e!==null&&!Bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,du(e,t,i)):(cn&&n&&SI(t),t.flags|=1,ui(e,t,r,i),t.child)}function O6(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!GI(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,MK(e,t,a,r,i)):(e=V_(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:xv,n(o,r)&&e.ref===t.ref)return du(e,t,i)}return t.flags|=1,e=Ec(a,r),e.ref=t.ref,e.return=t,t.child=e}function MK(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(xv(a,r)&&e.ref===t.ref)if(Bi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Bi=!0);else return t.lanes=e.lanes,du(e,t,i)}return YT(e,t,n,r,i)}function DK(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(pp,ua),ua|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zt(pp,ua),ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Zt(pp,ua),ua|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Zt(pp,ua),ua|=r;return ui(e,t,i,n),t.child}function jK(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function YT(e,t,n,r,i){var a=Hi(n)?xd:Jr.current;return a=Zp(t,a),Mp(t,i),n=jI(e,t,n,r,a,i),r=II(),e!==null&&!Bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,du(e,t,i)):(cn&&r&&SI(t),t.flags|=1,ui(e,t,n,i),t.child)}function P6(e,t,n,r,i){if(Hi(n)){var a=!0;jw(t)}else a=!1;if(Mp(t,i),t.stateNode===null)H_(e,t),$K(t,n,r),VT(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=io(u):(u=Hi(n)?xd:Jr.current,u=Zp(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&S6(t,o,r,u),Vu=!1;var d=t.memoizedState;o.state=d,zw(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Wi.current||Vu?(typeof c=="function"&&(GT(t,n,c,r),l=t.memoizedState),(s=Vu||w6(t,n,s,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,uK(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Po(t.type,s),o.props=u,f=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=io(l):(l=Hi(n)?xd:Jr.current,l=Zp(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&S6(t,o,r,l),Vu=!1,d=t.memoizedState,o.state=d,zw(t,r,o,i);var m=t.memoizedState;s!==f||d!==m||Wi.current||Vu?(typeof p=="function"&&(GT(t,n,p,r),m=t.memoizedState),(u=Vu||w6(t,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return KT(e,t,n,r,a,i)}function KT(e,t,n,r,i,a){jK(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&p6(t,n,!1),du(e,t,a);r=t.stateNode,yge.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jp(t,e.child,null,a),t.child=Jp(t,null,s,a)):ui(e,t,s,a),t.memoizedState=r.state,i&&p6(t,n,!0),t.child}function IK(e){var t=e.stateNode;t.pendingContext?h6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h6(e,t.context,!1),TI(e,t.containerInfo)}function $6(e,t,n,r,i){return Qp(),AI(i),t.flags|=256,ui(e,t,n,r),t.child}var ZT={dehydrated:null,treeContext:null,retryLane:0};function QT(e){return{baseLanes:e,cachePool:null,transitions:null}}function LK(e,t,n){var r=t.pendingProps,i=gn.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Zt(gn,i&1),e===null)return HT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jE(o,r,0,null),e=od(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=QT(n),t.memoizedState=ZT,e):RI(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return vge(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ec(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ec(s,a):(a=od(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?QT(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=ZT,r}return a=e.child,e=a.sibling,r=Ec(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function RI(e,t){return t=jE({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nb(e,t,n,r){return r!==null&&AI(r),Jp(t,e.child,null,n),e=RI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vge(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=RO(Error(pe(422))),Nb(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jE({mode:"visible",children:r.children},i,0,null),a=od(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Jp(t,e.child,null,o),t.child.memoizedState=QT(o),t.memoizedState=ZT,a);if(!(t.mode&1))return Nb(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(pe(419)),r=RO(a,r,void 0),Nb(e,t,o,r)}if(s=(o&e.childLanes)!==0,Bi||s){if(r=fr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fu(e,i),Ho(r,e,i,-1))}return qI(),r=RO(Error(pe(421))),Nb(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tge.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ga=bc(i.nextSibling),ba=t,cn=!0,Do=null,e!==null&&(Wa[Ha++]=Wl,Wa[Ha++]=Hl,Wa[Ha++]=bd,Wl=e.id,Hl=e.overflow,bd=t),t=RI(t,r.children),t.flags|=4096,t)}function T6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qT(e.return,t,n)}function zO(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function FK(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ui(e,t,r.children,n),r=gn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T6(e,n,t);else if(e.tag===19)T6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zt(gn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zO(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zO(t,!0,n,null,a);break;case"together":zO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function H_(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function du(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,n=Ec(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ec(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xge(e,t,n){switch(t.tag){case 3:IK(t),Qp();break;case 5:cK(t);break;case 1:Hi(t.type)&&jw(t);break;case 4:TI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Zt(Fw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Zt(gn,gn.current&1),t.flags|=128,null):n&t.child.childLanes?LK(e,t,n):(Zt(gn,gn.current&1),e=du(e,t,n),e!==null?e.sibling:null);Zt(gn,gn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FK(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(gn,gn.current),r)break;return null;case 22:case 23:return t.lanes=0,DK(e,t,n)}return du(e,t,n)}var RK,JT,zK,BK;RK=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};JT=function(){};zK=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qf(Is.current);var a=null;switch(n){case"input":i=_T(e,i),r=_T(e,r),a=[];break;case"select":i=bn({},i,{value:void 0}),r=bn({},r,{value:void 0}),a=[];break;case"textarea":i=ET(e,i),r=ET(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mw)}kT(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dv.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dv.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&en("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};BK=function(e,t,n,r){n!==r&&(t.flags|=4)};function wy(e,t){if(!cn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bge(e,t,n){var r=t.pendingProps;switch(EI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(t),null;case 1:return Hi(t.type)&&Dw(),jr(t),null;case 3:return r=t.stateNode,em(),sn(Wi),sn(Jr),MI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($b(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Do!==null&&(sN(Do),Do=null))),JT(e,t),jr(t),null;case 5:NI(t);var i=Qf(Ev.current);if(n=t.type,e!==null&&t.stateNode!=null)zK(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(pe(166));return jr(t),null}if(e=Qf(Is.current),$b(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ks]=t,r[wv]=a,e=(t.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<o0.length;i++)en(o0[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":zB(r,a),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},en("invalid",r);break;case"textarea":UB(r,a),en("invalid",r)}kT(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Pb(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Pb(r.textContent,s,e),i=["children",""+s]):dv.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":_b(r),BB(r,a,!0);break;case"textarea":_b(r),WB(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Mw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mY(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ks]=t,e[wv]=r,RK(e,t,!1,!1),t.stateNode=e;e:{switch(o=CT(n,r),n){case"dialog":en("cancel",e),en("close",e),i=r;break;case"iframe":case"object":case"embed":en("load",e),i=r;break;case"video":case"audio":for(i=0;i<o0.length;i++)en(o0[i],e);i=r;break;case"source":en("error",e),i=r;break;case"img":case"image":case"link":en("error",e),en("load",e),i=r;break;case"details":en("toggle",e),i=r;break;case"input":zB(e,r),i=_T(e,r),en("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=bn({},r,{value:void 0}),en("invalid",e);break;case"textarea":UB(e,r),i=ET(e,r),en("invalid",e);break;default:i=r}kT(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?vY(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gY(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hv(e,l):typeof l=="number"&&hv(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dv.hasOwnProperty(a)?l!=null&&a==="onScroll"&&en("scroll",e):l!=null&&uI(e,a,l,o))}switch(n){case"input":_b(e),BB(e,r,!1);break;case"textarea":_b(e),WB(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tc(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Pp(e,!!r.multiple,a,!1):r.defaultValue!=null&&Pp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jr(t),null;case 6:if(e&&t.stateNode!=null)BK(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(pe(166));if(n=Qf(Ev.current),Qf(Is.current),$b(t)){if(r=t.stateNode,n=t.memoizedProps,r[ks]=t,(a=r.nodeValue!==n)&&(e=ba,e!==null))switch(e.tag){case 3:Pb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pb(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=t,t.stateNode=r}return jr(t),null;case 13:if(sn(gn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cn&&ga!==null&&t.mode&1&&!(t.flags&128))aK(),Qp(),t.flags|=98560,a=!1;else if(a=$b(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[ks]=t}else Qp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jr(t),a=!1}else Do!==null&&(sN(Do),Do=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gn.current&1?Gn===0&&(Gn=3):qI())),t.updateQueue!==null&&(t.flags|=4),jr(t),null);case 4:return em(),JT(e,t),e===null&&bv(t.stateNode.containerInfo),jr(t),null;case 10:return OI(t.type._context),jr(t),null;case 17:return Hi(t.type)&&Dw(),jr(t),null;case 19:if(sn(gn),a=t.memoizedState,a===null)return jr(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)wy(a,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bw(e),o!==null){for(t.flags|=128,wy(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zt(gn,gn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Pn()>nm&&(t.flags|=128,r=!0,wy(a,!1),t.lanes=4194304)}else{if(!r)if(e=Bw(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wy(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!cn)return jr(t),null}else 2*Pn()-a.renderingStartTime>nm&&n!==1073741824&&(t.flags|=128,r=!0,wy(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pn(),t.sibling=null,n=gn.current,Zt(gn,r?n&1|2:n&1),t):(jr(t),null);case 22:case 23:return HI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ua&1073741824&&(jr(t),t.subtreeFlags&6&&(t.flags|=8192)):jr(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function _ge(e,t){switch(EI(t),t.tag){case 1:return Hi(t.type)&&Dw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return em(),sn(Wi),sn(Jr),MI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return NI(t),null;case 13:if(sn(gn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Qp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sn(gn),null;case 4:return em(),null;case 10:return OI(t.type._context),null;case 22:case 23:return HI(),null;case 24:return null;default:return null}}var Mb=!1,Ur=!1,wge=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function hp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sn(e,t,r)}else n.current=null}function eN(e,t,n){try{n()}catch(r){Sn(e,t,r)}}var N6=!1;function Sge(e,t){if(LT=$w,e=GY(),wI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=o),d===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(FT={focusedElem:e,selectionRange:n},$w=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Po(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(k){Sn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return m=N6,N6=!1,m}function R0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&eN(t,n,a)}i=i.next}while(i!==r)}}function ME(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function UK(e){var t=e.alternate;t!==null&&(e.alternate=null,UK(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ks],delete t[wv],delete t[BT],delete t[age],delete t[oge])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WK(e){return e.tag===5||e.tag===3||e.tag===4}function M6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WK(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mw));else if(r!==4&&(e=e.child,e!==null))for(nN(e,t,n),e=e.sibling;e!==null;)nN(e,t,n),e=e.sibling}function rN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rN(e,t,n),e=e.sibling;e!==null;)rN(e,t,n),e=e.sibling}var xr=null,$o=!1;function Ru(e,t,n){for(n=n.child;n!==null;)HK(e,t,n),n=n.sibling}function HK(e,t,n){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(AE,n)}catch{}switch(n.tag){case 5:Ur||hp(n,t);case 6:var r=xr,i=$o;xr=null,Ru(e,t,n),xr=r,$o=i,xr!==null&&($o?(e=xr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&($o?(e=xr,n=n.stateNode,e.nodeType===8?MO(e.parentNode,n):e.nodeType===1&&MO(e,n),yv(e)):MO(xr,n.stateNode));break;case 4:r=xr,i=$o,xr=n.stateNode.containerInfo,$o=!0,Ru(e,t,n),xr=r,$o=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&eN(n,t,o),i=i.next}while(i!==r)}Ru(e,t,n);break;case 1:if(!Ur&&(hp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sn(n,t,s)}Ru(e,t,n);break;case 21:Ru(e,t,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,Ru(e,t,n),Ur=r):Ru(e,t,n);break;default:Ru(e,t,n)}}function D6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wge),t.forEach(function(r){var i=Nge.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Eo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:xr=s.stateNode,$o=!1;break e;case 3:xr=s.stateNode.containerInfo,$o=!0;break e;case 4:xr=s.stateNode.containerInfo,$o=!0;break e}s=s.return}if(xr===null)throw Error(pe(160));HK(a,o,i),xr=null,$o=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Sn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qK(t,e),t=t.sibling}function qK(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Eo(t,e),ys(e),r&4){try{R0(3,e,e.return),ME(3,e)}catch(g){Sn(e,e.return,g)}try{R0(5,e,e.return)}catch(g){Sn(e,e.return,g)}}break;case 1:Eo(t,e),ys(e),r&512&&n!==null&&hp(n,n.return);break;case 5:if(Eo(t,e),ys(e),r&512&&n!==null&&hp(n,n.return),e.flags&32){var i=e.stateNode;try{hv(i,"")}catch(g){Sn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&hY(i,a),CT(s,o);var u=CT(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?vY(i,f):c==="dangerouslySetInnerHTML"?gY(i,f):c==="children"?hv(i,f):uI(i,c,f,u)}switch(s){case"input":wT(i,a);break;case"textarea":pY(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Pp(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?Pp(i,!!a.multiple,a.defaultValue,!0):Pp(i,!!a.multiple,a.multiple?[]:"",!1))}i[wv]=a}catch(g){Sn(e,e.return,g)}}break;case 6:if(Eo(t,e),ys(e),r&4){if(e.stateNode===null)throw Error(pe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sn(e,e.return,g)}}break;case 3:if(Eo(t,e),ys(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yv(t.containerInfo)}catch(g){Sn(e,e.return,g)}break;case 4:Eo(t,e),ys(e);break;case 13:Eo(t,e),ys(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(UI=Pn())),r&4&&D6(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ur=(u=Ur)||c,Eo(t,e),Ur=u):Eo(t,e),ys(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Oe=e,c=e.child;c!==null;){for(f=Oe=c;Oe!==null;){switch(d=Oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:R0(4,d,d.return);break;case 1:hp(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sn(r,n,g)}}break;case 5:hp(d,d.return);break;case 22:if(d.memoizedState!==null){I6(f);continue}}p!==null?(p.return=d,Oe=p):I6(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=yY("display",o))}catch(g){Sn(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Sn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Eo(t,e),ys(e),r&4&&D6(e);break;case 21:break;default:Eo(t,e),ys(e)}}function ys(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(WK(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hv(i,""),r.flags&=-33);var a=M6(e);rN(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=M6(e);nN(e,s,o);break;default:throw Error(pe(161))}}catch(l){Sn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ege(e,t,n){Oe=e,GK(e)}function GK(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var i=Oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Mb;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ur;s=Mb;var u=Ur;if(Mb=o,(Ur=l)&&!u)for(Oe=i;Oe!==null;)o=Oe,l=o.child,o.tag===22&&o.memoizedState!==null?L6(i):l!==null?(l.return=o,Oe=l):L6(i);for(;a!==null;)Oe=a,GK(a),a=a.sibling;Oe=i,Mb=s,Ur=u}j6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Oe=a):j6(e)}}function j6(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||ME(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Po(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&x6(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}x6(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&yv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Ur||t.flags&512&&tN(t)}catch(d){Sn(t,t.return,d)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function I6(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function L6(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ME(4,t)}catch(l){Sn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Sn(t,i,l)}}var a=t.return;try{tN(t)}catch(l){Sn(t,a,l)}break;case 5:var o=t.return;try{tN(t)}catch(l){Sn(t,o,l)}}}catch(l){Sn(t,t.return,l)}if(t===e){Oe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Oe=s;break}Oe=t.return}}var Age=Math.ceil,Hw=_u.ReactCurrentDispatcher,zI=_u.ReactCurrentOwner,eo=_u.ReactCurrentBatchConfig,xt=0,fr=null,Fn=null,Or=0,ua=0,pp=Yc(0),Gn=0,Ov=null,wd=0,DE=0,BI=0,z0=null,Li=null,UI=0,nm=1/0,Tl=null,qw=!1,iN=null,wc=null,Db=!1,ac=null,Gw=0,B0=0,aN=null,q_=-1,G_=0;function bi(){return xt&6?Pn():q_!==-1?q_:q_=Pn()}function Sc(e){return e.mode&1?xt&2&&Or!==0?Or&-Or:lge.transition!==null?(G_===0&&(G_=$Y()),G_):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:LY(e.type)),e):1}function Ho(e,t,n,r){if(50<B0)throw B0=0,aN=null,Error(pe(185));V1(e,n,r),(!(xt&2)||e!==fr)&&(e===fr&&(!(xt&2)&&(DE|=n),Gn===4&&tc(e,Or)),qi(e,r),n===1&&xt===0&&!(t.mode&1)&&(nm=Pn()+500,$E&&Kc()))}function qi(e,t){var n=e.callbackNode;lme(e,t);var r=Pw(e,e===fr?Or:0);if(r===0)n!==null&&GB(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&GB(n),t===1)e.tag===0?sge(F6.bind(null,e)):nK(F6.bind(null,e)),rge(function(){!(xt&6)&&Kc()}),n=null;else{switch(TY(r)){case 1:n=pI;break;case 4:n=OY;break;case 16:n=Ow;break;case 536870912:n=PY;break;default:n=Ow}n=eZ(n,VK.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VK(e,t){if(q_=-1,G_=0,xt&6)throw Error(pe(327));var n=e.callbackNode;if(Dp()&&e.callbackNode!==n)return null;var r=Pw(e,e===fr?Or:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vw(e,r);else{t=r;var i=xt;xt|=2;var a=YK();(fr!==e||Or!==t)&&(Tl=null,nm=Pn()+500,ad(e,t));do try{Oge();break}catch(s){XK(e,s)}while(!0);CI(),Hw.current=a,xt=i,Fn!==null?t=0:(fr=null,Or=0,t=Gn)}if(t!==0){if(t===2&&(i=NT(e),i!==0&&(r=i,t=oN(e,i))),t===1)throw n=Ov,ad(e,0),tc(e,r),qi(e,Pn()),n;if(t===6)tc(e,r);else{if(i=e.current.alternate,!(r&30)&&!kge(i)&&(t=Vw(e,r),t===2&&(a=NT(e),a!==0&&(r=a,t=oN(e,a))),t===1))throw n=Ov,ad(e,0),tc(e,r),qi(e,Pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(pe(345));case 2:Lf(e,Li,Tl);break;case 3:if(tc(e,r),(r&130023424)===r&&(t=UI+500-Pn(),10<t)){if(Pw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zT(Lf.bind(null,e,Li,Tl),t);break}Lf(e,Li,Tl);break;case 4:if(tc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Wo(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Age(r/1960))-r,10<r){e.timeoutHandle=zT(Lf.bind(null,e,Li,Tl),r);break}Lf(e,Li,Tl);break;case 5:Lf(e,Li,Tl);break;default:throw Error(pe(329))}}}return qi(e,Pn()),e.callbackNode===n?VK.bind(null,e):null}function oN(e,t){var n=z0;return e.current.memoizedState.isDehydrated&&(ad(e,t).flags|=256),e=Vw(e,t),e!==2&&(t=Li,Li=n,t!==null&&sN(t)),e}function sN(e){Li===null?Li=e:Li.push.apply(Li,e)}function kge(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xo(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tc(e,t){for(t&=~BI,t&=~DE,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wo(t),r=1<<n;e[n]=-1,t&=~r}}function F6(e){if(xt&6)throw Error(pe(327));Dp();var t=Pw(e,0);if(!(t&1))return qi(e,Pn()),null;var n=Vw(e,t);if(e.tag!==0&&n===2){var r=NT(e);r!==0&&(t=r,n=oN(e,r))}if(n===1)throw n=Ov,ad(e,0),tc(e,t),qi(e,Pn()),n;if(n===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lf(e,Li,Tl),qi(e,Pn()),null}function WI(e,t){var n=xt;xt|=1;try{return e(t)}finally{xt=n,xt===0&&(nm=Pn()+500,$E&&Kc())}}function Sd(e){ac!==null&&ac.tag===0&&!(xt&6)&&Dp();var t=xt;xt|=1;var n=eo.transition,r=Lt;try{if(eo.transition=null,Lt=1,e)return e()}finally{Lt=r,eo.transition=n,xt=t,!(xt&6)&&Kc()}}function HI(){ua=pp.current,sn(pp)}function ad(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nge(n)),Fn!==null)for(n=Fn.return;n!==null;){var r=n;switch(EI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dw();break;case 3:em(),sn(Wi),sn(Jr),MI();break;case 5:NI(r);break;case 4:em();break;case 13:sn(gn);break;case 19:sn(gn);break;case 10:OI(r.type._context);break;case 22:case 23:HI()}n=n.return}if(fr=e,Fn=e=Ec(e.current,null),Or=ua=t,Gn=0,Ov=null,BI=DE=wd=0,Li=z0=null,Zf!==null){for(t=0;t<Zf.length;t++)if(n=Zf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Zf=null}return e}function XK(e,t){do{var n=Fn;try{if(CI(),U_.current=Ww,Uw){for(var r=xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uw=!1}if(_d=0,tr=Wn=xn=null,F0=!1,Av=0,zI.current=null,n===null||n.return===null){Gn=1,Ov=t,Fn=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Or,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=A6(o);if(p!==null){p.flags&=-257,k6(p,o,s,a,t),p.mode&1&&E6(a,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){E6(a,u,t),qI();break e}l=Error(pe(426))}}else if(cn&&s.mode&1){var x=A6(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),k6(x,o,s,a,t),AI(tm(l,s));break e}}a=l=tm(l,s),Gn!==4&&(Gn=2),z0===null?z0=[a]:z0.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=TK(a,l,t);v6(a,v);break e;case 1:s=l;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wc===null||!wc.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=NK(a,s,t);v6(a,k);break e}}a=a.return}while(a!==null)}ZK(n)}catch(E){t=E,Fn===n&&n!==null&&(Fn=n=n.return);continue}break}while(!0)}function YK(){var e=Hw.current;return Hw.current=Ww,e===null?Ww:e}function qI(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),fr===null||!(wd&268435455)&&!(DE&268435455)||tc(fr,Or)}function Vw(e,t){var n=xt;xt|=2;var r=YK();(fr!==e||Or!==t)&&(Tl=null,ad(e,t));do try{Cge();break}catch(i){XK(e,i)}while(!0);if(CI(),xt=n,Hw.current=r,Fn!==null)throw Error(pe(261));return fr=null,Or=0,Gn}function Cge(){for(;Fn!==null;)KK(Fn)}function Oge(){for(;Fn!==null&&!Jpe();)KK(Fn)}function KK(e){var t=JK(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?ZK(e):Fn=t,zI.current=null}function ZK(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_ge(n,t),n!==null){n.flags&=32767,Fn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,Fn=null;return}}else if(n=bge(n,t,ua),n!==null){Fn=n;return}if(t=t.sibling,t!==null){Fn=t;return}Fn=t=e}while(t!==null);Gn===0&&(Gn=5)}function Lf(e,t,n){var r=Lt,i=eo.transition;try{eo.transition=null,Lt=1,Pge(e,t,n,r)}finally{eo.transition=i,Lt=r}return null}function Pge(e,t,n,r){do Dp();while(ac!==null);if(xt&6)throw Error(pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ume(e,a),e===fr&&(Fn=fr=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Db||(Db=!0,eZ(Ow,function(){return Dp(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=eo.transition,eo.transition=null;var o=Lt;Lt=1;var s=xt;xt|=4,zI.current=null,Sge(e,n),qK(n,e),Yme(FT),$w=!!LT,FT=LT=null,e.current=n,Ege(n),eme(),xt=s,Lt=o,eo.transition=a}else e.current=n;if(Db&&(Db=!1,ac=e,Gw=i),a=e.pendingLanes,a===0&&(wc=null),rme(n.stateNode),qi(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qw)throw qw=!1,e=iN,iN=null,e;return Gw&1&&e.tag!==0&&Dp(),a=e.pendingLanes,a&1?e===aN?B0++:(B0=0,aN=e):B0=0,Kc(),null}function Dp(){if(ac!==null){var e=TY(Gw),t=eo.transition,n=Lt;try{if(eo.transition=null,Lt=16>e?16:e,ac===null)var r=!1;else{if(e=ac,ac=null,Gw=0,xt&6)throw Error(pe(331));var i=xt;for(xt|=4,Oe=e.current;Oe!==null;){var a=Oe,o=a.child;if(Oe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Oe=u;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:R0(8,c,a)}var f=c.child;if(f!==null)f.return=c,Oe=f;else for(;Oe!==null;){c=Oe;var d=c.sibling,p=c.return;if(UK(c),c===u){Oe=null;break}if(d!==null){d.return=p,Oe=d;break}Oe=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Oe=o;else e:for(;Oe!==null;){if(a=Oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:R0(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Oe=v;break e}Oe=a.return}}var b=e.current;for(Oe=b;Oe!==null;){o=Oe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Oe=_;else e:for(o=b;Oe!==null;){if(s=Oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ME(9,s)}}catch(E){Sn(s,s.return,E)}if(s===o){Oe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,Oe=k;break e}Oe=s.return}}if(xt=i,Kc(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(AE,e)}catch{}r=!0}return r}finally{Lt=n,eo.transition=t}}return!1}function R6(e,t,n){t=tm(n,t),t=TK(e,t,1),e=_c(e,t,1),t=bi(),e!==null&&(V1(e,1,t),qi(e,t))}function Sn(e,t,n){if(e.tag===3)R6(e,e,n);else for(;t!==null;){if(t.tag===3){R6(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wc===null||!wc.has(r))){e=tm(n,e),e=NK(t,e,1),t=_c(t,e,1),e=bi(),t!==null&&(V1(t,1,e),qi(t,e));break}}t=t.return}}function $ge(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bi(),e.pingedLanes|=e.suspendedLanes&n,fr===e&&(Or&n)===n&&(Gn===4||Gn===3&&(Or&130023424)===Or&&500>Pn()-UI?ad(e,0):BI|=n),qi(e,t)}function QK(e,t){t===0&&(e.mode&1?(t=Eb,Eb<<=1,!(Eb&130023424)&&(Eb=4194304)):t=1);var n=bi();e=fu(e,t),e!==null&&(V1(e,t,n),qi(e,n))}function Tge(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QK(e,n)}function Nge(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(t),QK(e,n)}var JK;JK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wi.current)Bi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bi=!1,xge(e,t,n);Bi=!!(e.flags&131072)}else Bi=!1,cn&&t.flags&1048576&&rK(t,Lw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;H_(e,t),e=t.pendingProps;var i=Zp(t,Jr.current);Mp(t,n),i=jI(null,t,r,e,i,n);var a=II();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hi(r)?(a=!0,jw(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$I(t),i.updater=NE,t.stateNode=i,i._reactInternals=t,VT(t,r,e,n),t=KT(null,t,r,!0,a,n)):(t.tag=0,cn&&a&&SI(t),ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(H_(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Dge(r),e=Po(r,e),i){case 0:t=YT(null,t,r,e,n);break e;case 1:t=P6(null,t,r,e,n);break e;case 11:t=C6(null,t,r,e,n);break e;case 14:t=O6(null,t,r,Po(r.type,e),n);break e}throw Error(pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Po(r,i),YT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Po(r,i),P6(e,t,r,i,n);case 3:e:{if(IK(t),e===null)throw Error(pe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,uK(e,t),zw(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=tm(Error(pe(423)),t),t=$6(e,t,r,n,i);break e}else if(r!==i){i=tm(Error(pe(424)),t),t=$6(e,t,r,n,i);break e}else for(ga=bc(t.stateNode.containerInfo.firstChild),ba=t,cn=!0,Do=null,n=sK(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qp(),r===i){t=du(e,t,n);break e}ui(e,t,r,n)}t=t.child}return t;case 5:return cK(t),e===null&&HT(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,RT(r,i)?o=null:a!==null&&RT(r,a)&&(t.flags|=32),jK(e,t),ui(e,t,o,n),t.child;case 6:return e===null&&HT(t),null;case 13:return LK(e,t,n);case 4:return TI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jp(t,null,r,n):ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Po(r,i),C6(e,t,r,i,n);case 7:return ui(e,t,t.pendingProps,n),t.child;case 8:return ui(e,t,t.pendingProps.children,n),t.child;case 12:return ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Zt(Fw,r._currentValue),r._currentValue=o,a!==null)if(Xo(a.value,o)){if(a.children===i.children&&!Wi.current){t=du(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ql(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),qT(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(pe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),qT(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mp(t,n),i=io(i),r=r(i),t.flags|=1,ui(e,t,r,n),t.child;case 14:return r=t.type,i=Po(r,t.pendingProps),i=Po(r.type,i),O6(e,t,r,i,n);case 15:return MK(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Po(r,i),H_(e,t),t.tag=1,Hi(r)?(e=!0,jw(t)):e=!1,Mp(t,n),$K(t,r,i),VT(t,r,i,n),KT(null,t,r,!0,e,n);case 19:return FK(e,t,n);case 22:return DK(e,t,n)}throw Error(pe(156,t.tag))};function eZ(e,t){return CY(e,t)}function Mge(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(e,t,n,r){return new Mge(e,t,n,r)}function GI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dge(e){if(typeof e=="function")return GI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fI)return 11;if(e===dI)return 14}return 2}function Ec(e,t){var n=e.alternate;return n===null?(n=Ya(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function V_(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")GI(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ip:return od(n.children,i,a,t);case cI:o=8,i|=8;break;case yT:return e=Ya(12,n,t,i|2),e.elementType=yT,e.lanes=a,e;case vT:return e=Ya(13,n,t,i),e.elementType=vT,e.lanes=a,e;case xT:return e=Ya(19,n,t,i),e.elementType=xT,e.lanes=a,e;case cY:return jE(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lY:o=10;break e;case uY:o=9;break e;case fI:o=11;break e;case dI:o=14;break e;case Gu:o=16,r=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Ya(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function od(e,t,n,r){return e=Ya(7,e,r,t),e.lanes=n,e}function jE(e,t,n,r){return e=Ya(22,e,r,t),e.elementType=cY,e.lanes=n,e.stateNode={isHidden:!1},e}function BO(e,t,n){return e=Ya(6,e,null,t),e.lanes=n,e}function UO(e,t,n){return t=Ya(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jge(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wO(0),this.expirationTimes=wO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wO(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function VI(e,t,n,r,i,a,o,s,l){return e=new jge(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ya(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$I(a),e}function Ige(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tZ(e){if(!e)return Nc;e=e._reactInternals;e:{if(rh(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var n=e.type;if(Hi(n))return tK(e,n,t)}return t}function nZ(e,t,n,r,i,a,o,s,l){return e=VI(n,r,!0,e,i,a,o,s,l),e.context=tZ(null),n=e.current,r=bi(),i=Sc(n),a=Ql(r,i),a.callback=t??null,_c(n,a,i),e.current.lanes=i,V1(e,i,r),qi(e,r),e}function IE(e,t,n,r){var i=t.current,a=bi(),o=Sc(i);return n=tZ(n),t.context===null?t.context=n:t.pendingContext=n,t=Ql(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_c(i,t,o),e!==null&&(Ho(e,i,o,a),B_(e,i,o)),o}function Xw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function XI(e,t){z6(e,t),(e=e.alternate)&&z6(e,t)}function Lge(){return null}var rZ=typeof reportError=="function"?reportError:function(e){console.error(e)};function YI(e){this._internalRoot=e}LE.prototype.render=YI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));IE(e,t,null,null)};LE.prototype.unmount=YI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sd(function(){IE(null,e,null,null)}),t[cu]=null}};function LE(e){this._internalRoot=e}LE.prototype.unstable_scheduleHydration=function(e){if(e){var t=DY();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ec.length&&t!==0&&t<ec[n].priority;n++);ec.splice(n,0,e),n===0&&IY(e)}};function KI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function FE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B6(){}function Fge(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Xw(o);a.call(u)}}var o=nZ(t,r,e,0,null,!1,!1,"",B6);return e._reactRootContainer=o,e[cu]=o.current,bv(e.nodeType===8?e.parentNode:e),Sd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Xw(l);s.call(u)}}var l=VI(e,0,!1,null,null,!1,!1,"",B6);return e._reactRootContainer=l,e[cu]=l.current,bv(e.nodeType===8?e.parentNode:e),Sd(function(){IE(t,l,n,r)}),l}function RE(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Xw(o);s.call(l)}}IE(t,o,e,i)}else o=Fge(n,t,e,i,r);return Xw(o)}NY=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=a0(t.pendingLanes);n!==0&&(mI(t,n|1),qi(t,Pn()),!(xt&6)&&(nm=Pn()+500,Kc()))}break;case 13:Sd(function(){var r=fu(e,1);if(r!==null){var i=bi();Ho(r,e,1,i)}}),XI(e,1)}};gI=function(e){if(e.tag===13){var t=fu(e,134217728);if(t!==null){var n=bi();Ho(t,e,134217728,n)}XI(e,134217728)}};MY=function(e){if(e.tag===13){var t=Sc(e),n=fu(e,t);if(n!==null){var r=bi();Ho(n,e,t,r)}XI(e,t)}};DY=function(){return Lt};jY=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}};PT=function(e,t,n){switch(t){case"input":if(wT(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=PE(r);if(!i)throw Error(pe(90));dY(r),wT(r,i)}}}break;case"textarea":pY(e,n);break;case"select":t=n.value,t!=null&&Pp(e,!!n.multiple,t,!1)}};_Y=WI;wY=Sd;var Rge={usingClientEntryPoint:!1,Events:[Y1,lp,PE,xY,bY,WI]},Sy={findFiberByHostInstance:Kf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zge={bundleType:Sy.bundleType,version:Sy.version,rendererPackageName:Sy.rendererPackageName,rendererConfig:Sy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=AY(e),e===null?null:e.stateNode},findFiberByHostInstance:Sy.findFiberByHostInstance||Lge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jb.isDisabled&&jb.supportsFiber)try{AE=jb.inject(zge),js=jb}catch{}}$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rge;$a.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KI(t))throw Error(pe(200));return Ige(e,t,null,n)};$a.createRoot=function(e,t){if(!KI(e))throw Error(pe(299));var n=!1,r="",i=rZ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=VI(e,1,!1,null,null,n,!1,r,i),e[cu]=t.current,bv(e.nodeType===8?e.parentNode:e),new YI(t)};$a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=AY(t),e=e===null?null:e.stateNode,e};$a.flushSync=function(e){return Sd(e)};$a.hydrate=function(e,t,n){if(!FE(t))throw Error(pe(200));return RE(null,e,t,!0,n)};$a.hydrateRoot=function(e,t,n){if(!KI(e))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=rZ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nZ(t,null,e,1,n??null,i,!1,a,o),e[cu]=t.current,bv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new LE(t)};$a.render=function(e,t,n){if(!FE(t))throw Error(pe(200));return RE(null,e,t,!1,n)};$a.unmountComponentAtNode=function(e){if(!FE(e))throw Error(pe(40));return e._reactRootContainer?(Sd(function(){RE(null,null,e,!1,function(){e._reactRootContainer=null,e[cu]=null})}),!0):!1};$a.unstable_batchedUpdates=WI;$a.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!FE(n))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return RE(e,t,n,!1,r)};$a.version="18.3.1-next-f1338f8080-20240426";function iZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iZ)}catch(e){console.error(e)}}iZ(),iY.exports=$a;var aZ=iY.exports,U6=aZ;mT.createRoot=U6.createRoot,mT.hydrateRoot=U6.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xe=(e,t)=>{const n=X.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>X.createElement("svg",{ref:c,...Bge,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Uge(e)}`,s].join(" "),...u},[...t.map(([f,d])=>X.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Xe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=Xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=Xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=Xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=Xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Xe("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=Xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=Xe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xge=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yge=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=Xe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=Xe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=Xe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=Xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Xe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=Xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qge=Xe("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=Xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=Xe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eye=Xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Xe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Xe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Xe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=Xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=Xe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nye=Xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Xe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iye=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Xe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),X6=[{id:"mission",label:"Mission Control",icon:Jge},{id:"map",label:"Portfolio Map",icon:fZ},{id:"project",label:"Project Deep Dive",icon:Qge},{id:"scope",label:"Scope Forensics",icon:Ed},{id:"brief",label:"Morning Brief",icon:uZ},{id:"knowledge",label:"Knowledge Base",icon:qge},{id:"architecture",label:"Architecture",icon:cZ}];function oye({children:e,currentPage:t,onNavigate:n}){var a;const[r,i]=X.useState(!1);return S.jsxs("div",{className:"h-screen flex overflow-hidden bg-navy-950",children:[S.jsxs("aside",{className:`
          ${r?"w-16":"w-64"} 
          flex-shrink-0 bg-navy-900 border-r border-navy-700/50 
          flex flex-col transition-all duration-300
        `,children:[S.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-navy-700/50",children:[!r&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-atlas-blue to-atlas-purple flex items-center justify-center",children:S.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),S.jsxs("div",{children:[S.jsx("span",{className:"font-display font-bold text-lg text-white",children:"ATLAS"}),S.jsx("span",{className:"text-xs text-slate-500 block -mt-1",children:"Capital Delivery"})]})]}),S.jsx("button",{onClick:()=>i(!r),className:"p-1.5 hover:bg-navy-700 rounded-md text-slate-400 hover:text-white transition-colors",children:r?S.jsx(QI,{size:18}):S.jsx(Xge,{size:18})})]}),S.jsx("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:X6.map(o=>{const s=t===o.id;return S.jsxs("button",{onClick:()=>n(o.id),className:`
                  w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
                  transition-all duration-200 group
                  ${s?"bg-atlas-blue/10 text-atlas-blue":"text-slate-400 hover:text-white hover:bg-navy-700/50"}
                `,children:[S.jsx(o.icon,{size:20,className:s?"text-atlas-blue":"text-slate-500 group-hover:text-atlas-blue/60"}),!r&&S.jsx("span",{children:o.label}),s&&!r&&S.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-atlas-blue"})]},o.id)})}),S.jsx("div",{className:"p-4 border-t border-navy-700/50",children:r?S.jsx("div",{className:"flex justify-center",children:S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-green animate-pulse"})}):S.jsxs("div",{className:"text-xs",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("span",{className:"text-slate-500",children:"System Status"}),S.jsxs("span",{className:"flex items-center gap-1 text-atlas-green",children:[S.jsx(ZI,{size:12}),"Online"]})]}),S.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[S.jsxs("div",{className:"flex -space-x-1",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-green"}),S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-green"}),S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-green"}),S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-green"})]}),S.jsx("span",{children:"4 Agents Active"})]})]})})]}),S.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[S.jsxs("header",{className:"h-14 flex-shrink-0 border-b border-navy-700/50 flex items-center justify-between px-6",children:[S.jsx("div",{className:"flex items-center gap-4",children:S.jsx("h1",{className:"font-display font-semibold text-lg text-white",children:((a=X6.find(o=>o.id===t))==null?void 0:a.label)||"ATLAS"})}),S.jsx("div",{className:"flex items-center gap-3",children:S.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[S.jsx("span",{className:"w-2 h-2 rounded-full bg-atlas-green animate-pulse"}),"Snowflake Cortex Connected"]})})]}),S.jsx("div",{className:"flex-1 overflow-auto",children:e})]})]})}const Y6="ATLAS",sye=[{icon:Pv,title:"Multi-Agent Intelligence",description:"4 specialized AI agents analyzing portfolio risk, scope gaps, schedule slippage, and vendor performance.",color:"purple"},{icon:Ed,title:"Hidden Discovery Engine",description:"Uncover patterns in change orders that manual review misses - like 156 small COs sharing common root cause.",color:"green"},{icon:sZ,title:"$3.3B Portfolio Intelligence",description:"Real-time visibility across 12 major infrastructure projects with predictive analytics.",color:"blue"},{icon:cN,title:"Proactive Risk Detection",description:"ML-powered early warning system identifies at-risk activities before they impact schedule.",color:"red"}],lye=[{value:"12",label:"Active Projects",suffix:""},{value:"3.3",label:"Portfolio Value",suffix:"B"},{value:"156",label:"Hidden Pattern COs",suffix:""},{value:"4",label:"AI Agents",suffix:""}];function uye({onNavigate:e}){const[t,n]=X.useState(!1),[r,i]=X.useState(""),a=`Hello, I'm ${Y6}. Your intelligent Capital Delivery co-pilot.`;return X.useEffect(()=>{n(!0);let o=0;const s=setInterval(()=>{o<=a.length?(i(a.slice(0,o)),o++):clearInterval(s)},40);return()=>clearInterval(s)},[]),S.jsxs("div",{className:"min-h-screen bg-navy-900 overflow-y-auto",children:[S.jsxs("div",{className:"relative",children:[S.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[S.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-atlas-blue/20 rounded-full blur-3xl animate-pulse"}),S.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-atlas-purple/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-navy-900/50 via-transparent to-navy-900"}),S.jsx("div",{className:"relative max-w-7xl mx-auto px-6 pt-16 pb-24",children:S.jsxs("div",{className:`text-center transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[S.jsxs("div",{className:"relative inline-block mb-6",children:[S.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-atlas-blue to-atlas-purple flex items-center justify-center shadow-2xl shadow-atlas-blue/30",children:S.jsx(rm,{size:40,className:"text-white"})}),S.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-2xl bg-gradient-to-br from-atlas-blue to-atlas-purple blur-xl opacity-50"})]}),S.jsx("h1",{className:"text-5xl font-bold mb-3",children:S.jsx("span",{className:"bg-gradient-to-r from-atlas-blue via-cyan-400 to-atlas-purple bg-clip-text text-transparent",children:Y6})}),S.jsx("p",{className:"text-lg text-slate-400 mb-1",children:"Capital Delivery Intelligence Platform"}),S.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Powered by Snowflake Cortex AI"}),S.jsx("div",{className:"max-w-2xl mx-auto mb-10",children:S.jsx("div",{className:"bg-navy-800/80 backdrop-blur-sm border border-navy-700 rounded-xl p-5 text-left",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-atlas-blue to-atlas-purple flex items-center justify-center flex-shrink-0",children:S.jsx(Jl,{size:20,className:"text-white"})}),S.jsx("div",{children:S.jsxs("p",{className:"text-lg text-slate-200",children:[r,S.jsx("span",{className:"inline-block w-0.5 h-5 bg-atlas-blue ml-1 animate-pulse"})]})})]})})}),S.jsxs("div",{className:"flex items-center justify-center gap-4",children:[S.jsxs("button",{onClick:()=>e("mission"),className:"group flex items-center gap-3 px-7 py-3.5 bg-gradient-to-r from-atlas-blue to-atlas-purple rounded-xl text-white font-semibold text-lg shadow-xl shadow-atlas-blue/25 hover:shadow-atlas-blue/40 hover:scale-105 transition-all",children:["Launch Mission Control",S.jsx(Wge,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),S.jsx("button",{onClick:()=>e("architecture"),className:"flex items-center gap-2 px-5 py-3.5 bg-navy-700/50 border border-navy-600 rounded-xl text-slate-300 font-medium hover:bg-navy-600/50 hover:border-navy-500 transition-all",children:"View Architecture"})]})]})})]}),S.jsx("div",{className:`bg-navy-800/50 border-y border-navy-700/50 py-6 transition-all duration-1000 delay-300 ${t?"opacity-100":"opacity-0"}`,children:S.jsx("div",{className:"max-w-7xl mx-auto px-6",children:S.jsx("div",{className:"grid grid-cols-4 gap-8",children:lye.map((o,s)=>S.jsxs("div",{className:"text-center",children:[S.jsxs("p",{className:"text-3xl font-bold text-atlas-blue",children:[o.suffix==="B"?"$":"",o.value,S.jsx("span",{className:"text-xl",children:o.suffix})]}),S.jsx("p",{className:"text-sm text-slate-400 mt-1",children:o.label})]},s))})})}),S.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[S.jsxs("div",{className:`text-center mb-10 transition-all duration-1000 delay-500 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-3",children:"Intelligent Capital Project Delivery"}),S.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto",children:"Unifying P6 schedules, SAP cost data, and unstructured documents with AI-powered analytics."})]}),S.jsx("div",{className:"grid grid-cols-2 gap-5",children:sye.map((o,s)=>{const l=o.icon,u={purple:"from-purple-500/20 to-purple-600/10 border-purple-500/30 text-purple-400",green:"from-green-500/20 to-green-600/10 border-green-500/30 text-green-400",blue:"from-blue-500/20 to-blue-600/10 border-blue-500/30 text-blue-400",red:"from-red-500/20 to-red-600/10 border-red-500/30 text-red-400"}[o.color];return S.jsxs("div",{className:`bg-gradient-to-br ${u} border rounded-xl p-6 transition-all duration-500 hover:scale-[1.02] ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${600+s*100}ms`},children:[S.jsx("div",{className:"w-11 h-11 rounded-xl bg-navy-800/80 flex items-center justify-center mb-4",children:S.jsx(l,{size:22})}),S.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:o.title}),S.jsx("p",{className:"text-slate-400 text-sm",children:o.description})]},s)})})]}),S.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-16",children:S.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:am,label:"Mission Control",page:"mission",desc:"Real-time monitoring & AI chat"},{icon:fZ,label:"Portfolio Map",page:"map",desc:"Geographic project view"},{icon:$v,label:"Scope Forensics",page:"scope",desc:"Change order analysis"},{icon:zE,label:"Morning Brief",page:"brief",desc:"Daily AI summary"}].map((o,s)=>{const l=o.icon;return S.jsxs("button",{onClick:()=>e(o.page),className:"bg-navy-800/50 border border-navy-700/50 rounded-xl p-4 text-left group hover:border-atlas-blue/30 hover:bg-navy-800/80 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx(l,{size:18,className:"text-atlas-blue"}),S.jsx("span",{className:"font-medium text-slate-200 group-hover:text-atlas-blue transition-colors text-sm",children:o.label}),S.jsx(QI,{size:14,className:"text-slate-500 ml-auto group-hover:translate-x-1 transition-transform"})]}),S.jsx("p",{className:"text-xs text-slate-500",children:o.desc})]},s)})})}),S.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-16",children:S.jsx("div",{className:`bg-gradient-to-r from-atlas-yellow/10 to-atlas-red/10 border border-atlas-yellow/30 rounded-xl p-6 transition-all duration-1000 delay-700 ${t?"opacity-100":"opacity-0"}`,children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-atlas-yellow/20 flex items-center justify-center flex-shrink-0",children:S.jsx(Vs,{size:24,className:"text-atlas-yellow"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-atlas-yellow mb-2",children:" Hidden Discovery: Grounding Specification Gap"}),S.jsxs("p",{className:"text-slate-300 text-sm mb-3",children:["ATLAS identified ",S.jsx("strong",{className:"text-white",children:"156 small change orders"})," (under $5K each, auto-approved) that share a common root cause: ",S.jsx("strong",{className:"text-white",children:"missing grounding specifications"})," in electrical designs."]}),S.jsxs("p",{className:"text-slate-400 text-sm",children:["Total hidden cost: ",S.jsx("strong",{className:"text-atlas-yellow",children:"$780K"})," across 8 projects  Primary vendor: ",S.jsx("strong",{className:"text-white",children:"Apex Electrical Services"}),"  Classification: ",S.jsx("strong",{className:"text-white",children:"SCOPE_GAP"})]})]})]})})}),S.jsx("div",{className:"border-t border-navy-700/50 py-6",children:S.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:S.jsxs("p",{className:"text-sm text-slate-500",children:["Built on ",S.jsx("span",{className:"text-atlas-blue",children:"Snowflake"}),"  Cortex AI  Cortex Agents  SPCS"]})})})]})}function cye(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const fye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hye={};function K6(e,t){return(hye.jsx?dye:fye).test(e)}const pye=/[ \t\n\f\r]/g;function mye(e){return typeof e=="object"?e.type==="text"?Z6(e.value):!1:Z6(e)}function Z6(e){return e.replace(pye,"")===""}class Z1{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Z1.prototype.normal={};Z1.prototype.property={};Z1.prototype.space=void 0;function dZ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Z1(n,r,t)}function fN(e){return e.toLowerCase()}let ta=class{constructor(t,n){this.attribute=n,this.property=t}};ta.prototype.attribute="";ta.prototype.booleanish=!1;ta.prototype.boolean=!1;ta.prototype.commaOrSpaceSeparated=!1;ta.prototype.commaSeparated=!1;ta.prototype.defined=!1;ta.prototype.mustUseProperty=!1;ta.prototype.number=!1;ta.prototype.overloadedBoolean=!1;ta.prototype.property="";ta.prototype.spaceSeparated=!1;ta.prototype.space=void 0;let gye=0;const tt=ih(),In=ih(),dN=ih(),ge=ih(),Yt=ih(),jp=ih(),oa=ih();function ih(){return 2**++gye}const hN=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:In,commaOrSpaceSeparated:oa,commaSeparated:jp,number:ge,overloadedBoolean:dN,spaceSeparated:Yt},Symbol.toStringTag,{value:"Module"})),HO=Object.keys(hN);class e3 extends ta{constructor(t,n,r,i){let a=-1;if(super(t,n),Q6(this,"space",i),typeof r=="number")for(;++a<HO.length;){const o=HO[a];Q6(this,HO[a],(r&hN[o])===hN[o])}}}e3.prototype.defined=!0;function Q6(e,t,n){n&&(e[t]=n)}function dg(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new e3(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[fN(r)]=r,n[fN(a.attribute)]=r}return new Z1(t,n,e.space)}const hZ=dg({properties:{ariaActiveDescendant:null,ariaAtomic:In,ariaAutoComplete:null,ariaBusy:In,ariaChecked:In,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:Yt,ariaCurrent:null,ariaDescribedBy:Yt,ariaDetails:null,ariaDisabled:In,ariaDropEffect:Yt,ariaErrorMessage:null,ariaExpanded:In,ariaFlowTo:Yt,ariaGrabbed:In,ariaHasPopup:null,ariaHidden:In,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Yt,ariaLevel:ge,ariaLive:null,ariaModal:In,ariaMultiLine:In,ariaMultiSelectable:In,ariaOrientation:null,ariaOwns:Yt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:In,ariaReadOnly:In,ariaRelevant:null,ariaRequired:In,ariaRoleDescription:Yt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:In,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pZ(e,t){return t in e?e[t]:t}function mZ(e,t){return pZ(e,t.toLowerCase())}const yye=dg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jp,acceptCharset:Yt,accessKey:Yt,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:Yt,autoFocus:tt,autoPlay:tt,blocking:Yt,capture:null,charSet:null,checked:tt,cite:null,className:Yt,cols:ge,colSpan:null,content:null,contentEditable:In,controls:tt,controlsList:Yt,coords:ge|jp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:dN,draggable:In,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:Yt,height:ge,hidden:dN,high:ge,href:null,hrefLang:null,htmlFor:Yt,httpEquiv:Yt,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:Yt,itemRef:Yt,itemScope:tt,itemType:Yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:ge,pattern:null,ping:Yt,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:Yt,required:tt,reversed:tt,rows:ge,rowSpan:ge,sandbox:Yt,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:In,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:In,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Yt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:In,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:mZ}),vye=dg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oa,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:Yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jp,g2:jp,glyphName:jp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:oa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oa,rev:oa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oa,requiredFeatures:oa,requiredFonts:oa,requiredFormats:oa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:oa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oa,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pZ}),gZ=dg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yZ=dg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mZ}),vZ=dg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),xye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bye=/[A-Z]/g,J6=/-[a-z]/g,_ye=/^data[-\w.:]+$/i;function wye(e,t){const n=fN(t);let r=t,i=ta;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_ye.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(J6,Eye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!J6.test(a)){let o=a.replace(bye,Sye);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=e3}return new i(r,t)}function Sye(e){return"-"+e.toLowerCase()}function Eye(e){return e.charAt(1).toUpperCase()}const Aye=dZ([hZ,yye,gZ,yZ,vZ],"html"),t3=dZ([hZ,vye,gZ,yZ,vZ],"svg");function kye(e){return e.join(" ").trim()}var n3={},e8=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Cye=/\n/g,Oye=/^\s*/,Pye=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,$ye=/^:\s*/,Tye=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nye=/^[;\s]*/,Mye=/^\s+|\s+$/g,Dye=`
`,t8="/",n8="*",Wf="",jye="comment",Iye="declaration";function Lye(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(Cye);g&&(n+=g.length);var x=m.lastIndexOf(Dye);r=~x?m.length-x:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),u(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var x=g[0];return i(x),e=e.slice(x.length),g}}function u(){l(Oye)}function c(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(t8!=e.charAt(0)||n8!=e.charAt(1))){for(var g=2;Wf!=e.charAt(g)&&(n8!=e.charAt(g)||t8!=e.charAt(g+1));)++g;if(g+=2,Wf===e.charAt(g-1))return s("End of comment missing");var x=e.slice(2,g-2);return r+=2,i(x),e=e.slice(g),r+=2,m({type:jye,comment:x})}}function d(){var m=a(),g=l(Pye);if(g){if(f(),!l($ye))return s("property missing ':'");var x=l(Tye),v=m({type:Iye,property:r8(g[0].replace(e8,Wf)),value:x?r8(x[0].replace(e8,Wf)):Wf});return l(Nye),v}}function p(){var m=[];c(m);for(var g;g=d();)g!==!1&&(m.push(g),c(m));return m}return u(),p()}function r8(e){return e?e.replace(Mye,Wf):Wf}var Fye=Lye,Rye=Ul&&Ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n3,"__esModule",{value:!0});n3.default=Bye;const zye=Rye(Fye);function Bye(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,zye.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:o,value:s}=a;i?t(o,s,a):s&&(n=n||{},n[o]=s)}),n}var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.camelCase=void 0;var Uye=/^--[a-zA-Z0-9_-]+$/,Wye=/-([a-z])/g,Hye=/^[^-]+$/,qye=/^-(webkit|moz|ms|o|khtml)-/,Gye=/^-(ms)-/,Vye=function(e){return!e||Hye.test(e)||Uye.test(e)},Xye=function(e,t){return t.toUpperCase()},i8=function(e,t){return"".concat(t,"-")},Yye=function(e,t){return t===void 0&&(t={}),Vye(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Gye,i8):e=e.replace(qye,i8),e.replace(Wye,Xye))};UE.camelCase=Yye;var Kye=Ul&&Ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Zye=Kye(n3),Qye=UE;function pN(e,t){var n={};return!e||typeof e!="string"||(0,Zye.default)(e,function(r,i){r&&i&&(n[(0,Qye.camelCase)(r,t)]=i)}),n}pN.default=pN;var Jye=pN;const e0e=kt(Jye),xZ=bZ("end"),r3=bZ("start");function bZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function t0e(e){const t=r3(e),n=xZ(e);if(t&&n)return{start:t,end:n}}function U0(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?a8(e.position):"start"in e||"end"in e?a8(e):"line"in e||"column"in e?mN(e):""}function mN(e){return o8(e&&e.line)+":"+o8(e&&e.column)}function a8(e){return mN(e&&e.start)+"-"+mN(e&&e.end)}function o8(e){return e&&typeof e=="number"?e:1}class ni extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=U0(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ni.prototype.file="";ni.prototype.name="";ni.prototype.reason="";ni.prototype.message="";ni.prototype.stack="";ni.prototype.column=void 0;ni.prototype.line=void 0;ni.prototype.ancestors=void 0;ni.prototype.cause=void 0;ni.prototype.fatal=void 0;ni.prototype.place=void 0;ni.prototype.ruleId=void 0;ni.prototype.source=void 0;const i3={}.hasOwnProperty,n0e=new Map,r0e=/[A-Z]/g,i0e=new Set(["table","tbody","thead","tfoot","tr"]),a0e=new Set(["td","th"]),_Z="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function o0e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=p0e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=h0e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?t3:Aye,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=wZ(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function wZ(e,t,n){if(t.type==="element")return s0e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return l0e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return c0e(e,t,n);if(t.type==="mdxjsEsm")return u0e(e,t);if(t.type==="root")return f0e(e,t,n);if(t.type==="text")return d0e(e,t)}function s0e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=t3,e.schema=i),e.ancestors.push(t);const a=EZ(e,t.tagName,!1),o=m0e(e,t);let s=o3(e,t);return i0e.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!mye(l):!0})),SZ(e,o,a,t),a3(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function l0e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Tv(e,t.position)}function u0e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Tv(e,t.position)}function c0e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=t3,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:EZ(e,t.name,!0),o=g0e(e,t),s=o3(e,t);return SZ(e,o,a,t),a3(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function f0e(e,t,n){const r={};return a3(r,o3(e,t)),e.create(t,e.Fragment,r,n)}function d0e(e,t){return t.value}function SZ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function a3(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function h0e(e,t,n){return r;function r(i,a,o,s){const u=Array.isArray(o.children)?n:t;return s?u(a,o,s):u(a,o)}}function p0e(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=r3(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function m0e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&i3.call(t.properties,i)){const a=y0e(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&a0e.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function g0e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Tv(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Tv(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function o3(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:n0e;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const s=wZ(e,a,o);s!==void 0&&n.push(s)}return n}function y0e(e,t,n){const r=wye(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?cye(n):kye(n)),r.property==="style"){let i=typeof n=="object"?n:v0e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=x0e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?xye[r.property]||r.property:r.attribute,n]}}function v0e(e,t){try{return e0e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ni("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=_Z+"#cannot-parse-style-attribute",i}}function EZ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=K6(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=K6(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return i3.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Tv(e)}function Tv(e,t){const n=new ni("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=_Z+"#cannot-handle-mdx-estrees-without-createevaluater",n}function x0e(e){const t={};let n;for(n in e)i3.call(e,n)&&(t[b0e(n)]=e[n]);return t}function b0e(e){let t=e.replace(r0e,_0e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _0e(e){return"-"+e.toLowerCase()}const qO={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},w0e={};function S0e(e,t){const n=w0e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return AZ(e,r,i)}function AZ(e,t,n){if(E0e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return s8(e.children,t,n)}return Array.isArray(e)?s8(e,t,n):""}function s8(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=AZ(e[i],t,n);return r.join("")}function E0e(e){return!!(e&&typeof e=="object")}const l8=document.createElement("i");function s3(e){const t="&"+e+";";l8.innerHTML=t;const n=l8.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xs(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function qa(e,t){return e.length>0?(Xs(e,e.length,0,t),e):t}const u8={}.hasOwnProperty;function A0e(e){const t={};let n=-1;for(;++n<e.length;)k0e(t,e[n]);return t}function k0e(e,t){let n;for(n in t){const i=(u8.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){u8.call(i,o)||(i[o]=[]);const s=a[o];C0e(i[o],Array.isArray(s)?s:s?[s]:[])}}}function C0e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xs(e,0,0,r)}function kZ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ip(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cs=Zc(/[A-Za-z]/),ya=Zc(/[\dA-Za-z]/),O0e=Zc(/[#-'*+\--9=?A-Z^-~]/);function gN(e){return e!==null&&(e<32||e===127)}const yN=Zc(/\d/),P0e=Zc(/[\dA-Fa-f]/),$0e=Zc(/[!-/:-@[-`{-~]/);function qe(e){return e!==null&&e<-2}function Gi(e){return e!==null&&(e<0||e===32)}function Ot(e){return e===-2||e===-1||e===32}const T0e=Zc(new RegExp("\\p{P}|\\p{S}","u")),N0e=Zc(/\s/);function Zc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function hg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&ya(e.charCodeAt(n+1))&&ya(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Qt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Ot(l)?(e.enter(n),s(l)):t(l)}function s(l){return Ot(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const M0e={tokenize:D0e};function D0e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Qt(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return qe(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const j0e={tokenize:I0e},c8={tokenize:L0e};function I0e(e){const t=this,n=[];let r=0,i,a,o;return s;function s(_){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let E=k,A;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){A=t.events[E][1].end;break}v(r);let C=k;for(;C<t.events.length;)t.events[C][1].end={...A},C++;return Xs(t.events,E+1,0,t.events.slice(k)),t.events.length=C,u(_)}return s(_)}function u(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return m(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(c8,c,f)(_)}function c(_){return i&&b(),v(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(_)}function d(_){return t.containerState={},e.attempt(c8,p,m)(_)}function p(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function m(_){if(_===null){i&&b(),v(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(_)}function g(_){if(_===null){x(e.exit("chunkFlow"),!0),v(0),e.consume(_);return}return qe(_)?(e.consume(_),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(_),g)}function x(_,k){const E=t.sliceStream(_);if(k&&E.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(E),t.parser.lazy[_.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const C=t.events.length;let P=C,T,D;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(T){D=t.events[P][1].end;break}T=!0}for(v(r),A=C;A<t.events.length;)t.events[A][1].end={...D},A++;Xs(t.events,P+1,0,t.events.slice(C)),t.events.length=A}}function v(_){let k=n.length;for(;k-- >_;){const E=n[k];t.containerState=E[1],E[0].exit.call(t,e)}n.length=_}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function L0e(e,t,n){return Qt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function f8(e){if(e===null||Gi(e)||N0e(e))return 1;if(T0e(e))return 2}function l3(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const vN={name:"attention",resolveAll:F0e,tokenize:R0e};function F0e(e,t){let n=-1,r,i,a,o,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[n][1].start};d8(f,-l),d8(d,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=qa(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=qa(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=qa(u,l3(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=qa(u,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=qa(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Xs(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function R0e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=f8(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const u=e.exit("attentionSequence"),c=f8(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?f:f&&(i||!d)),u._close=!!(a===42?d:d&&(c||!f)),t(l)}}function d8(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const z0e={name:"autolink",tokenize:B0e};function B0e(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Cs(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||ya(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||ya(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||gN(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),c):O0e(p)?(e.consume(p),u):n(p)}function c(p){return ya(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):d(p)}function d(p){if((p===45||ya(p))&&r++<63){const m=p===45?d:f;return e.consume(p),m}return n(p)}}const WE={partial:!0,tokenize:U0e};function U0e(e,t,n){return r;function r(a){return Ot(a)?Qt(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||qe(a)?t(a):n(a)}}const CZ={continuation:{tokenize:H0e},exit:q0e,name:"blockQuote",tokenize:W0e};function W0e(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Ot(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function H0e(e,t,n){const r=this;return i;function i(o){return Ot(o)?Qt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(CZ,t,n)(o)}}function q0e(e){e.exit("blockQuote")}const OZ={name:"characterEscape",tokenize:G0e};function G0e(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return $0e(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const PZ={name:"characterReference",tokenize:V0e};function V0e(e,t,n){const r=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=ya,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=P0e,c):(e.enter("characterReferenceValue"),a=7,o=yN,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===ya&&!s3(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),c):n(f)}}const h8={partial:!0,tokenize:Y0e},p8={concrete:!0,name:"codeFenced",tokenize:X0e};function X0e(e,t,n){const r=this,i={partial:!0,tokenize:E};let a=0,o=0,s;return l;function l(A){return u(A)}function u(A){const C=r.events[r.events.length-1];return a=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,s=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(A)}function c(A){return A===s?(o++,e.consume(A),c):o<3?n(A):(e.exit("codeFencedFenceSequence"),Ot(A)?Qt(e,f,"whitespace")(A):f(A))}function f(A){return A===null||qe(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(h8,g,k)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(A))}function d(A){return A===null||qe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(A)):Ot(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qt(e,p,"whitespace")(A)):A===96&&A===s?n(A):(e.consume(A),d)}function p(A){return A===null||qe(A)?f(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||qe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(A)):A===96&&A===s?n(A):(e.consume(A),m)}function g(A){return e.attempt(i,k,x)(A)}function x(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),v}function v(A){return a>0&&Ot(A)?Qt(e,b,"linePrefix",a+1)(A):b(A)}function b(A){return A===null||qe(A)?e.check(h8,g,k)(A):(e.enter("codeFlowValue"),_(A))}function _(A){return A===null||qe(A)?(e.exit("codeFlowValue"),b(A)):(e.consume(A),_)}function k(A){return e.exit("codeFenced"),t(A)}function E(A,C,P){let T=0;return D;function D(M){return A.enter("lineEnding"),A.consume(M),A.exit("lineEnding"),j}function j(M){return A.enter("codeFencedFence"),Ot(M)?Qt(A,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):I(M)}function I(M){return M===s?(A.enter("codeFencedFenceSequence"),W(M)):P(M)}function W(M){return M===s?(T++,A.consume(M),W):T>=o?(A.exit("codeFencedFenceSequence"),Ot(M)?Qt(A,R,"whitespace")(M):R(M)):P(M)}function R(M){return M===null||qe(M)?(A.exit("codeFencedFence"),C(M)):P(M)}}}function Y0e(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const GO={name:"codeIndented",tokenize:Z0e},K0e={partial:!0,tokenize:Q0e};function Z0e(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Qt(e,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):qe(u)?e.attempt(K0e,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||qe(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Q0e(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):qe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Qt(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):qe(o)?i(o):n(o)}}const J0e={name:"codeText",previous:tve,resolve:eve,tokenize:nve};function eve(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function tve(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nve(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,c(f)):qe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||qe(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class rve{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ey(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ey(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ey(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ey(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ey(this.left,n.reverse())}}}function Ey(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function $Z(e){const t={};let n=-1,r,i,a,o,s,l,u;const c=new rve(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ive(c,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=c.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return Xs(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function ive(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let c,f,d=-1,p=n,m=0,g=0;const x=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(g=d+1,x.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),d=x.length;d--;){const v=s.slice(x[d],x[d+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),d=-1;++d<l.length;)u[m+l[d][0]]=m+l[d][1],m+=l[d][1]-l[d][0]-1;return u}const ave={resolve:sve,tokenize:lve},ove={partial:!0,tokenize:uve};function sve(e){return $Z(e),e}function lve(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):qe(s)?e.check(ove,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function uve(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Qt(e,a,"linePrefix")}function a(o){if(o===null||qe(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function TZ(e,t,n,r,i,a,o,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),d):v===null||v===32||v===41||gN(v)?n(v):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(v))}function d(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(s),d(v)):v===null||v===60||qe(v)?n(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function g(v){return!c&&(v===null||v===41||Gi(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(v)):c<u&&v===40?(e.consume(v),c++,g):v===41?(e.consume(v),c--,g):v===null||v===32||v===40||gN(v)?n(v):(e.consume(v),v===92?x:g)}function x(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function NZ(e,t,n,r,i,a){const o=this;let s=0,l;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),c}function c(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):qe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||qe(p)||s++>999?(e.exit("chunkString"),c(p)):(e.consume(p),l||(l=!Ot(p)),p===92?d:f)}function d(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function MZ(e,t,n,r,i,a){let o;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,l):n(d)}function l(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(a),u(d))}function u(d){return d===o?(e.exit(a),l(o)):d===null?n(d):qe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Qt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||qe(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function W0(e,t){let n;return r;function r(i){return qe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ot(i)?Qt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const cve={name:"definition",tokenize:dve},fve={partial:!0,tokenize:hve};function dve(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return NZ.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Ip(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Gi(p)?W0(e,u)(p):u(p)}function u(p){return TZ(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return e.attempt(fve,f,f)(p)}function f(p){return Ot(p)?Qt(e,d,"whitespace")(p):d(p)}function d(p){return p===null||qe(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function hve(e,t,n){return r;function r(s){return Gi(s)?W0(e,i)(s):n(s)}function i(s){return MZ(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Ot(s)?Qt(e,o,"whitespace")(s):o(s)}function o(s){return s===null||qe(s)?t(s):n(s)}}const pve={name:"hardBreakEscape",tokenize:mve};function mve(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return qe(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const gve={name:"headingAtx",resolve:yve,tokenize:vve};function yve(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xs(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function vve(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Gi(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||qe(c)?(e.exit("atxHeading"),t(c)):Ot(c)?Qt(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||Gi(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const xve=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],m8=["pre","script","style","textarea"],bve={concrete:!0,name:"htmlFlow",resolveTo:Sve,tokenize:Eve},_ve={partial:!0,tokenize:kve},wve={partial:!0,tokenize:Ave};function Sve(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Eve(e,t,n){const r=this;let i,a,o,s,l;return u;function u(U){return c(U)}function c(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),f}function f(U){return U===33?(e.consume(U),d):U===47?(e.consume(U),a=!0,g):U===63?(e.consume(U),i=3,r.interrupt?t:N):Cs(U)?(e.consume(U),o=String.fromCharCode(U),x):n(U)}function d(U){return U===45?(e.consume(U),i=2,p):U===91?(e.consume(U),i=5,s=0,m):Cs(U)?(e.consume(U),i=4,r.interrupt?t:N):n(U)}function p(U){return U===45?(e.consume(U),r.interrupt?t:N):n(U)}function m(U){const me="CDATA[";return U===me.charCodeAt(s++)?(e.consume(U),s===me.length?r.interrupt?t:I:m):n(U)}function g(U){return Cs(U)?(e.consume(U),o=String.fromCharCode(U),x):n(U)}function x(U){if(U===null||U===47||U===62||Gi(U)){const me=U===47,le=o.toLowerCase();return!me&&!a&&m8.includes(le)?(i=1,r.interrupt?t(U):I(U)):xve.includes(o.toLowerCase())?(i=6,me?(e.consume(U),v):r.interrupt?t(U):I(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):a?b(U):_(U))}return U===45||ya(U)?(e.consume(U),o+=String.fromCharCode(U),x):n(U)}function v(U){return U===62?(e.consume(U),r.interrupt?t:I):n(U)}function b(U){return Ot(U)?(e.consume(U),b):D(U)}function _(U){return U===47?(e.consume(U),D):U===58||U===95||Cs(U)?(e.consume(U),k):Ot(U)?(e.consume(U),_):D(U)}function k(U){return U===45||U===46||U===58||U===95||ya(U)?(e.consume(U),k):E(U)}function E(U){return U===61?(e.consume(U),A):Ot(U)?(e.consume(U),E):_(U)}function A(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),l=U,C):Ot(U)?(e.consume(U),A):P(U)}function C(U){return U===l?(e.consume(U),l=null,T):U===null||qe(U)?n(U):(e.consume(U),C)}function P(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Gi(U)?E(U):(e.consume(U),P)}function T(U){return U===47||U===62||Ot(U)?_(U):n(U)}function D(U){return U===62?(e.consume(U),j):n(U)}function j(U){return U===null||qe(U)?I(U):Ot(U)?(e.consume(U),j):n(U)}function I(U){return U===45&&i===2?(e.consume(U),z):U===60&&i===1?(e.consume(U),H):U===62&&i===4?(e.consume(U),Z):U===63&&i===3?(e.consume(U),N):U===93&&i===5?(e.consume(U),G):qe(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(_ve,Y,W)(U)):U===null||qe(U)?(e.exit("htmlFlowData"),W(U)):(e.consume(U),I)}function W(U){return e.check(wve,R,Y)(U)}function R(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),M}function M(U){return U===null||qe(U)?W(U):(e.enter("htmlFlowData"),I(U))}function z(U){return U===45?(e.consume(U),N):I(U)}function H(U){return U===47?(e.consume(U),o="",B):I(U)}function B(U){if(U===62){const me=o.toLowerCase();return m8.includes(me)?(e.consume(U),Z):I(U)}return Cs(U)&&o.length<8?(e.consume(U),o+=String.fromCharCode(U),B):I(U)}function G(U){return U===93?(e.consume(U),N):I(U)}function N(U){return U===62?(e.consume(U),Z):U===45&&i===2?(e.consume(U),N):I(U)}function Z(U){return U===null||qe(U)?(e.exit("htmlFlowData"),Y(U)):(e.consume(U),Z)}function Y(U){return e.exit("htmlFlow"),t(U)}}function Ave(e,t,n){const r=this;return i;function i(o){return qe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function kve(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(WE,t,n)}}const Cve={name:"htmlText",tokenize:Ove};function Ove(e,t,n){const r=this;let i,a,o;return s;function s(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),l}function l(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),E):N===63?(e.consume(N),_):Cs(N)?(e.consume(N),P):n(N)}function u(N){return N===45?(e.consume(N),c):N===91?(e.consume(N),a=0,m):Cs(N)?(e.consume(N),b):n(N)}function c(N){return N===45?(e.consume(N),p):n(N)}function f(N){return N===null?n(N):N===45?(e.consume(N),d):qe(N)?(o=f,H(N)):(e.consume(N),f)}function d(N){return N===45?(e.consume(N),p):f(N)}function p(N){return N===62?z(N):N===45?d(N):f(N)}function m(N){const Z="CDATA[";return N===Z.charCodeAt(a++)?(e.consume(N),a===Z.length?g:m):n(N)}function g(N){return N===null?n(N):N===93?(e.consume(N),x):qe(N)?(o=g,H(N)):(e.consume(N),g)}function x(N){return N===93?(e.consume(N),v):g(N)}function v(N){return N===62?z(N):N===93?(e.consume(N),v):g(N)}function b(N){return N===null||N===62?z(N):qe(N)?(o=b,H(N)):(e.consume(N),b)}function _(N){return N===null?n(N):N===63?(e.consume(N),k):qe(N)?(o=_,H(N)):(e.consume(N),_)}function k(N){return N===62?z(N):_(N)}function E(N){return Cs(N)?(e.consume(N),A):n(N)}function A(N){return N===45||ya(N)?(e.consume(N),A):C(N)}function C(N){return qe(N)?(o=C,H(N)):Ot(N)?(e.consume(N),C):z(N)}function P(N){return N===45||ya(N)?(e.consume(N),P):N===47||N===62||Gi(N)?T(N):n(N)}function T(N){return N===47?(e.consume(N),z):N===58||N===95||Cs(N)?(e.consume(N),D):qe(N)?(o=T,H(N)):Ot(N)?(e.consume(N),T):z(N)}function D(N){return N===45||N===46||N===58||N===95||ya(N)?(e.consume(N),D):j(N)}function j(N){return N===61?(e.consume(N),I):qe(N)?(o=j,H(N)):Ot(N)?(e.consume(N),j):T(N)}function I(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,W):qe(N)?(o=I,H(N)):Ot(N)?(e.consume(N),I):(e.consume(N),R)}function W(N){return N===i?(e.consume(N),i=void 0,M):N===null?n(N):qe(N)?(o=W,H(N)):(e.consume(N),W)}function R(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Gi(N)?T(N):(e.consume(N),R)}function M(N){return N===47||N===62||Gi(N)?T(N):n(N)}function z(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function H(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),B}function B(N){return Ot(N)?Qt(e,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):G(N)}function G(N){return e.enter("htmlTextData"),o(N)}}const u3={name:"labelEnd",resolveAll:Nve,resolveTo:Mve,tokenize:Dve},Pve={tokenize:jve},$ve={tokenize:Ive},Tve={tokenize:Lve};function Nve(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Xs(e,0,e.length,n),e}function Mve(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=qa(s,e.slice(a+1,a+r+3)),s=qa(s,[["enter",c,t]]),s=qa(s,l3(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=qa(s,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),s=qa(s,e.slice(o+1)),s=qa(s,[["exit",l,t]]),Xs(e,a,e.length,s),e}function Dve(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(d){return a?a._inactive?f(d):(o=r.parser.defined.includes(Ip(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):n(d)}function l(d){return d===40?e.attempt(Pve,c,o?c:f)(d):d===91?e.attempt($ve,c,o?u:f)(d):o?c(d):f(d)}function u(d){return e.attempt(Tve,c,f)(d)}function c(d){return t(d)}function f(d){return a._balanced=!0,n(d)}}function jve(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Gi(f)?W0(e,a)(f):a(f)}function a(f){return f===41?c(f):TZ(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Gi(f)?W0(e,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?MZ(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return Gi(f)?W0(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Ive(e,t,n){const r=this;return i;function i(s){return NZ.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Ip(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Lve(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Fve={name:"labelStartImage",resolveAll:u3.resolveAll,tokenize:Rve};function Rve(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const zve={name:"labelStartLink",resolveAll:u3.resolveAll,tokenize:Bve};function Bve(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const VO={name:"lineEnding",tokenize:Uve};function Uve(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Qt(e,t,"linePrefix")}}const X_={name:"thematicBreak",tokenize:Wve};function Wve(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||qe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ot(u)?Qt(e,s,"whitespace")(u):s(u))}}const Ni={continuation:{tokenize:Vve},exit:Yve,name:"list",tokenize:Gve},Hve={partial:!0,tokenize:Kve},qve={partial:!0,tokenize:Xve};function Gve(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:yN(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(X_,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return yN(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(WE,r.interrupt?n:c,e.attempt(Hve,d,f))}function c(p){return r.containerState.initialBlankLine=!0,a++,d(p)}function f(p){return Ot(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),d):n(p)}function d(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Vve(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(WE,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qt(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Ot(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qve,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qt(e,e.attempt(Ni,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Xve(e,t,n){const r=this;return Qt(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function Yve(e){e.exit(this.containerState.type)}function Kve(e,t,n){const r=this;return Qt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ot(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const g8={name:"setextUnderline",resolveTo:Zve,tokenize:Qve};function Zve(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Qve(e,t,n){const r=this;let i;return a;function a(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),Ot(u)?Qt(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||qe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Jve={tokenize:e1e};function e1e(e){const t=this,n=e.attempt(WE,r,e.attempt(this.parser.constructs.flowInitial,i,Qt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ave,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const t1e={resolveAll:jZ()},n1e=DZ("string"),r1e=DZ("text");function DZ(e){return{resolveAll:jZ(e==="text"?i1e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(c){return u(c)?a(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const p=f[d];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function jZ(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function i1e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const a1e={42:Ni,43:Ni,45:Ni,48:Ni,49:Ni,50:Ni,51:Ni,52:Ni,53:Ni,54:Ni,55:Ni,56:Ni,57:Ni,62:CZ},o1e={91:cve},s1e={[-2]:GO,[-1]:GO,32:GO},l1e={35:gve,42:X_,45:[g8,X_],60:bve,61:g8,95:X_,96:p8,126:p8},u1e={38:PZ,92:OZ},c1e={[-5]:VO,[-4]:VO,[-3]:VO,33:Fve,38:PZ,42:vN,60:[z0e,Cve],91:zve,92:[pve,OZ],93:u3,95:vN,96:J0e},f1e={null:[vN,t1e]},d1e={null:[42,95]},h1e={null:[]},p1e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:d1e,contentInitial:o1e,disable:h1e,document:a1e,flow:l1e,flowInitial:s1e,insideSpan:f1e,string:u1e,text:c1e},Symbol.toStringTag,{value:"Module"}));function m1e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:C(E),check:C(A),consume:b,enter:_,exit:k,interrupt:C(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:d,sliceStream:p,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(j){return o=qa(o,j),x(),o[o.length-1]!==null?[]:(P(t,0),u.events=l3(a,u.events,u),u.events)}function d(j,I){return y1e(p(j),I)}function p(j){return g1e(o,j)}function m(){const{_bufferIndex:j,_index:I,line:W,column:R,offset:M}=r;return{_bufferIndex:j,_index:I,line:W,column:R,offset:M}}function g(j){i[j.line]=j.column,D()}function x(){let j;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<I.length;)v(I.charCodeAt(r._bufferIndex));else v(I)}}function v(j){c=c(j)}function b(j){qe(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,D()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=j}function _(j,I){const W=I||{};return W.type=j,W.start=m(),u.events.push(["enter",W,u]),s.push(W),W}function k(j){const I=s.pop();return I.end=m(),u.events.push(["exit",I,u]),I}function E(j,I){P(j,I.from)}function A(j,I){I.restore()}function C(j,I){return W;function W(R,M,z){let H,B,G,N;return Array.isArray(R)?Y(R):"tokenize"in R?Y([R]):Z(R);function Z(ve){return mt;function mt(it){const be=it!==null&&ve[it],De=it!==null&&ve.null,Re=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(De)?De:De?[De]:[]];return Y(Re)(it)}}function Y(ve){return H=ve,B=0,ve.length===0?z:U(ve[B])}function U(ve){return mt;function mt(it){return N=T(),G=ve,ve.partial||(u.currentConstruct=ve),ve.name&&u.parser.constructs.disable.null.includes(ve.name)?le():ve.tokenize.call(I?Object.assign(Object.create(u),I):u,l,me,le)(it)}}function me(ve){return j(G,N),M}function le(ve){return N.restore(),++B<H.length?U(H[B]):z}}}function P(j,I){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&Xs(u.events,I,u.events.length-I,j.resolve(u.events.slice(I),u)),j.resolveTo&&(u.events=j.resolveTo(u.events,u))}function T(){const j=m(),I=u.previous,W=u.currentConstruct,R=u.events.length,M=Array.from(s);return{from:R,restore:z};function z(){r=j,u.previous=I,u.currentConstruct=W,u.events.length=R,s=M,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function g1e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function y1e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function v1e(e){const r={constructs:A0e([p1e,...(e||{}).extensions||[]]),content:i(M0e),defined:[],document:i(j0e),flow:i(Jve),lazy:{},string:i(n1e),text:i(r1e)};return r;function i(a){return o;function o(s){return m1e(r,a,s)}}}function x1e(e){for(;!$Z(e););return e}const y8=/[\0\t\n\r]/g;function b1e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let u,c,f,d,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(y8.lastIndex=f,u=y8.exec(a),d=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(d),!u){t=a.slice(f);break}if(p===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(a.slice(f,d)),e+=d-f),p){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const _1e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w1e(e){return e.replace(_1e,S1e)}function S1e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return kZ(n.slice(a?2:1),a?16:10)}return s3(n)||e}const IZ={}.hasOwnProperty;function E1e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),A1e(n)(x1e(v1e(n).document().write(b1e()(e,t,!0))))}function A1e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(bo),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(zt),blockQuote:a(De),characterEscape:T,characterReference:T,codeFenced:a(Re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Re,o),codeText:a(oe,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(Ct),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(nt),hardBreakEscape:a(Tt),hardBreakTrailing:a(Tt),htmlFlow:a(ln,o),htmlFlowData:T,htmlText:a(ln,o),htmlTextData:T,image:a(gr),label:o,link:a(bo),listItem:a(aa),listItemValue:d,listOrdered:a(ds,f),listUnordered:a(ds),paragraph:a(Na),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(zt),strong:a(ju),thematicBreak:a(Ch)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:be,autolinkProtocol:it,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ve,characterReference:mt,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:D,codeIndented:l(v),codeText:l(M),codeTextData:D,data:D,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(W),htmlFlowData:D,htmlText:l(R),htmlTextData:D,image:l(H),label:G,labelText:B,lineEnding:j,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:me,resourceDestinationString:N,resourceTitleString:Z,resource:Y,setextHeading:l(P),setextHeadingLineSequence:C,setextHeadingText:A,strong:l(),thematicBreak:l()}};LZ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let we={type:"root",children:[]};const Ve={stack:[we],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:c,data:n},ut=[];let Nt=-1;for(;++Nt<ie.length;)if(ie[Nt][1].type==="listOrdered"||ie[Nt][1].type==="listUnordered")if(ie[Nt][0]==="enter")ut.push(Nt);else{const $i=ut.pop();Nt=i(ie,$i,Nt)}for(Nt=-1;++Nt<ie.length;){const $i=t[ie[Nt][0]];IZ.call($i,ie[Nt][1].type)&&$i[ie[Nt][1].type].call(Object.assign({sliceSerialize:ie[Nt][2].sliceSerialize},Ve),ie[Nt][1])}if(Ve.tokenStack.length>0){const $i=Ve.tokenStack[Ve.tokenStack.length-1];($i[1]||v8).call(Ve,void 0,$i[0])}for(we.position={start:zu(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:zu(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Nt=-1;++Nt<t.transforms.length;)we=t.transforms[Nt](we)||we;return we}function i(ie,we,Ve){let ut=we-1,Nt=-1,$i=!1,bl,Ma,_l,Iu;for(;++ut<=Ve;){const ri=ie[ut];switch(ri[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ri[0]==="enter"?Nt++:Nt--,Iu=void 0;break}case"lineEndingBlank":{ri[0]==="enter"&&(bl&&!Iu&&!Nt&&!_l&&(_l=ut),Iu=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Iu=void 0}if(!Nt&&ri[0]==="enter"&&ri[1].type==="listItemPrefix"||Nt===-1&&ri[0]==="exit"&&(ri[1].type==="listUnordered"||ri[1].type==="listOrdered")){if(bl){let Da=ut;for(Ma=void 0;Da--;){const _o=ie[Da];if(_o[1].type==="lineEnding"||_o[1].type==="lineEndingBlank"){if(_o[0]==="exit")continue;Ma&&(ie[Ma][1].type="lineEndingBlank",$i=!0),_o[1].type="lineEnding",Ma=Da}else if(!(_o[1].type==="linePrefix"||_o[1].type==="blockQuotePrefix"||_o[1].type==="blockQuotePrefixWhitespace"||_o[1].type==="blockQuoteMarker"||_o[1].type==="listItemIndent"))break}_l&&(!Ma||_l<Ma)&&(bl._spread=!0),bl.end=Object.assign({},Ma?ie[Ma][1].start:ri[1].end),ie.splice(Ma||ut,0,["exit",bl,ri[2]]),ut++,Ve++}if(ri[1].type==="listItemPrefix"){const Da={type:"listItem",_spread:!1,start:Object.assign({},ri[1].start),end:void 0};bl=Da,ie.splice(ut,0,["enter",Da,ri[2]]),ut++,Ve++,_l=void 0,Iu=!0}}}return ie[we][1]._spread=$i,Ve}function a(ie,we){return Ve;function Ve(ut){s.call(this,ie(ut),ut),we&&we.call(this,ut)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ie,we,Ve){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([we,Ve||void 0]),ie.position={start:zu(we.start),end:void 0}}function l(ie){return we;function we(Ve){ie&&ie.call(this,Ve),u.call(this,Ve)}}function u(ie,we){const Ve=this.stack.pop(),ut=this.tokenStack.pop();if(ut)ut[0].type!==ie.type&&(we?we.call(this,ie,ut[0]):(ut[1]||v8).call(this,ie,ut[0]));else throw new Error("Cannot close `"+ie.type+"` ("+U0({start:ie.start,end:ie.end})+"): its not open");Ve.position.end=zu(ie.end)}function c(){return S0e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(ie){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.lang=ie}function m(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.meta=ie}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie.replace(/(\r?\n|\r)$/g,"")}function b(ie){const we=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=we,Ve.identifier=Ip(this.sliceSerialize(ie)).toLowerCase()}function _(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.title=ie}function k(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.url=ie}function E(ie){const we=this.stack[this.stack.length-1];if(!we.depth){const Ve=this.sliceSerialize(ie).length;we.depth=Ve}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function C(ie){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ie){const Ve=this.stack[this.stack.length-1].children;let ut=Ve[Ve.length-1];(!ut||ut.type!=="text")&&(ut=kh(),ut.position={start:zu(ie.start),end:void 0},Ve.push(ut)),this.stack.push(ut)}function D(ie){const we=this.stack.pop();we.value+=this.sliceSerialize(ie),we.position.end=zu(ie.end)}function j(ie){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=we.children[we.children.length-1];Ve.position.end=zu(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(we.type)&&(T.call(this,ie),D.call(this,ie))}function I(){this.data.atHardBreak=!0}function W(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie}function R(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie}function M(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie}function z(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=we,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function H(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=we,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function B(ie){const we=this.sliceSerialize(ie),Ve=this.stack[this.stack.length-2];Ve.label=w1e(we),Ve.identifier=Ip(we).toLowerCase()}function G(){const ie=this.stack[this.stack.length-1],we=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const ut=ie.children;Ve.children=ut}else Ve.alt=we}function N(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.url=ie}function Z(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.title=ie}function Y(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function me(ie){const we=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=we,Ve.identifier=Ip(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function le(ie){this.data.characterReferenceType=ie.type}function ve(ie){const we=this.sliceSerialize(ie),Ve=this.data.characterReferenceType;let ut;Ve?(ut=kZ(we,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ut=s3(we);const Nt=this.stack[this.stack.length-1];Nt.value+=ut}function mt(ie){const we=this.stack.pop();we.position.end=zu(ie.end)}function it(ie){D.call(this,ie);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ie)}function be(ie){D.call(this,ie);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ie)}function De(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function Ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nt(){return{type:"emphasis",children:[]}}function zt(){return{type:"heading",depth:0,children:[]}}function Tt(){return{type:"break"}}function ln(){return{type:"html",value:""}}function gr(){return{type:"image",title:null,url:"",alt:null}}function bo(){return{type:"link",title:null,url:"",children:[]}}function ds(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function aa(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Na(){return{type:"paragraph",children:[]}}function ju(){return{type:"strong",children:[]}}function kh(){return{type:"text",value:""}}function Ch(){return{type:"thematicBreak"}}}function zu(e){return{line:e.line,column:e.column,offset:e.offset}}function LZ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?LZ(e,r):k1e(e,r)}}function k1e(e,t){let n;for(n in t)if(IZ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function v8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+U0({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+U0({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+U0({start:t.start,end:t.end})+") is still open")}function C1e(e){const t=this;t.parser=n;function n(r){return E1e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function O1e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function P1e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $1e(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function T1e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function N1e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M1e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=hg(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function D1e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j1e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function FZ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function I1e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FZ(e,t);const i={src:hg(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function L1e(e,t){const n={src:hg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function F1e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function R1e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FZ(e,t);const i={href:hg(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function z1e(e,t){const n={href:hg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B1e(e,t,n){const r=e.all(t),i=n?U1e(n):RZ(t),a={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function U1e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=RZ(n[r])}return t}function RZ(e){const t=e.spread;return t??e.children.length>1}function W1e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function H1e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q1e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function G1e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V1e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=r3(t.children[1]),l=xZ(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function X1e(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const f=t.children[l],d={},p=o?o[l]:void 0;p&&(d.align=p);let m={type:"element",tagName:a,properties:d,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Y1e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const x8=9,b8=32;function K1e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(_8(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(_8(t.slice(i),i>0,!1)),a.join("")}function _8(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===x8||a===b8;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===x8||a===b8;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Z1e(e,t){const n={type:"text",value:K1e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Q1e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const J1e={blockquote:O1e,break:P1e,code:$1e,delete:T1e,emphasis:N1e,footnoteReference:M1e,heading:D1e,html:j1e,imageReference:I1e,image:L1e,inlineCode:F1e,linkReference:R1e,link:z1e,listItem:B1e,list:W1e,paragraph:H1e,root:q1e,strong:G1e,table:V1e,tableCell:Y1e,tableRow:X1e,text:Z1e,thematicBreak:Q1e,toml:Ib,yaml:Ib,definition:Ib,footnoteDefinition:Ib};function Ib(){}const zZ=-1,HE=0,H0=1,Yw=2,c3=3,f3=4,d3=5,h3=6,BZ=7,UZ=8,w8=typeof self=="object"?self:globalThis,exe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case HE:case zZ:return n(o,i);case H0:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Yw:{const s=n({},i);for(const[l,u]of o)s[r(l)]=r(u);return s}case c3:return n(new Date(o),i);case f3:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case d3:{const s=n(new Map,i);for(const[l,u]of o)s.set(r(l),r(u));return s}case h3:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case BZ:{const{name:s,message:l}=o;return n(new w8[s](l),i)}case UZ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new w8[a](o),i)};return r},S8=e=>exe(new Map,e)(0),Fh="",{toString:txe}={},{keys:nxe}=Object,Ay=e=>{const t=typeof e;if(t!=="object"||!e)return[HE,t];const n=txe.call(e).slice(8,-1);switch(n){case"Array":return[H0,Fh];case"Object":return[Yw,Fh];case"Date":return[c3,Fh];case"RegExp":return[f3,Fh];case"Map":return[d3,Fh];case"Set":return[h3,Fh];case"DataView":return[H0,n]}return n.includes("Array")?[H0,n]:n.includes("Error")?[BZ,n]:[Yw,n]},Lb=([e,t])=>e===HE&&(t==="function"||t==="symbol"),rxe=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Ay(o);switch(s){case HE:{let c=o;switch(l){case"bigint":s=UZ,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([zZ],o)}return i([s,c],o)}case H0:{if(l){let d=o;return l==="DataView"?d=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(o)),i([l,[...d]],o)}const c=[],f=i([s,c],o);for(const d of o)c.push(a(d));return f}case Yw:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const c=[],f=i([s,c],o);for(const d of nxe(o))(e||!Lb(Ay(o[d])))&&c.push([a(d),a(o[d])]);return f}case c3:return i([s,o.toISOString()],o);case f3:{const{source:c,flags:f}=o;return i([s,{source:c,flags:f}],o)}case d3:{const c=[],f=i([s,c],o);for(const[d,p]of o)(e||!(Lb(Ay(d))||Lb(Ay(p))))&&c.push([a(d),a(p)]);return f}case h3:{const c=[],f=i([s,c],o);for(const d of o)(e||!Lb(Ay(d)))&&c.push(a(d));return f}}const{message:u}=o;return i([s,{name:l,message:u}],o)};return a},E8=(e,{json:t,lossy:n}={})=>{const r=[];return rxe(!(t||n),!!t,new Map,r)(e),r},Kw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?S8(E8(e,t)):structuredClone(e):(e,t)=>S8(E8(e,t));function ixe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function axe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function oxe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ixe,r=e.options.footnoteBackLabel||axe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),d=hg(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else c.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Kw(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const WZ=function(e){if(e==null)return cxe;if(typeof e=="function")return qE(e);if(typeof e=="object")return Array.isArray(e)?sxe(e):lxe(e);if(typeof e=="string")return uxe(e);throw new Error("Expected function, string, or object as test")};function sxe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=WZ(e[n]);return qE(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function lxe(e){const t=e;return qE(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function uxe(e){return qE(t);function t(n){return n&&n.type===e}}function qE(e){return t;function t(n,r,i){return!!(fxe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cxe(){return!0}function fxe(e){return e!==null&&typeof e=="object"&&"type"in e}const HZ=[],dxe=!0,A8=!1,hxe="skip";function pxe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=WZ(i),o=r?-1:1;s(e,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return d;function d(){let p=HZ,m,g,x;if((!t||a(l,u,c[c.length-1]||void 0))&&(p=mxe(n(l,c)),p[0]===A8))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==hxe)for(g=(r?v.children.length:-1)+o,x=c.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(m=s(b,g,x)(),m[0]===A8)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function mxe(e){return Array.isArray(e)?e:typeof e=="number"?[dxe,e]:e==null?HZ:[e]}function qZ(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),pxe(e,a,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return o(l,f,c)}}const xN={}.hasOwnProperty,gxe={};function yxe(e,t){const n=t||gxe,r=new Map,i=new Map,a=new Map,o={...J1e,...n.handlers},s={all:u,applyData:xxe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:vxe,wrap:_xe};return qZ(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),s;function l(c,f){const d=c.type,p=s.handlers[d];if(xN.call(s.handlers,d)&&p)return p(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in c){const{children:g,...x}=c,v=Kw(x);return v.children=s.all(c),v}return Kw(c)}return(s.options.unknownHandler||bxe)(s,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let p=-1;for(;++p<d.length;){const m=s.one(d[p],c);if(m){if(p&&d[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=k8(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=k8(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function vxe(e,t){e.position&&(t.position=t0e(e))}function xxe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Kw(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function bxe(e,t){const n=t.data||{},r="value"in t&&!(xN.call(n,"hProperties")||xN.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _xe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function k8(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function C8(e,t){const n=yxe(e,t),r=n.one(e,void 0),i=oxe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function wxe(e,t){return e&&"run"in e?async function(n,r){const i=C8(n,{file:r,...t});await e.run(i,r)}:function(n,r){return C8(n,{file:r,...e||t})}}function O8(e){if(e)throw e}var Y_=Object.prototype.hasOwnProperty,GZ=Object.prototype.toString,P8=Object.defineProperty,$8=Object.getOwnPropertyDescriptor,T8=function(t){return typeof Array.isArray=="function"?Array.isArray(t):GZ.call(t)==="[object Array]"},N8=function(t){if(!t||GZ.call(t)!=="[object Object]")return!1;var n=Y_.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Y_.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Y_.call(t,i)},M8=function(t,n){P8&&n.name==="__proto__"?P8(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},D8=function(t,n){if(n==="__proto__")if(Y_.call(t,n)){if($8)return $8(t,n).value}else return;return t[n]},Sxe=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=D8(s,n),i=D8(t,n),s!==i&&(c&&i&&(N8(i)||(a=T8(i)))?(a?(a=!1,o=r&&T8(r)?r:[]):o=r&&N8(r)?r:{},M8(s,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&M8(s,{name:n,newValue:i}));return s};const XO=kt(Sxe);function bN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Exe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...u){const c=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?Axe(c,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Axe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const _s={basename:kxe,dirname:Cxe,extname:Oxe,join:Pxe,sep:"/"};function kxe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Q1(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Cxe(e){if(Q1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Oxe(e){Q1(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Pxe(...e){let t=-1,n;for(;++t<e.length;)Q1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":$xe(n)}function $xe(e){Q1(e);const t=e.codePointAt(0)===47;let n=Txe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Txe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Q1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Nxe={cwd:Mxe};function Mxe(){return"/"}function _N(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Dxe(e){if(typeof e=="string")e=new URL(e);else if(!_N(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jxe(e)}function jxe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const YO=["history","path","basename","stem","extname","dirname"];class VZ{constructor(t){let n;t?_N(t)?n={path:t}:typeof t=="string"||Ixe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Nxe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<YO.length;){const a=YO[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)YO.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?_s.basename(this.path):void 0}set basename(t){ZO(t,"basename"),KO(t,"basename"),this.path=_s.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_s.dirname(this.path):void 0}set dirname(t){j8(this.basename,"dirname"),this.path=_s.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_s.extname(this.path):void 0}set extname(t){if(KO(t,"extname"),j8(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_s.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){_N(t)&&(t=Dxe(t)),ZO(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_s.basename(this.path,this.extname):void 0}set stem(t){ZO(t,"stem"),KO(t,"stem"),this.path=_s.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ni(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function KO(e,t){if(e&&e.includes(_s.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_s.sep+"`")}function ZO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function j8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ixe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Lxe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Fxe={}.hasOwnProperty;class p3 extends Lxe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Exe()}copy(){const t=new p3;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(XO(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(eP("data",this.frozen),this.namespace[t]=n,this):Fxe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(eP("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Fb(t),r=this.parser||this.Parser;return QO("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),QO("process",this.parser||this.Parser),JO("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Fb(t),l=r.parse(s);r.run(l,s,function(c,f,d){if(c||!f||!d)return u(c);const p=f,m=r.stringify(p,d);Bxe(m)?d.value=m:d.result=m,u(c,d)});function u(c,f){c||!f?o(c):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),QO("processSync",this.parser||this.Parser),JO("processSync",this.compiler||this.Compiler),this.process(t,i),L8("processSync","process",n),r;function i(a,o){n=!0,O8(a),r=o}}run(t,n,r){I8(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=Fb(n);i.run(t,l,u);function u(c,f,d){const p=f||t;c?s(c):o?o(p):r(void 0,p,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),L8("runSync","run",r),i;function a(o,s){O8(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Fb(n),i=this.compiler||this.Compiler;return JO("stringify",i),I8(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(eP("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=XO(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const g=r[d][1];bN(g)&&bN(p)&&(p=XO(!0,g,p)),r[d]=[u,p,...m]}}}}const Rxe=new p3().freeze();function QO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function JO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function eP(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function I8(e){if(!bN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function L8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Fb(e){return zxe(e)?e:new VZ(e)}function zxe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Bxe(e){return typeof e=="string"||Uxe(e)}function Uxe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Wxe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",F8=[],R8={allowDangerousHtml:!0},Hxe=/^(https?|ircs?|mailto|xmpp)$/i,qxe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Gxe(e){const t=Vxe(e),n=Xxe(e);return Yxe(t.runSync(t.parse(n),n),e)}function Vxe(e){const t=e.rehypePlugins||F8,n=e.remarkPlugins||F8,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...R8}:R8;return Rxe().use(C1e).use(n).use(wxe,r).use(t)}function Xxe(e){const t=e.children||"",n=new VZ;return typeof t=="string"&&(n.value=t),n}function Yxe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Kxe;for(const c of qxe)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Wxe+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),qZ(e,u),o0e(e,{Fragment:S.Fragment,components:i,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function u(c,f,d){if(c.type==="raw"&&d&&typeof f=="number")return o?d.children.splice(f,1):d.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let p;for(p in qO)if(Object.hasOwn(qO,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],g=qO[p];(g===null||g.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):a?a.includes(c.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(c,f,d)),p&&d&&typeof f=="number")return s&&c.children?d.children.splice(f,1,...c.children):d.children.splice(f,1),f}}}function Kxe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Hxe.test(e.slice(0,t))?e:""}const Zxe=/("(?:[^\\"]|\\.)*")|[:,]/g;function tP(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function a(o,s,l){o&&typeof o.toJSON=="function"&&(o=o.toJSON());const u=JSON.stringify(o,i);if(u===void 0)return u;const c=r-s.length-l;if(u.length<=c){const f=u.replace(Zxe,(d,p)=>p||`${d} `);if(f.length<=c)return f}if(i!=null&&(o=JSON.parse(u),i=void 0),typeof o=="object"&&o!==null){const f=s+n,d=[];let p=0,m,g;if(Array.isArray(o)){m="[",g="]";const{length:x}=o;for(;p<x;p++)d.push(a(o[p],f,p===x-1?0:1)||"null")}else{m="{",g="}";const x=Object.keys(o),{length:v}=x;for(;p<v;p++){const b=x[p],_=`${JSON.stringify(b)}: `,k=a(o[b],f,_.length+(p===v-1?0:1));k!==void 0&&d.push(_+k)}}if(d.length>0)return[m,n+d.join(`,
${f}`),g].join(`
${s}`)}return u}(e,"",0)}function na(e,t,n){return e.fields=t||[],e.fname=n,e}function kn(e){return e==null?null:e.fname}function Vr(e){return e==null?null:e.fields}function XZ(e){return e.length===1?Qxe(e[0]):Jxe(e)}const Qxe=e=>function(t){return t[e]},Jxe=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ee(e){throw Error(e)}function al(e){const t=[],n=e.length;let r=null,i=0,a="",o,s,l;e=e+"";function u(){t.push(a+e.substring(o,s)),a="",o=s+1}for(o=s=0;s<n;++s)if(l=e[s],l==="\\")a+=e.substring(o,s++),o=s;else if(l===r)u(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=s+1,r=l):l==="."&&!i?s>o?u():o=s+1:l==="["?(s>o&&u(),i=o=s+1):l==="]"&&(i||ee("Access path missing open bracket: "+e),i>0&&u(),i=0,o=s+1)}return i&&ee("Access path missing closing bracket: "+e),r&&ee("Access path missing closing quote: "+e),s>o&&(s++,u()),t}function oo(e,t,n){const r=al(e);return e=r.length===1?r[0]:e,na((n&&n.get||XZ)(r),[e],t||e)}const J1=oo("id"),ei=na(e=>e,[],"identity"),nc=na(()=>0,[],"zero"),pg=na(()=>1,[],"one"),so=na(()=>!0,[],"true"),Uu=na(()=>!1,[],"false"),m3=new Set(Object.getOwnPropertyNames(Object.prototype));function ebe(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const YZ=0,g3=1,y3=2,KZ=3,ZZ=4;function v3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ebe,r=e||YZ;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=g3&&n(t||"error","ERROR",arguments),this},warn(){return r>=y3&&n(t||"warn","WARN",arguments),this},info(){return r>=KZ&&n(t||"log","INFO",arguments),this},debug(){return r>=ZZ&&n(t||"log","DEBUG",arguments),this}}}var ae=Array.isArray;function Se(e){return e===Object(e)}const z8=e=>e!=="__proto__";function mg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const a in i)if(a==="signals")r.signals=tbe(r.signals,i.signals);else{const o=a==="legend"?{layout:1}:a==="style"?!0:null;gg(r,a,i[a],o)}return r},{})}function gg(e,t,n,r){if(!z8(t))return;let i,a;if(Se(n)&&!ae(n)){a=Se(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?gg(a,i,n[i]):z8(i)&&(a[i]=n[i])}else e[t]=n}function tbe(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function pt(e){return e[e.length-1]}function qr(e){return e==null||e===""?null:+e}const QZ=e=>t=>e*Math.exp(t),JZ=e=>t=>Math.log(e*t),eQ=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),tQ=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Zw=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function GE(e,t,n,r){const i=n(e[0]),a=n(pt(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function nQ(e,t){return GE(e,t,qr,ei)}function rQ(e,t){var n=Math.sign(e[0]);return GE(e,t,JZ(n),QZ(n))}function iQ(e,t,n){return GE(e,t,Zw(n),Zw(1/n))}function aQ(e,t,n){return GE(e,t,eQ(n),tQ(n))}function VE(e,t,n,r,i){const a=r(e[0]),o=r(pt(e)),s=t!=null?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function x3(e,t,n){return VE(e,t,n,qr,ei)}function b3(e,t,n){const r=Math.sign(e[0]);return VE(e,t,n,JZ(r),QZ(r))}function Qw(e,t,n,r){return VE(e,t,n,Zw(r),Zw(1/r))}function _3(e,t,n,r){return VE(e,t,n,eQ(r),tQ(r))}function oQ(e){return 1+~~(new Date(e).getMonth()/3)}function sQ(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ae(e){return e!=null?ae(e)?e:[e]:[]}function lQ(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function et(e){return typeof e=="function"}const nbe="descending";function w3(e,t,n){n=n||{},t=Ae(t)||[];const r=[],i=[],a={},o=n.comparator||rbe;return Ae(e).forEach((s,l)=>{s!=null&&(r.push(t[l]===nbe?-1:1),i.push(s=et(s)?s:oo(s,null,n)),(Vr(s)||[]).forEach(u=>a[u]=1))}),i.length===0?null:na(o(i,r),Object.keys(a))}const yg=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),rbe=(e,t)=>e.length===1?ibe(e[0],t[0]):abe(e,t,e.length),ibe=(e,t)=>function(n,r){return yg(e(n),e(r))*t},abe=(e,t,n)=>(t.push(0),function(r,i){let a,o=0,s=-1;for(;o===0&&++s<n;)a=e[s],o=yg(a(r),a(i));return o*t[s]});function ti(e){return et(e)?e:()=>e}function S3(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Je(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Ys(e,t){let n=0,r,i,a,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=o=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>o&&(o=i))}return[a,o]}function uQ(e,t){const n=e.length;let r=-1,i,a,o,s,l;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}return[s,l]}function ke(e,t){return Object.hasOwn(e,t)}const Rb={};function vg(e){let t={},n;function r(a){return ke(t,a)&&t[a]!==Rb}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,o){return r(a)||(++i.size,t[a]===Rb&&--i.empty),t[a]=o,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=Rb),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let o=0;for(const s in t){const l=t[s];l!==Rb&&(!n||!n(l))&&(a[s]=l,++o)}i.size=o,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function cQ(e,t,n,r,i,a){if(!n&&n!==0)return a;const o=+n;let s=e[0],l=pt(e),u;l<s&&(u=s,s=l,l=u),u=Math.abs(t-s);const c=Math.abs(l-t);return u<c&&u<=o?r:c<=o?i:a}function xe(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Je(r,n)}function gp(e,t,n,r){let i=t[0],a=t[t.length-1],o;return i>a&&(o=i,i=a,a=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function Qc(e){return typeof e=="boolean"}function Ac(e){return Object.prototype.toString.call(e)==="[object Date]"}function fQ(e){return e&&et(e[Symbol.iterator])}function St(e){return typeof e=="number"}function E3(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ee(e){return typeof e=="string"}function A3(e,t,n){e&&(e=t?Ae(e).map(s=>s.replace(/\\(.)/g,"$1")):Ae(e));const r=e&&e.length,i=n&&n.get||XZ,a=s=>i(t?[s]:al(s));let o;if(!r)o=function(){return""};else if(r===1){const s=a(e[0]);o=function(l){return""+s(l)}}else{const s=e.map(a);o=function(l){let u=""+s[0](l),c=0;for(;++c<r;)u+="|"+s[c](l);return u}}return na(o,e,"key")}function dQ(e,t){const n=e[0],r=pt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const obe=1e4;function hQ(e){e=+e||obe;let t,n,r;const i=()=>{t={},n={},r=0},a=(o,s)=>(++r>e&&(n=t,t={},r=1),t[o]=s);return i(),{clear:i,has:o=>ke(t,o)||ke(n,o),get:o=>ke(t,o)?t[o]:ke(n,o)?a(o,n[o]):void 0,set:(o,s)=>ke(t,o)?t[o]=s:a(o,s)}}function pQ(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const o=r||new t.constructor(i+a);let s=0,l=0,u=0;for(;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o}function s0(e,t){let n="";for(;--t>=0;)n+=e;return n}function mQ(e,t,n,r){const i=n||" ",a=e+"",o=t-a.length;return o<=0?a:r==="left"?s0(i,o)+a:r==="center"?s0(i,~~(o/2))+a+s0(i,Math.ceil(o/2)):a+s0(i,o)}function ex(e){return e&&pt(e)-e[0]||0}function ye(e){return ae(e)?"["+e.map(ye)+"]":Se(e)||Ee(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function k3(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const sbe=e=>St(e)||Ac(e)?e:Date.parse(e);function C3(e,t){return t=t||sbe,e==null||e===""?null:t(e)}function O3(e){return e==null||e===""?null:e+""}function Yo(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function gQ(e,t,n,r){const i=r??"",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:n==="left"?i+a.slice(o-s):n==="center"?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i}function Xu(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}var B8={},nP={},rP=34,ky=10,iP=13;function yQ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function lbe(e,t){var n=yQ(e);return function(r,i){return t(n(r),i,e)}}function U8(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Mi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ube(e){return e<0?"-"+Mi(-e,6):e>9999?"+"+Mi(e,6):Mi(e,4)}function cbe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":ube(e.getUTCFullYear())+"-"+Mi(e.getUTCMonth()+1,2)+"-"+Mi(e.getUTCDate(),2)+(i?"T"+Mi(t,2)+":"+Mi(n,2)+":"+Mi(r,2)+"."+Mi(i,3)+"Z":r?"T"+Mi(t,2)+":"+Mi(n,2)+":"+Mi(r,2)+"Z":n||t?"T"+Mi(t,2)+":"+Mi(n,2)+"Z":"")}function fbe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var p,m,g=i(f,function(x,v){if(p)return p(x,v-1);m=x,p=d?lbe(x,d):yQ(x)});return g.columns=m||[],g}function i(f,d){var p=[],m=f.length,g=0,x=0,v,b=m<=0,_=!1;f.charCodeAt(m-1)===ky&&--m,f.charCodeAt(m-1)===iP&&--m;function k(){if(b)return nP;if(_)return _=!1,B8;var A,C=g,P;if(f.charCodeAt(C)===rP){for(;g++<m&&f.charCodeAt(g)!==rP||f.charCodeAt(++g)===rP;);return(A=g)>=m?b=!0:(P=f.charCodeAt(g++))===ky?_=!0:P===iP&&(_=!0,f.charCodeAt(g)===ky&&++g),f.slice(C+1,A-1).replace(/""/g,'"')}for(;g<m;){if((P=f.charCodeAt(A=g++))===ky)_=!0;else if(P===iP)_=!0,f.charCodeAt(g)===ky&&++g;else if(P!==n)continue;return f.slice(C,A)}return b=!0,f.slice(C,m)}for(;(v=k())!==nP;){for(var E=[];v!==B8&&v!==nP;)E.push(v),v=k();d&&(E=d(E,x++))==null||p.push(E)}return p}function a(f,d){return f.map(function(p){return d.map(function(m){return c(p[m])}).join(e)})}function o(f,d){return d==null&&(d=U8(f)),[d.map(c).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=U8(f)),a(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?cbe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}function dbe(e){return e}function hbe(e){if(e==null)return dbe;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(s,l){l||(t=n=0);var u=2,c=s.length,f=new Array(c);for(f[0]=(t+=s[0])*r+a,f[1]=(n+=s[1])*i+o;u<c;)f[u]=s[u],++u;return f}}function pbe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function mbe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return W8(e,n)})}:W8(e,t)}function W8(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=vQ(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function vQ(e,t){var n=hbe(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],p=0,m=d.length;p<m;++p)f.push(n(d[p],p));c<0&&pbe(f,m)}function a(c){return n(c)}function o(c){for(var f=[],d=0,p=c.length;d<p;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function s(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(s)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=a(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(a);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function gbe(e,t){var n={},r={},i={},a=[],o=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++o],t[o]=u,t[c]=d)}),t.forEach(function(u){var c=s(u),f=c[0],d=c[1],p,m;if(p=i[f])if(delete i[p.end],p.push(u),p.end=d,m=r[d]){delete r[m.start];var g=m===p?p:p.concat(m);r[g.start=p.start]=i[g.end=m.end]=g}else r[p.start]=i[p.end]=p;else if(p=r[d])if(delete r[p.start],p.unshift(u),p.start=f,m=i[f]){delete i[m.end];var x=m===p?p:m.concat(p);r[x.start=m.start]=i[x.end=p.end]=x}else r[p.start]=i[p.end]=p;else p=[u],r[p.start=f]=i[p.end=d]=p});function s(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(p){d[0]+=p[0],d[1]+=p[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(p){n[p<0?~p:p]=1}),a.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||a.push([u])}),a}function ybe(e){return vQ(e,vbe.apply(this,arguments))}function vbe(e,t,n){var r,i,a;if(arguments.length>1)r=xbe(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:gbe(e,r)}}function xbe(e,t,n){var r=[],i=[],a;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:a})}function s(f){f.forEach(o)}function l(f){f.forEach(s)}function u(f){f.forEach(l)}function c(f){switch(a=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function Ls(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xg(e){let t,n,r;e.length!==2?(t=Ls,n=(s,l)=>Ls(e(s),l),r=(s,l)=>e(s)-l):(t=e===Ls||e===bbe?e:_be,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function _be(){return 0}function xQ(e){return e===null?NaN:+e}function*wbe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const bQ=xg(Ls),hu=bQ.right,Sbe=bQ.left;xg(xQ).center;function Ebe(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function Abe(e,t){const n=Ebe(e,t);return n&&Math.sqrt(n)}class _i{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class H8 extends Map{constructor(t,n=SQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wN(this,t))}has(t){return super.has(wN(this,t))}set(t,n){return super.set(_Q(this,t),n)}delete(t){return super.delete(wQ(this,t))}}class Jw extends Set{constructor(t,n=SQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(wN(this,t))}add(t){return super.add(_Q(this,t))}delete(t){return super.delete(wQ(this,t))}}function wN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _Q({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function SQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kbe(e,t){return Array.from(t,n=>e[n])}function Cbe(e=Ls){if(e===Ls)return EQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function EQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Obe=Math.sqrt(50),Pbe=Math.sqrt(10),$be=Math.sqrt(2);function e2(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Obe?10:a>=Pbe?5:a>=$be?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?e2(e,t,n*2):[s,l,u]}function SN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?e2(t,e,n):e2(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function EN(e,t,n){return t=+t,e=+e,n=+n,e2(e,t,n)[2]}function Mc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?EN(t,e,n):EN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sd(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function AN(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function AQ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?EQ:Cbe(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+d)),m=Math.min(r,Math.floor(t+(l-u)*f/l+d));AQ(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(Cy(e,n,t),i(e[r],a)>0&&Cy(e,n,r);o<s;){for(Cy(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Cy(e,n,s):(++s,Cy(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Cy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function t2(e,t,n){if(e=Float64Array.from(wbe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return AN(e);if(t>=1)return sd(e);var r,i=(r-1)*t,a=Math.floor(i),o=sd(AQ(e,a).subarray(0,a+1)),s=AN(e.subarray(a+1));return o+(s-o)*(i-a)}}function kQ(e,t,n=xQ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Tbe(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function CQ(e,t){return t2(e,.5,t)}function*Nbe(e){for(const t of e)yield*t}function OQ(e){return Array.from(Nbe(e))}function Ui(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function PQ(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function Mbe(e,...t){e=new Jw(e),t=t.map(Dbe);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Dbe(e){return e instanceof Jw?e:new Jw(e)}function jbe(...e){const t=new Jw;for(const n of e)for(const r of n)t.add(r);return t}function Ibe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function n2(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function om(e){return e=n2(Math.abs(e)),e?e[1]:NaN}function Lbe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Fbe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Rbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(e){if(!(t=Rbe.exec(e)))throw new Error("invalid format: "+e);var t;return new P3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ad.prototype=P3.prototype;function P3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}P3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var r2;function Bbe(e,t){var n=n2(e,t);if(!n)return r2=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(r2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+n2(e,Math.max(0,t+a-1))[0]}function q8(e,t){var n=n2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const G8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ibe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>q8(e*100,t),r:q8,s:Bbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function V8(e){return e}var X8=Array.prototype.map,Y8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $Q(e){var t=e.grouping===void 0||e.thousands===void 0?V8:Lbe(X8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?V8:Fbe(X8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,d){f=Ad(f);var p=f.fill,m=f.align,g=f.sign,x=f.symbol,v=f.zero,b=f.width,_=f.comma,k=f.precision,E=f.trim,A=f.type;A==="n"?(_=!0,A="g"):G8[A]||(k===void 0&&(k=12),E=!0,A="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var C=(d&&d.prefix!==void 0?d.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),P=(x==="$"?r:/[%p]/.test(A)?o:"")+(d&&d.suffix!==void 0?d.suffix:""),T=G8[A],D=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function j(I){var W=C,R=P,M,z,H;if(A==="c")R=T(I)+R,I="";else{I=+I;var B=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),k),E&&(I=zbe(I)),B&&+I==0&&g!=="+"&&(B=!1),W=(B?g==="("?g:s:g==="-"||g==="("?"":g)+W,R=(A==="s"&&!isNaN(I)&&r2!==void 0?Y8[8+r2/3]:"")+R+(B&&g==="("?")":""),D){for(M=-1,z=I.length;++M<z;)if(H=I.charCodeAt(M),48>H||H>57){R=(H===46?i+I.slice(M+1):I.slice(M))+R,I=I.slice(0,M);break}}}_&&!v&&(I=t(I,1/0));var G=W.length+I.length+R.length,N=G<b?new Array(b-G+1).join(p):"";switch(_&&v&&(I=t(N+I,N.length?b-R.length:1/0),N=""),m){case"<":I=W+I+R+N;break;case"=":I=W+N+I+R;break;case"^":I=N.slice(0,G=N.length>>1)+W+I+R+N.slice(G);break;default:I=N+W+I+R;break}return a(I)}return j.toString=function(){return f+""},j}function c(f,d){var p=Math.max(-8,Math.min(8,Math.floor(om(d)/3)))*3,m=Math.pow(10,-p),g=u((f=Ad(f),f.type="f",f),{suffix:Y8[8+p/3]});return function(x){return g(m*x)}}return{format:u,formatPrefix:c}}var zb,XE,$3;Ube({thousands:",",grouping:[3],currency:["$",""]});function Ube(e){return zb=$Q(e),XE=zb.format,$3=zb.formatPrefix,zb}function TQ(e){return Math.max(0,-om(Math.abs(e)))}function NQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(om(t)/3)))*3-om(Math.abs(e)))}function MQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,om(t)-om(e))+1}const aP=new Date,oP=new Date;function Zn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Zn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(aP.setTime(+a),oP.setTime(+o),e(aP),e(oP),Math.floor(n(aP,oP))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sm=Zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sm);sm.range;const ql=1e3,Ka=ql*60,Gl=Ka*60,pu=Gl*24,T3=pu*7,K8=pu*30,sP=pu*365,Vl=Zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getUTCSeconds());Vl.range;const YE=Zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ql)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getMinutes());YE.range;const KE=Zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCMinutes());KE.range;const ZE=Zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ql-e.getMinutes()*Ka)},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getHours());ZE.range;const QE=Zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getUTCHours());QE.range;const eu=Zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ka)/pu,e=>e.getDate()-1);eu.range;const kc=Zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pu,e=>e.getUTCDate()-1);kc.range;const DQ=Zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pu,e=>Math.floor(e/pu));DQ.range;function ah(e){return Zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ka)/T3)}const bg=ah(0),i2=ah(1),Wbe=ah(2),Hbe=ah(3),lm=ah(4),qbe=ah(5),Gbe=ah(6);bg.range;i2.range;Wbe.range;Hbe.range;lm.range;qbe.range;Gbe.range;function oh(e){return Zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/T3)}const _g=oh(0),a2=oh(1),Vbe=oh(2),Xbe=oh(3),um=oh(4),Ybe=oh(5),Kbe=oh(6);_g.range;a2.range;Vbe.range;Xbe.range;um.range;Ybe.range;Kbe.range;const Nv=Zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Nv.range;const Mv=Zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mv.range;const Ks=Zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ks.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ks.range;const Zs=Zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zs.range;function jQ(e,t,n,r,i,a){const o=[[Vl,1,ql],[Vl,5,5*ql],[Vl,15,15*ql],[Vl,30,30*ql],[a,1,Ka],[a,5,5*Ka],[a,15,15*Ka],[a,30,30*Ka],[i,1,Gl],[i,3,3*Gl],[i,6,6*Gl],[i,12,12*Gl],[r,1,pu],[r,2,2*pu],[n,1,T3],[t,1,K8],[t,3,3*K8],[e,1,sP]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=xg(([,,x])=>x).right(o,d);if(p===o.length)return e.every(Mc(u/sP,c/sP,f));if(p===0)return sm.every(Math.max(Mc(u,c,f),1));const[m,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[Zbe,Qbe]=jQ(Zs,Mv,_g,DQ,QE,KE),[Jbe,e_e]=jQ(Ks,Nv,bg,eu,ZE,YE),Pr="year",Yi="quarter",Xr="month",Vn="week",Ki="date",Hr="day",Qs="dayofyear",ka="hours",Ca="minutes",lo="seconds",Ko="milliseconds",N3=[Pr,Yi,Xr,Vn,Ki,Hr,Qs,ka,Ca,lo,Ko],lP=N3.reduce((e,t,n)=>(e[t]=1+n,e),{});function M3(e){const t=Ae(e).slice(),n={};return t.length||ee("Missing time unit."),t.forEach(i=>{ke(lP,i)?n[i]=1:ee(`Invalid time unit: ${i}.`)}),(n[Vn]||n[Hr]?1:0)+(n[Yi]||n[Xr]||n[Ki]?1:0)+(n[Qs]?1:0)>1&&ee(`Incompatible time units: ${e}`),t.sort((i,a)=>lP[i]-lP[a]),t}const t_e={[Pr]:"%Y ",[Yi]:"Q%q ",[Xr]:"%b ",[Ki]:"%d ",[Vn]:"W%U ",[Hr]:"%a ",[Qs]:"%j ",[ka]:"%H:00",[Ca]:"00:%M",[lo]:":%S",[Ko]:".%L",[`${Pr}-${Xr}`]:"%Y-%m ",[`${Pr}-${Xr}-${Ki}`]:"%Y-%m-%d ",[`${ka}-${Ca}`]:"%H:%M"};function IQ(e,t){const n=Je({},t_e,t),r=M3(e),i=r.length;let a="",o=0,s,l;for(o=0;o<i;)for(s=r.length;s>o;--s)if(l=r.slice(o,s).join("-"),n[l]!=null){a+=n[l],o=s;break}return a.trim()}const Hf=new Date;function D3(e){return Hf.setFullYear(e),Hf.setMonth(0),Hf.setDate(1),Hf.setHours(0,0,0,0),Hf}function LQ(e){return RQ(new Date(e))}function FQ(e){return kN(new Date(e))}function RQ(e){return eu.count(D3(e.getFullYear())-1,e)}function kN(e){return bg.count(D3(e.getFullYear())-1,e)}function CN(e){return D3(e).getDay()}function n_e(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,a,o);return s.setFullYear(e),s}return new Date(e,t,n,r,i,a,o)}function zQ(e){return UQ(new Date(e))}function BQ(e){return ON(new Date(e))}function UQ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return kc.count(t-1,e)}function ON(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return _g.count(t-1,e)}function PN(e){return Hf.setTime(Date.UTC(e,0,1)),Hf.getUTCDay()}function r_e(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(Date.UTC(-1,t,n,r,i,a,o));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,a,o))}function WQ(e,t,n,r,i){const a=t||1,o=pt(e),s=(v,b,_)=>(_=_||v,i_e(n[_],r[_],v===o&&a,b)),l=new Date,u=Yo(e),c=u[Pr]?s(Pr):ti(2012),f=u[Xr]?s(Xr):u[Yi]?s(Yi):nc,d=u[Vn]&&u[Hr]?s(Hr,1,Vn+Hr):u[Vn]?s(Vn,1):u[Hr]?s(Hr,1):u[Ki]?s(Ki,1):u[Qs]?s(Qs,1):pg,p=u[ka]?s(ka):nc,m=u[Ca]?s(Ca):nc,g=u[lo]?s(lo):nc,x=u[Ko]?s(Ko):nc;return function(v){l.setTime(+v);const b=c(l);return i(b,f(l),d(l,b),p(l),m(l),g(l),x(l))}}function i_e(e,t,n,r){const i=n<=1?e:r?(a,o)=>r+n*Math.floor((e(a,o)-r)/n):(a,o)=>n*Math.floor(e(a,o)/n);return t?(a,o)=>t(i(a,o),o):i}function cm(e,t,n){return t+e*7-(n+6)%7}const a_e={[Pr]:e=>e.getFullYear(),[Yi]:e=>Math.floor(e.getMonth()/3),[Xr]:e=>e.getMonth(),[Ki]:e=>e.getDate(),[ka]:e=>e.getHours(),[Ca]:e=>e.getMinutes(),[lo]:e=>e.getSeconds(),[Ko]:e=>e.getMilliseconds(),[Qs]:e=>RQ(e),[Vn]:e=>kN(e),[Vn+Hr]:(e,t)=>cm(kN(e),e.getDay(),CN(t)),[Hr]:(e,t)=>cm(1,e.getDay(),CN(t))},o_e={[Yi]:e=>3*e,[Vn]:(e,t)=>cm(e,0,CN(t))};function HQ(e,t){return WQ(e,t||1,a_e,o_e,n_e)}const s_e={[Pr]:e=>e.getUTCFullYear(),[Yi]:e=>Math.floor(e.getUTCMonth()/3),[Xr]:e=>e.getUTCMonth(),[Ki]:e=>e.getUTCDate(),[ka]:e=>e.getUTCHours(),[Ca]:e=>e.getUTCMinutes(),[lo]:e=>e.getUTCSeconds(),[Ko]:e=>e.getUTCMilliseconds(),[Qs]:e=>UQ(e),[Vn]:e=>ON(e),[Hr]:(e,t)=>cm(1,e.getUTCDay(),PN(t)),[Vn+Hr]:(e,t)=>cm(ON(e),e.getUTCDay(),PN(t))},l_e={[Yi]:e=>3*e,[Vn]:(e,t)=>cm(e,0,PN(t))};function qQ(e,t){return WQ(e,t||1,s_e,l_e,r_e)}const u_e={[Pr]:Ks,[Yi]:Nv.every(3),[Xr]:Nv,[Vn]:bg,[Ki]:eu,[Hr]:eu,[Qs]:eu,[ka]:ZE,[Ca]:YE,[lo]:Vl,[Ko]:sm},c_e={[Pr]:Zs,[Yi]:Mv.every(3),[Xr]:Mv,[Vn]:_g,[Ki]:kc,[Hr]:kc,[Qs]:kc,[ka]:QE,[Ca]:KE,[lo]:Vl,[Ko]:sm};function wg(e){return u_e[e]}function Sg(e){return c_e[e]}function GQ(e,t,n){return e?e.offset(t,n):void 0}function VQ(e,t,n){return GQ(wg(e),t,n)}function XQ(e,t,n){return GQ(Sg(e),t,n)}function YQ(e,t,n,r){return e?e.range(t,n,r):void 0}function KQ(e,t,n,r){return YQ(wg(e),t,n,r)}function ZQ(e,t,n,r){return YQ(Sg(e),t,n,r)}const l0=1e3,u0=l0*60,c0=u0*60,JE=c0*24,f_e=JE*7,Z8=JE*30,$N=JE*365,QQ=[Pr,Xr,Ki,ka,Ca,lo,Ko],f0=QQ.slice(0,-1),d0=f0.slice(0,-1),h0=d0.slice(0,-1),d_e=h0.slice(0,-1),h_e=[Pr,Vn],Q8=[Pr,Xr],JQ=[Pr],Oy=[[f0,1,l0],[f0,5,5*l0],[f0,15,15*l0],[f0,30,30*l0],[d0,1,u0],[d0,5,5*u0],[d0,15,15*u0],[d0,30,30*u0],[h0,1,c0],[h0,3,3*c0],[h0,6,6*c0],[h0,12,12*c0],[d_e,1,JE],[h_e,1,f_e],[Q8,1,Z8],[Q8,3,3*Z8],[JQ,1,$N]];function eJ(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(ex(t))/n;let i=xg(s=>s[2]).right(Oy,r),a,o;return i===Oy.length?(a=JQ,o=Mc(t[0]/$N,t[1]/$N,n)):i?(i=Oy[r/Oy[i-1][2]<Oy[i][2]/r?i-1:i],a=i[0],o=i[1]):(a=QQ,o=Math.max(Mc(t[0],t[1],n),1)),{units:a,step:o}}function uP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Py(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tJ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=$y(i),c=Ty(i),f=$y(a),d=Ty(a),p=$y(o),m=Ty(o),g=$y(s),x=Ty(s),v=$y(l),b=Ty(l),_={a:H,A:B,b:G,B:N,c:null,d:i9,e:i9,f:I_e,g:G_e,G:X_e,H:M_e,I:D_e,j:j_e,L:nJ,m:L_e,M:F_e,p:Z,q:Y,Q:s9,s:l9,S:R_e,u:z_e,U:B_e,V:U_e,w:W_e,W:H_e,x:null,X:null,y:q_e,Y:V_e,Z:Y_e,"%":o9},k={a:U,A:me,b:le,B:ve,c:null,d:a9,e:a9,f:J_e,g:uwe,G:fwe,H:K_e,I:Z_e,j:Q_e,L:iJ,m:ewe,M:twe,p:mt,q:it,Q:s9,s:l9,S:nwe,u:rwe,U:iwe,V:awe,w:owe,W:swe,x:null,X:null,y:lwe,Y:cwe,Z:dwe,"%":o9},E={a:D,A:j,b:I,B:W,c:R,d:n9,e:n9,f:P_e,g:t9,G:e9,H:r9,I:r9,j:A_e,L:O_e,m:E_e,M:k_e,p:T,q:S_e,Q:T_e,s:N_e,S:C_e,u:v_e,U:x_e,V:b_e,w:y_e,W:__e,x:M,X:z,y:t9,Y:e9,Z:w_e,"%":$_e};_.x=A(n,_),_.X=A(r,_),_.c=A(t,_),k.x=A(n,k),k.X=A(r,k),k.c=A(t,k);function A(be,De){return function(Re){var oe=[],Ct=-1,nt=0,zt=be.length,Tt,ln,gr;for(Re instanceof Date||(Re=new Date(+Re));++Ct<zt;)be.charCodeAt(Ct)===37&&(oe.push(be.slice(nt,Ct)),(ln=J8[Tt=be.charAt(++Ct)])!=null?Tt=be.charAt(++Ct):ln=Tt==="e"?" ":"0",(gr=De[Tt])&&(Tt=gr(Re,ln)),oe.push(Tt),nt=Ct+1);return oe.push(be.slice(nt,Ct)),oe.join("")}}function C(be,De){return function(Re){var oe=Py(1900,void 0,1),Ct=P(oe,be,Re+="",0),nt,zt;if(Ct!=Re.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(De&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(nt=cP(Py(oe.y,0,1)),zt=nt.getUTCDay(),nt=zt>4||zt===0?a2.ceil(nt):a2(nt),nt=kc.offset(nt,(oe.V-1)*7),oe.y=nt.getUTCFullYear(),oe.m=nt.getUTCMonth(),oe.d=nt.getUTCDate()+(oe.w+6)%7):(nt=uP(Py(oe.y,0,1)),zt=nt.getDay(),nt=zt>4||zt===0?i2.ceil(nt):i2(nt),nt=eu.offset(nt,(oe.V-1)*7),oe.y=nt.getFullYear(),oe.m=nt.getMonth(),oe.d=nt.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),zt="Z"in oe?cP(Py(oe.y,0,1)).getUTCDay():uP(Py(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(zt+5)%7:oe.w+oe.U*7-(zt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,cP(oe)):uP(oe)}}function P(be,De,Re,oe){for(var Ct=0,nt=De.length,zt=Re.length,Tt,ln;Ct<nt;){if(oe>=zt)return-1;if(Tt=De.charCodeAt(Ct++),Tt===37){if(Tt=De.charAt(Ct++),ln=E[Tt in J8?De.charAt(Ct++):Tt],!ln||(oe=ln(be,Re,oe))<0)return-1}else if(Tt!=Re.charCodeAt(oe++))return-1}return oe}function T(be,De,Re){var oe=u.exec(De.slice(Re));return oe?(be.p=c.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function D(be,De,Re){var oe=p.exec(De.slice(Re));return oe?(be.w=m.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function j(be,De,Re){var oe=f.exec(De.slice(Re));return oe?(be.w=d.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function I(be,De,Re){var oe=v.exec(De.slice(Re));return oe?(be.m=b.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function W(be,De,Re){var oe=g.exec(De.slice(Re));return oe?(be.m=x.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function R(be,De,Re){return P(be,t,De,Re)}function M(be,De,Re){return P(be,n,De,Re)}function z(be,De,Re){return P(be,r,De,Re)}function H(be){return o[be.getDay()]}function B(be){return a[be.getDay()]}function G(be){return l[be.getMonth()]}function N(be){return s[be.getMonth()]}function Z(be){return i[+(be.getHours()>=12)]}function Y(be){return 1+~~(be.getMonth()/3)}function U(be){return o[be.getUTCDay()]}function me(be){return a[be.getUTCDay()]}function le(be){return l[be.getUTCMonth()]}function ve(be){return s[be.getUTCMonth()]}function mt(be){return i[+(be.getUTCHours()>=12)]}function it(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var De=A(be+="",_);return De.toString=function(){return be},De},parse:function(be){var De=C(be+="",!1);return De.toString=function(){return be},De},utcFormat:function(be){var De=A(be+="",k);return De.toString=function(){return be},De},utcParse:function(be){var De=C(be+="",!0);return De.toString=function(){return be},De}}}var J8={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,p_e=/^%/,m_e=/[\\^$*+?|[\]().{}]/g;function Et(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function g_e(e){return e.replace(m_e,"\\$&")}function $y(e){return new RegExp("^(?:"+e.map(g_e).join("|")+")","i")}function Ty(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function y_e(e,t,n){var r=pr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function v_e(e,t,n){var r=pr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function x_e(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function b_e(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function __e(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function e9(e,t,n){var r=pr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function t9(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w_e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S_e(e,t,n){var r=pr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function E_e(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function n9(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function A_e(e,t,n){var r=pr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function r9(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function k_e(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function C_e(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function O_e(e,t,n){var r=pr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P_e(e,t,n){var r=pr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $_e(e,t,n){var r=p_e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function T_e(e,t,n){var r=pr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function N_e(e,t,n){var r=pr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function i9(e,t){return Et(e.getDate(),t,2)}function M_e(e,t){return Et(e.getHours(),t,2)}function D_e(e,t){return Et(e.getHours()%12||12,t,2)}function j_e(e,t){return Et(1+eu.count(Ks(e),e),t,3)}function nJ(e,t){return Et(e.getMilliseconds(),t,3)}function I_e(e,t){return nJ(e,t)+"000"}function L_e(e,t){return Et(e.getMonth()+1,t,2)}function F_e(e,t){return Et(e.getMinutes(),t,2)}function R_e(e,t){return Et(e.getSeconds(),t,2)}function z_e(e){var t=e.getDay();return t===0?7:t}function B_e(e,t){return Et(bg.count(Ks(e)-1,e),t,2)}function rJ(e){var t=e.getDay();return t>=4||t===0?lm(e):lm.ceil(e)}function U_e(e,t){return e=rJ(e),Et(lm.count(Ks(e),e)+(Ks(e).getDay()===4),t,2)}function W_e(e){return e.getDay()}function H_e(e,t){return Et(i2.count(Ks(e)-1,e),t,2)}function q_e(e,t){return Et(e.getFullYear()%100,t,2)}function G_e(e,t){return e=rJ(e),Et(e.getFullYear()%100,t,2)}function V_e(e,t){return Et(e.getFullYear()%1e4,t,4)}function X_e(e,t){var n=e.getDay();return e=n>=4||n===0?lm(e):lm.ceil(e),Et(e.getFullYear()%1e4,t,4)}function Y_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function a9(e,t){return Et(e.getUTCDate(),t,2)}function K_e(e,t){return Et(e.getUTCHours(),t,2)}function Z_e(e,t){return Et(e.getUTCHours()%12||12,t,2)}function Q_e(e,t){return Et(1+kc.count(Zs(e),e),t,3)}function iJ(e,t){return Et(e.getUTCMilliseconds(),t,3)}function J_e(e,t){return iJ(e,t)+"000"}function ewe(e,t){return Et(e.getUTCMonth()+1,t,2)}function twe(e,t){return Et(e.getUTCMinutes(),t,2)}function nwe(e,t){return Et(e.getUTCSeconds(),t,2)}function rwe(e){var t=e.getUTCDay();return t===0?7:t}function iwe(e,t){return Et(_g.count(Zs(e)-1,e),t,2)}function aJ(e){var t=e.getUTCDay();return t>=4||t===0?um(e):um.ceil(e)}function awe(e,t){return e=aJ(e),Et(um.count(Zs(e),e)+(Zs(e).getUTCDay()===4),t,2)}function owe(e){return e.getUTCDay()}function swe(e,t){return Et(a2.count(Zs(e)-1,e),t,2)}function lwe(e,t){return Et(e.getUTCFullYear()%100,t,2)}function uwe(e,t){return e=aJ(e),Et(e.getUTCFullYear()%100,t,2)}function cwe(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function fwe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?um(e):um.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function dwe(){return"+0000"}function o9(){return"%"}function s9(e){return+e}function l9(e){return Math.floor(+e/1e3)}var Rh,j3,oJ,I3,sJ;hwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hwe(e){return Rh=tJ(e),j3=Rh.format,oJ=Rh.parse,I3=Rh.utcFormat,sJ=Rh.utcParse,Rh}function p0(e){const t={};return n=>t[n]||(t[n]=e(n))}function pwe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=mwe(r,i);const o=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+o}}function mwe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function lJ(e){const t=p0(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Ad(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return pwe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,o){o=Ad(o??",f");const s=Mc(r,i,a),l=Math.max(Math.abs(r),Math.abs(i));let u;if(o.precision==null)switch(o.type){case"s":return isNaN(u=NQ(s,l))||(o.precision=u),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=MQ(s,l))||(o.precision=u-(o.type==="e"));break}case"f":case"%":{isNaN(u=TQ(s))||(o.precision=u-(o.type==="%")*2);break}}return t(o)}}}let TN;uJ();function uJ(){return TN=lJ({format:XE,formatPrefix:$3})}function cJ(e){return lJ($Q(e))}function o2(e){return arguments.length?TN=cJ(e):TN}function u9(e,t,n){n=n||{},Se(n)||ee(`Invalid time multi-format specifier: ${n}`);const r=t(lo),i=t(Ca),a=t(ka),o=t(Ki),s=t(Vn),l=t(Xr),u=t(Yi),c=t(Pr),f=e(n[Ko]||".%L"),d=e(n[lo]||":%S"),p=e(n[Ca]||"%I:%M"),m=e(n[ka]||"%I %p"),g=e(n[Ki]||n[Hr]||"%a %d"),x=e(n[Vn]||"%b %d"),v=e(n[Xr]||"%B"),b=e(n[Yi]||"%B"),_=e(n[Pr]||"%Y");return k=>(r(k)<k?f:i(k)<k?d:a(k)<k?p:o(k)<k?m:l(k)<k?s(k)<k?g:x:c(k)<k?u(k)<k?v:b:_)(k)}function fJ(e){const t=p0(e.format),n=p0(e.utcFormat);return{timeFormat:r=>Ee(r)?t(r):u9(t,wg,r),utcFormat:r=>Ee(r)?n(r):u9(n,Sg,r),timeParse:p0(e.parse),utcParse:p0(e.utcParse)}}let NN;dJ();function dJ(){return NN=fJ({format:j3,parse:oJ,utcFormat:I3,utcParse:sJ})}function hJ(e){return fJ(tJ(e))}function Dv(e){return arguments.length?NN=hJ(e):NN}const MN=(e,t)=>Je({},e,t);function pJ(e,t){const n=e?cJ(e):o2(),r=t?hJ(t):Dv();return MN(n,r)}function L3(e,t){const n=arguments.length;return n&&n!==2&&ee("defaultLocale expects either zero or two arguments."),n?MN(o2(e),Dv(t)):MN(o2(),Dv())}function gwe(){return uJ(),dJ(),L3()}const ywe=/^(data:|([A-Za-z]+:)?\/\/)/,vwe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,xwe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,c9="file://";function bwe(e,t){return n=>({options:n||{},sanitize:wwe,load:_we,fileAccess:!1,file:Swe(),http:Awe(e)})}async function _we(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function wwe(e,t){t=Je({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,o;const s=vwe.test(e.replace(xwe,""));(e==null||typeof e!="string"||!s)&&ee("Sanitize failure, invalid URI: "+ye(e));const l=ywe.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),a=(i=e.startsWith(c9))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(c9.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Swe(e){return Ewe}async function Ewe(){ee("No file system access.")}function Awe(e){return e?async function(t,n){const r=Je({},this.options.http,n),i=n&&n.response,a=await e(t,r);return a.ok?et(a[i])?a[i]():a.text():ee(a.status+""+a.statusText)}:kwe}async function kwe(){ee("No HTTP fetch method available.")}const Cwe=e=>e!=null&&e===e,Owe=e=>e==="true"||e==="false"||e===!0||e===!1,Pwe=e=>!Number.isNaN(Date.parse(e)),mJ=e=>!Number.isNaN(+e)&&!(e instanceof Date),$we=e=>mJ(e)&&Number.isInteger(+e),DN={boolean:k3,integer:qr,number:qr,date:C3,string:O3,unknown:ei},Bb=[Owe,$we,mJ,Pwe],Twe=["boolean","integer","number","date"];function gJ(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Bb.length,i=Bb.map((a,o)=>o+1);for(let a=0,o=0,s,l;a<n;++a)for(l=t?e[a][t]:e[a],s=0;s<r;++s)if(i[s]&&Cwe(l)&&!Bb[s](l)&&(i[s]=0,++o,o===Bb.length))return"string";return Twe[i.reduce((a,o)=>a===0?o:a,0)-1]}function yJ(e,t){return t.reduce((n,r)=>(n[r]=gJ(e,r),n),{})}function f9(e){const t=function(n,r){const i={delimiter:e};return F3(n,r?Je(r,i):i)};return t.responseType="text",t}function F3(e,t){return t.header&&(e=t.header.map(ye).join(t.delimiter)+`
`+e),fbe(t.delimiter).parse(e+"")}F3.responseType="text";function Nwe(e){return typeof Buffer=="function"&&et(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function R3(e,t){const n=t&&t.property?oo(t.property):ei;return Se(e)&&!Nwe(e)?Mwe(n(e),t):n(JSON.parse(e))}R3.responseType="json";function Mwe(e,t){return!ae(e)&&fQ(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Dwe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function vJ(e,t){let n,r,i,a;return e=R3(e,t),t&&t.feature?(n=mbe,i=t.feature):t&&t.mesh?(n=ybe,i=t.mesh,a=Dwe[t.filter]):ee("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):ee("Invalid TopoJSON object: "+i),r&&r.features||[r]}vJ.responseType="json";const K_={dsv:F3,csv:f9(","),tsv:f9("	"),json:R3,topojson:vJ};function z3(e,t){return arguments.length>1?(K_[e]=t,this):ke(K_,e)?K_[e]:null}function xJ(e){const t=z3(e);return t&&t.responseType||"text"}function bJ(e,t,n,r){t=t||{};const i=z3(t.type||"json");return i||ee("Unknown data format type: "+t.type),e=i(e,t),t.parse&&jwe(e,t.parse,n,r),ke(e,"columns")&&delete e.columns,e}function jwe(e,t,n,r){if(!e.length)return;const i=Dv();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),o,s,l,u,c,f;t==="auto"&&(t=yJ(e,a)),a=Object.keys(t);const d=a.map(p=>{const m=t[p];let g,x;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return g=m.split(/:(.+)?/,2),x=g[1],(x[0]==="'"&&x[x.length-1]==="'"||x[0]==='"'&&x[x.length-1]==='"')&&(x=x.slice(1,-1)),(g[0]==="utc"?r:n)(x);if(!DN[m])throw Error("Illegal format pattern: "+p+":"+m);return DN[m]});for(l=0,c=e.length,f=a.length;l<c;++l)for(o=e[l],u=0;u<f;++u)s=a[u],o[s]=d[u](o[s])}const eA=bwe(typeof fetch<"u"&&fetch);function tA(e){const t=e||ei,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function Z_(e,t){try{await t(e)}catch(n){e.error(n)}}const _J=Symbol("vega_id");let Iwe=1;function nA(e){return!!(e&&Le(e))}function Le(e){return e[_J]}function wJ(e,t){return e[_J]=t,e}function Pt(e){const t=e===Object(e)?e:{data:e};return Le(t)?t:wJ(t,Iwe++)}function B3(e){return rA(e,Pt({}))}function rA(e,t){for(const n in e)t[n]=e[n];return t}function SJ(e,t){return wJ(t,Le(e))}function sh(e,t){return e?t?(n,r)=>e(n,r)||Le(t(n))-Le(t(r)):(n,r)=>e(n,r)||Le(n)-Le(r):null}function EJ(e){return e&&e.constructor===lh}function lh(){const e=[],t=[],n=[],r=[],i=[];let a=null,o=!1;return{constructor:lh,insert(s){const l=Ae(s),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(s){const l=et(s)?r:t,u=Ae(s),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(s,l,u){const c={field:l,value:ti(u)};return et(s)?(c.filter=s,i.push(c)):(c.tuple=s,n.push(c)),this},encode(s,l){return et(s)?i.push({filter:s,field:l}):n.push({tuple:s,field:l}),this},clean(s){return a=s,this},reflow(){return o=!0,this},pulse(s,l){const u={},c={};let f,d,p,m,g,x;for(f=0,d=l.length;f<d;++f)u[Le(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[Le(g)]=-1;for(f=0,d=r.length;f<d;++f)m=r[f],l.forEach(b=>{m(b)&&(u[Le(b)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],x=Le(g),u[x]?u[x]=1:s.add.push(Pt(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[Le(g)]<0&&s.rem.push(g);function v(b,_,k){k?b[_]=k(b):s.encode=_,o||(c[Le(b)]=b)}for(f=0,d=n.length;f<d;++f)p=n[f],g=p.tuple,m=p.field,x=u[Le(g)],x>0&&(v(g,m,p.value),s.modifies(m));for(f=0,d=i.length;f<d;++f)p=i[f],m=p.filter,l.forEach(b=>{m(b)&&u[Le(b)]>0&&v(b,p.field,p.value)}),s.modifies(p.field);if(o)s.mod=t.length||r.length?l.filter(b=>u[Le(b)]>0):l.slice();else for(x in c)s.mod.push(c[x]);return(a||a==null&&(t.length||r.length))&&s.clean(!0),s}}}const Q_="_:mod:_";function iA(){Object.defineProperty(this,Q_,{writable:!0,value:{}})}iA.prototype={set(e,t,n,r){const i=this,a=i[e],o=i[Q_];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=ae(n)?1+n.length:-1),i},modified(e,t){const n=this[Q_];if(arguments.length){if(ae(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Q_]={},this}};let Lwe=0;const Fwe="pulse",Rwe=new iA,zwe=1,Bwe=2;function Gt(e,t,n,r){this.id=++Lwe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function d9(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Gt.prototype={targets(){return this._targets||(this._targets=tA(J1))},set(e){return this.value!==e?(this.value=e,1):0},skip:d9(zwe),modified:d9(Bwe),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new iA,i=this._argops=this._argops||[],a=[];let o,s,l,u;const c=(f,d,p)=>{p instanceof Gt?(p!==this&&(t&&p.targets().add(this),a.push(p)),i.push({op:p,name:f,index:d})):r.set(f,d,p)};for(o in e)if(s=e[o],o===Fwe)Ae(s).forEach(f=>{f instanceof Gt?f!==this&&(f.targets().add(this),a.push(f)):ee("Pulse parameters must be operator instances.")}),this.source=s;else if(ae(s))for(r.set(o,-1,Array(l=s.length)),u=0;u<l;++u)c(o,u,s[u]);else c(o,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||Rwe,n=this._argops;let r,i,a,o;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],a=r.op,o=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,o);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Uwe(e,t,n,r){let i=1,a;return e instanceof Gt?a=e:e&&e.prototype instanceof Gt?a=new e:et(e)?a=new Gt(null,e):(i=0,a=new Gt(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function Wwe(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Hwe=0;function aA(e,t,n){this.id=++Hwe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Wu(e,t,n){return new aA(e,t,n)}aA.prototype={_filter:so,_apply:ei,targets(){return this._targets||(this._targets=tA(J1))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Wu(e);return this.targets().add(t),t},apply(e){const t=Wu(null,e);return this.targets().add(t),t},merge(){const e=Wu();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Wu();return this.targets().add(Wu(null,null,S3(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Wu(null,null,()=>n=!0)),t.targets().add(Wu(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=so,this._targets=null}};function qwe(e,t,n,r){const i=this,a=Wu(n,r),o=function(u){u.dataflow=i;try{a.receive(u)}catch(c){i.error(c)}finally{i.run()}};let s;typeof e=="string"&&typeof document<"u"?s=document.querySelectorAll(e):s=Ae(e);const l=s.length;for(let u=0;u<l;++u)s[u].addEventListener(t,o);return a}function Gwe(e,t){const n=this.locale();return bJ(e,t,n.timeParse,n.utcParse)}function Vwe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Xwe(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:xJ(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function Ywe(e,t,n){const r=this,i=r._pending||Kwe(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(so).insert(a.data||[])),i.done(),a}function Kwe(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Zwe={skip:!0};function Qwe(e,t,n,r,i){return(e instanceof Gt?e2e:Jwe)(this,e,t,n,r,i),this}function Jwe(e,t,n,r,i,a){const o=Je({},a,Zwe);let s,l;et(n)||(n=ti(n)),r===void 0?s=u=>e.touch(n(u)):et(r)?(l=new Gt(null,r,i,!1),s=u=>{l.evaluate(u);const c=n(u),f=l.value;EJ(f)?e.pulse(c,f,a):e.update(c,f,o)}):s=u=>e.update(n(u),r,o),t.apply(s)}function e2e(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const o=a||{},s=new Gt(null,t2e(n,r),i,!1);s.modified(o.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}function t2e(e,t){return t=et(t)?t:ti(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function n2e(e){e.rank=++this._rank}function r2e(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ee("Cycle detected in dataflow graph.")}const s2={},Ss=1,Yu=2,Nl=4,i2e=Ss|Yu,h9=Ss|Nl,zh=Ss|Yu|Nl,p9=8,Ny=16,m9=32,g9=64;function Cc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function fP(e,t){const n=[];return Xu(e,t,r=>n.push(r)),n}function y9(e,t){const n={};return e.visit(t,r=>{n[Le(r)]=1}),r=>n[Le(r)]?null:r}function Ub(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Cc.prototype={StopPropagation:s2,ADD:Ss,REM:Yu,MOD:Nl,ADD_REM:i2e,ADD_MOD:h9,ALL:zh,REFLOW:p9,SOURCE:Ny,NO_SOURCE:m9,NO_FIELDS:g9,fork(e){return new Cc(this.dataflow).init(this,e)},clone(){const e=this.fork(zh);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(zh|Ny)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Cc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&g9)&&(n.fields=e.fields),t&Ss?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Yu?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Nl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&m9?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||zh;return t&Ss&&this.add.length||t&Yu&&this.rem.length||t&Nl&&this.mod.length},reflow(e){if(e)return this.fork(zh).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Nl,y9(this,Ss))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return ae(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?ae(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Ss&&(n.addF=Ub(n.addF,t)),e&Yu&&(n.remF=Ub(n.remF,t)),e&Nl&&(n.modF=Ub(n.modF,t)),e&Ny&&(n.srcF=Ub(n.srcF,t)),n},materialize(e){e=e||zh;const t=this;return e&Ss&&t.addF&&(t.add=fP(t.add,t.addF),t.addF=null),e&Yu&&t.remF&&(t.rem=fP(t.rem,t.remF),t.remF=null),e&Nl&&t.modF&&(t.mod=fP(t.mod,t.modF),t.modF=null),e&Ny&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Ny)return Xu(n.source,n.srcF,r),n;e&Ss&&Xu(n.add,n.addF,r),e&Yu&&Xu(n.rem,n.remF,r),e&Nl&&Xu(n.mod,n.modF,r);const i=n.source;if(e&p9&&i){const a=n.add.length+n.mod.length;a===i.length||(a?Xu(i,y9(n,h9),r):Xu(i,n.srcF,r))}return n}};function U3(e,t,n,r){const i=this;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const s=i.fields||(i.fields={});for(const l in o.fields)s[l]=1}o.changed(i.ADD)&&(a|=i.ADD),o.changed(i.REM)&&(a|=i.REM),o.changed(i.MOD)&&(a|=i.MOD)}this.changes=a}xe(U3,Cc,{fork(e){const t=new Cc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?ae(e)?e.some(r=>n[r]):n[e]:0},filter(){ee("MultiPulse does not support filtering.")},materialize(){ee("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function a2e(e,t,n){const r=this,i=[];if(r._pulse)return AJ(r);if(r._pending&&await r._pending,t&&await Z_(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new Cc(r,a,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=tA(J1);let o=0,s,l,u;try{for(;r._heap.size()>0;){if(s=r._heap.pop(),s.rank!==s.qrank){r._enqueue(s,!0);continue}l=s.run(r._getPulse(s,e)),l.then?l=await l:l.async&&(i.push(l.async),l=s2),l!==s2&&s._targets&&s._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${o} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await Z_(r,c[f].callback)}return n&&await Z_(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function o2e(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function s2e(e,t,n){return this._pulse?AJ(this):(this.evaluate(e,t,n),this)}function l2e(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function AJ(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function u2e(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function c2e(e,t){const n=e.source,r=this._clock;return n&&ae(n)?new U3(this,r,n.map(i=>i.pulse),t):this._input[e.id]||f2e(this._pulse,n&&n.pulse)}function f2e(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==s2&&(e.source=t.source),e)}const W3={skip:!1,force:!1};function d2e(e,t){const n=t||W3;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function h2e(e,t,n){const r=n||W3;return(e.set(t)||r.force)&&this.touch(e,r),this}function p2e(e,t,n){this.touch(e,n||W3);const r=new Cc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function m2e(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),kJ(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,g2e(t,0,e)):r=n,r}}}function kJ(e,t,n,r){let i,a;const o=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(o,i)<0){e[n]=i,n=a;continue}break}return e[n]=o}function g2e(e,t,n){const r=t,i=e.length,a=e[t];let o=(t<<1)+1,s;for(;o<i;)s=o+1,s<i&&n(e[o],e[s])>=0&&(o=s),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=a,kJ(e,r,t,n)}function Lp(){this.logger(v3()),this.logLevel(g3),this._clock=0,this._rank=0,this._locale=L3();try{this._loader=eA()}catch{}this._touched=tA(J1),this._input={},this._pulse=null,this._heap=m2e((e,t)=>e.qrank-t.qrank),this._postrun=[]}function My(e){return function(){return this._log[e].apply(this,arguments)}}Lp.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:My("error"),warn:My("warn"),info:My("info"),debug:My("debug"),logLevel:My("level"),cleanThreshold:1e4,add:Uwe,connect:Wwe,rank:n2e,rerank:r2e,pulse:p2e,touch:d2e,update:h2e,changeset:lh,ingest:Vwe,parse:Gwe,preload:Ywe,request:Xwe,events:qwe,on:Qwe,evaluate:a2e,run:s2e,runAsync:o2e,runAfter:l2e,_enqueue:u2e,_getPulse:c2e};function J(e,t){Gt.call(this,e,null,t)}xe(J,Gt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const fm={};function CJ(e){const t=OJ(e);return t&&t.Definition||null}function OJ(e){return e=e&&e.toLowerCase(),ke(fm,e)?fm[e]:null}function*PJ(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function H3(e,t,n){const r=Float64Array.from(PJ(e,n));return r.sort(Ls),t.map(i=>kQ(r,i))}function q3(e,t){return H3(e,[.25,.5,.75],t)}function G3(e,t){const n=e.length,r=Abe(e,t),i=q3(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function $J(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],o=e.extent[1],s,l,u,c,f,d;const p=e.span||o-a||Math.abs(a)||1;if(e.step)s=e.step;else if(e.steps){for(c=p/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);s=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,s=Math.max(u,Math.pow(n,Math.round(Math.log(p)/r)-l));Math.ceil(p/s)>t;)s*=n;for(f=0,d=i.length;f<d;++f)c=s/i[f],c>=u&&p/c<=t&&(s=c)}c=Math.log(s);const m=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(a/s+g)*s,a=a<c?c-s:c,o=Math.ceil(o/s)*s),{start:a,stop:o===a?a+s:o,step:s}}var uo=Math.random;function y2e(e){uo=e}function TJ(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(PJ(e,r)),a=i.length,o=t;let s,l,u,c;for(u=0,c=Array(o);u<o;++u){for(s=0,l=0;l<a;++l)s+=i[~~(uo()*a)];c[u]=s/a}return c.sort(Ls),[t2(c,n/2),t2(c,1-n/2)]}function NJ(e,t,n,r){r=r||(d=>d);const i=e.length,a=new Float64Array(i);let o=0,s=1,l=r(e[0]),u=l,c=l+t,f;for(;s<i;++s){if(f=r(e[s]),f>=c){for(u=(l+u)/2;o<s;++o)a[o]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;o<s;++o)a[o]=u;return n?v2e(a,t+t/4):a}function v2e(e,t){const n=e.length;let r=0,i=1,a,o;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(o=i+(r+a-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=a}return e}function x2e(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function b2e(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(o){return arguments.length?(n=o||0,i=r-n,a):n},max(o){return arguments.length?(r=o||0,i=r-n,a):r},sample(){return n+Math.floor(i*uo())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const s=Math.floor(o);return s<n?0:s>=r?1:(s-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return a.min(e).max(t)}const MJ=Math.sqrt(2*Math.PI),_2e=Math.SQRT2;let Dy=NaN;function oA(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if(Dy===Dy)n=Dy,Dy=NaN;else{do n=uo()*2-1,r=uo()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,Dy=r*a}return e+n*t}function V3(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*MJ)}function sA(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const o=Math.exp(-i*i/2);let s;i<7.07106781186547?(s=.0352624965998911*i+.700383064443688,s=s*i+6.37396220353165,s=s*i+33.912866078383,s=s*i+112.079291497871,s=s*i+221.213596169931,s=s*i+220.206867912376,a=o*s,s=.0883883476483184*i+1.75566716318264,s=s*i+16.064177579207,s=s*i+86.7807322029461,s=s*i+296.564248779674,s=s*i+637.333633378831,s=s*i+793.826512519948,s=s*i+440.413735824752,a=a/s):(s=i+.65,s=i+4/s,s=i+3/s,s=i+2/s,s=i+1/s,a=o/s/2.506628274631)}return r>0?1-a:a}function lA(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*_2e*w2e(2*e-1)}function w2e(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function X3(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>oA(n,r),pdf:a=>V3(a,n,r),cdf:a=>sA(a,n,r),icdf:a=>lA(a,n,r)};return i.mean(e).stdev(t)}function Y3(e,t){const n=X3();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=G3(e)),i):t},sample(){return e[~~(uo()*r)]+t*n.sample()},pdf(a){let o=0,s=0;for(;s<r;++s)o+=n.pdf((a-e[s])/t);return o/t/r},cdf(a){let o=0,s=0;for(;s<r;++s)o+=n.cdf((a-e[s])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function K3(e,t){return e=e||0,t=t??1,Math.exp(e+oA()*t)}function Z3(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*MJ*e)}function Q3(e,t,n){return sA(Math.log(e),t,n)}function J3(e,t,n){return Math.exp(lA(e,t,n))}function DJ(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>K3(n,r),pdf:a=>Z3(a,n,r),cdf:a=>Q3(a,n,r),icdf:a=>J3(a,n,r)};return i.mean(e).stdev(t)}function jJ(e,t){let n=0,r;function i(o){const s=[];let l=0,u;for(u=0;u<n;++u)l+=s[u]=o[u]==null?1:+o[u];for(u=0;u<n;++u)s[u]/=l;return s}const a={weights(o){return arguments.length?(r=i(t=o||[]),a):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),a.weights(t)):e},sample(){const o=uo();let s=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(o<l){s=e[u];break}return s.sample()},pdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].pdf(o);return s},cdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].cdf(o);return s},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function eL(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*uo()}function tL(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function nL(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function rL(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function IJ(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>eL(n,r),pdf:a=>tL(a,n,r),cdf:a=>nL(a,n,r),icdf:a=>rL(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function iL(e,t,n){let r=0,i=0;for(const a of e){const o=n(a);t(a)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function tx(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function uA(e,t,n,r){e=e.filter(p=>{let m=t(p),g=n(p);return m!=null&&(m=+m)>=m&&g!=null&&(g=+g)>=g}),r&&e.sort((p,m)=>t(p)-t(m));const i=e.length,a=new Float64Array(i),o=new Float64Array(i);let s=0,l=0,u=0,c,f,d;for(d of e)a[s]=c=+t(d),o[s]=f=+n(d),++s,l+=(c-l)/s,u+=(f-u)/s;for(s=0;s<i;++s)a[s]-=l,o[s]-=u;return[a,o,l,u]}function nx(e,t,n,r){let i=-1,a,o;for(const s of e)a=t(s),o=n(s),a!=null&&(a=+a)>=a&&o!=null&&(o=+o)>=o&&r(a,o,++i)}function Eg(e,t,n,r,i){let a=0,o=0;return nx(e,t,n,(s,l)=>{const u=l-i(s),c=l-r;a+=u*u,o+=c*c}),1-a/o}function aL(e,t,n){let r=0,i=0,a=0,o=0,s=0;nx(e,t,n,(c,f)=>{++s,r+=(c-r)/s,i+=(f-i)/s,a+=(c*f-a)/s,o+=(c*c-o)/s});const l=tx(r,i,a,o),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:Eg(e,t,n,i,u)}}function LJ(e,t,n){let r=0,i=0,a=0,o=0,s=0;nx(e,t,n,(c,f)=>{++s,c=Math.log(c),r+=(c-r)/s,i+=(f-i)/s,a+=(c*f-a)/s,o+=(c*c-o)/s});const l=tx(r,i,a,o),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:Eg(e,t,n,i,u)}}function FJ(e,t,n){const[r,i,a,o]=uA(e,t,n);let s=0,l=0,u=0,c=0,f=0,d,p,m;nx(e,t,n,(b,_)=>{d=r[f++],p=Math.log(_),m=d*_,s+=(_*p-s)/f,l+=(m-l)/f,u+=(m*p-u)/f,c+=(d*m-c)/f});const[g,x]=tx(l/o,s/o,u/o,c/o),v=b=>Math.exp(g+x*(b-a));return{coef:[Math.exp(g-x*a),x],predict:v,rSquared:Eg(e,t,n,o,v)}}function RJ(e,t,n){let r=0,i=0,a=0,o=0,s=0,l=0;nx(e,t,n,(f,d)=>{const p=Math.log(f),m=Math.log(d);++l,r+=(p-r)/l,i+=(m-i)/l,a+=(p*m-a)/l,o+=(p*p-o)/l,s+=(d-s)/l});const u=tx(r,i,a,o),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Eg(e,t,n,s,c)}}function oL(e,t,n){const[r,i,a,o]=uA(e,t,n),s=r.length;let l=0,u=0,c=0,f=0,d=0,p,m,g,x;for(p=0;p<s;)m=r[p],g=i[p++],x=m*m,l+=(x-l)/p,u+=(x*m-u)/p,c+=(x*x-c)/p,f+=(m*g-f)/p,d+=(x*g-d)/p;const v=c-l*l,b=l*v-u*u,_=(d*l-f*u)/b,k=(f*v-d*u)/b,E=-_*l,A=C=>(C=C-a,_*C*C+k*C+E+o);return{coef:[E-k*a+_*a*a+o,k-2*_*a,_],predict:A,rSquared:Eg(e,t,n,o,A)}}function zJ(e,t,n,r){if(r===0)return iL(e,t,n);if(r===1)return aL(e,t,n);if(r===2)return oL(e,t,n);const[i,a,o,s]=uA(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,p,m,g,x;for(d=0;d<f;++d){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d)*a[m];for(u.push(g),x=new Float64Array(f),p=0;p<f;++p){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d+p);x[p]=g}c.push(x)}c.push(u);const v=E2e(c),b=_=>{_-=o;let k=s+v[0]+v[1]*_+v[2]*_*_;for(d=3;d<f;++d)k+=v[d]*Math.pow(_,d);return k};return{coef:S2e(f,v,-o,s),predict:b,rSquared:Eg(e,t,n,s,b)}}function S2e(e,t,n,r){const i=Array(e);let a,o,s,l;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],l=1,i[a]+=s,o=1;o<=a;++o)l*=(a+1-o)/o,i[a-o]+=s*Math.pow(n,o)*l;return i[0]+=r,i}function E2e(e){const t=e.length-1,n=[];let r,i,a,o,s;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(a=r;a<t+1;++a)s=e[a][r],e[a][r]=e[a][o],e[a][o]=s;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,a=i+1;a<t;++a)s+=e[a][i]*n[a];n[i]=(e[t][i]-s)/e[i][i]}return n}const v9=2,x9=1e-12;function BJ(e,t,n,r){const[i,a,o,s]=uA(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let p=-1;++p<=v9;){const m=[0,u-1];for(let x=0;x<l;++x){const v=i[x],b=m[0],_=m[1],k=v-i[b]>i[_]-v?b:_;let E=0,A=0,C=0,P=0,T=0;const D=1/Math.abs(i[k]-v||1);for(let W=b;W<=_;++W){const R=i[W],M=a[W],z=A2e(Math.abs(v-R)*D)*d[W],H=R*z;E+=z,A+=H,C+=M*z,P+=M*H,T+=R*H}const[j,I]=tx(A/E,C/E,P/E,T/E);c[x]=j+I*v,f[x]=Math.abs(a[x]-c[x]),k2e(i,x+1,m)}if(p===v9)break;const g=CQ(f);if(Math.abs(g)<x9)break;for(let x=0,v,b;x<l;++x)v=f[x]/(6*g),d[x]=v>=1?x9:(b=1-v*v)*b}return C2e(i,c,o,s)}function A2e(e){return(e=1-e*e*e)*e*e}function k2e(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function C2e(e,t,n,r){const i=e.length,a=[];let o=0,s=0,l=[],u;for(;o<i;++o)u=e[o]+n,l[0]===u?l[1]+=(t[o]-l[1])/++s:(s=0,l[1]+=r,l=[u,t[o]],a.push(l));return l[1]+=r,a}const O2e=.5*Math.PI/180;function cA(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],a=t[0],o=t[1],s=o-a,l=s/r,u=[i(a)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(a+g/n*s));return u.push(i(o)),u}else{c.push(i(o));for(let g=n;--g>0;)c.push(i(a+g/n*s))}let f=u[0],d=c[c.length-1];const p=1/s,m=P2e(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&$2e(f,g,d,p,m)>O2e?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function P2e(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const o=t[a][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function $2e(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-o)}function T2e(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function jN(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:T2e(e)}function UJ(e,t,n){return n||e+(t?"_"+t:"")}const dP=()=>{},N2e={init:dP,add:dP,rem:dP,idx:0},jv={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},rx=Object.keys(jv).filter(e=>e!=="__count__");function M2e(e,t){return(n,r)=>Je({name:e,aggregate_param:r,out:n||e},N2e,t)}[...rx,"__count__"].forEach(e=>{jv[e]=M2e(e,jv[e])});function WJ(e,t,n){return jv[e](n,t)}function HJ(e,t){return e.idx-t.idx}function D2e(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=jv[i]())})};return e.forEach(n),Object.values(t).sort(HJ)}function j2e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function I2e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function L2e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function F2e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function qJ(e,t){const n=t||ei,r=D2e(e),i=e.slice().sort(HJ);function a(o){this._ops=r,this._out=i,this.cell=o,this.init()}return a.prototype.init=j2e,a.prototype.add=I2e,a.prototype.rem=L2e,a.prototype.set=F2e,a.prototype.get=n,a.fields=e.map(o=>o.out),a}function sL(e){this._key=e?oo(e):Le,this.reset()}const Mr=sL.prototype;Mr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Mr.add=function(e){this._add.push(e)};Mr.rem=function(e){this._rem.push(e)};Mr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),o={};let s,l,u;for(s=0;s<i;++s)o[n(t[s])]=1;for(s=0,l=0;s<r;++s)o[n(u=e[s])]?o[n(u)]=0:a[l++]=u;return this._rem=[],this._add=a};Mr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",ke(n,a)||(n[a]=1,++i);return i};Mr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=uQ(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Mr.argmin=function(e){return this.extent(e)[0]||{}};Mr.argmax=function(e){return this.extent(e)[1]||{}};Mr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Mr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Mr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=q3(this.values(),e),this._get=e),this._q};Mr.q1=function(e){return this.quartile(e)[0]};Mr.q2=function(e){return this.quartile(e)[1]};Mr.q3=function(e){return this.quartile(e)[2]};Mr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=TJ(this.values(),1e3,.05,e),this._get=e),this._ci};Mr.ci0=function(e){return this.ci(e)[0]};Mr.ci1=function(e){return this.ci(e)[1]};function Dc(e){J.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Dc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:rx},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};xe(Dc,J,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(s){let l,u,c,f;for(l in s)for(c=s[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}a(e._prev),a(t);function o(s,l,u){const c=n[u],f=r[u++];for(const d in f){const p=s?s+"|"+d:d;l[c]=f[d],u<i?o(p,l,u):t[p]||e.cell(p,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(b){const _=Ae(Vr(b)),k=_.length;let E=0,A;for(;E<k;++E)r[A=_[E]]||(r[A]=1,t.push(A))}this._dims=Ae(e.groupby),this._dnames=this._dims.map(b=>{const _=kn(b);return i(b),n.push(_),_}),this.cellkey=e.key?e.key:jN(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],o=e.ops||["count"],s=e.aggregate_params||[null],l=e.as||[],u=a.length,c={};let f,d,p,m,g,x,v;for(u!==o.length&&ee("Unmatched number of fields and aggregate ops."),v=0;v<u;++v){if(f=a[v],d=o[v],p=s[v]||null,f==null&&d!=="count"&&ee("Null aggregate field specified."),g=kn(f),x=UJ(d,g,l[v]),n.push(x),d==="count"){this._counts.push(x);continue}m=c[g],m||(i(f),m=c[g]=[],m.field=f,this._measures.push(m)),d!=="count"&&(this._countOnly=!1),m.push(WJ(d,p,x))}return this._measures=this._measures.map(b=>qJ(b,b.field)),Object.create(null)},cellkey:jN(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new sL),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let o=0;o<i;++o)a[n[o]]=r[o](e);return t?SJ(t.tuple,a):Pt(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,o=e.rem,s=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&o.push(l.tuple);for(c=0,f=this._alen;c<f;++c)a.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?o:s).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const R2e=1e-14;function lL(e){J.call(this,null,e)}lL.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};xe(lL,J,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,o=e.as||["bin0","bin1"],s=o[0],l=o[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Vr(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[s]=f,c[l]=f==null?null:i+a*(1+(f-i)/a)}:c=>c[s]=r(c)),t.modifies(n?o:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=$J(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,o,s;(o=e.anchor)!=null&&(s=o-(i+r*Math.floor((o-i)/r)),i+=s,a+=s);const l=function(u){let c=qr(t(u));return c==null?null:c<i?-1/0:c>a?1/0:(c=Math.max(i,Math.min(c,a-r)),i+r*Math.floor(R2e+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=na(l,Vr(t),e.name||"bin_"+kn(t))}});function GJ(e,t,n){const r=e;let i=t||[],a=n||[],o={},s=0;return{add:l=>a.push(l),remove:l=>o[r(l)]=++s,size:()=>i.length,data:(l,u)=>(s&&(i=i.filter(c=>!o[r(c)]),o={},s=0),u&&l&&i.sort(l),a.length&&(i=l?pQ(l,i,a.sort(l)):i.concat(a),a=[]),i)}}function uL(e){J.call(this,[],e)}uL.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};xe(uL,J,{transform(e,t){const n=t.fork(t.ALL),r=GJ(Le,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(sh(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function VJ(e){Gt.call(this,null,z2e,e)}xe(VJ,Gt);function z2e(e){return this.value&&!e.modified()?this.value:w3(e.fields,e.orders)}function cL(e){J.call(this,null,e)}cL.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function B2e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}xe(cL,J,{transform(e,t){const n=f=>d=>{for(var p=B2e(s(d),e.case,a)||[],m,g=0,x=p.length;g<x;++g)o.test(m=p[g])||f(m)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,u;for(s in n)l=r[s],u=n[s]||0,!l&&u?(r[s]=l=Pt({}),l[i]=s,l[a]=u,o.add.push(l)):u===0?(l&&o.rem.push(l),n[s]=null,r[s]=null):l[a]!==u&&(l[a]=u,o.mod.push(l));return o.modifies(t)}});function fL(e){J.call(this,null,e)}fL.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};xe(fL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return o?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=U2e(s,i,a,e.filter||so)):n.mod=s,n.source=this.value,n.modifies(r)}});function U2e(e,t,n,r){for(var i=[],a={},o=e.length,s=0,l,u;s<o;++s)for(a[t]=u=e[s],l=0;l<o;++l)a[n]=e[l],r(a)&&(i.push(Pt(a)),a={},a[t]=u);return i}const b9={kde:Y3,mixture:jJ,normal:X3,lognormal:DJ,uniform:IJ},W2e="distributions",_9="function",H2e="field";function XJ(e,t){const n=e[_9];ke(b9,n)||ee("Unknown distribution function: "+n);const r=b9[n]();for(const i in e)i===H2e?r.data((e.from||t()).map(e[i])):i===W2e?r[i](e[i].map(a=>XJ(a,t))):typeof r[i]===_9&&r[i](e[i]);return r}function dL(e){J.call(this,null,e)}const YJ=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],q2e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:YJ},{name:"weights",type:"number",array:!0}]};dL.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:YJ.concat(q2e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};xe(dL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=XJ(e.distribution,G2e(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&ee("Invalid density method: "+o),!e.extent&&!r.data&&ee("Missing density extent parameter."),o=r[o];const s=e.as||["value","density"],l=e.extent||Ys(r.data()),u=cA(o,l,i,a).map(c=>{const f={};return f[s[0]]=c[0],f[s[1]]=c[1],Pt(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function G2e(e){return()=>e.materialize(e.SOURCE).source}function KJ(e,t){return e?e.map((n,r)=>t[r]||kn(n)):null}function hL(e,t,n){const r=[],i=f=>f(l);let a,o,s,l,u,c;if(t==null)r.push(e.map(n));else for(a={},o=0,s=e.length;o<s;++o)l=e[o],u=t.map(i),c=a[u],c||(a[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const ZJ="bin";function pL(e){J.call(this,null,e)}pL.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:ZJ}]};const V2e=(e,t)=>ex(Ys(e,t))/30;xe(pL,J,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=hL(t.source,e.groupby,ei),i=e.smooth||!1,a=e.field,o=e.step||V2e(n,a),s=sh((m,g)=>a(m)-a(g)),l=e.as||ZJ,u=r.length;let c=1/0,f=-1/0,d=0,p;for(;d<u;++d){const m=r[d].sort(s);p=-1;for(const g of NJ(m,o,i,a))g<c&&(c=g),g>f&&(f=g),m[++p][l]=g}return this.value={start:c,stop:f,step:o},t.reflow(!0).modifies(l)}});function QJ(e){Gt.call(this,null,X2e,e),this.modified(!0)}xe(QJ,Gt);function X2e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:na(n=>t(n,e),Vr(t),kn(t))}function mL(e){J.call(this,[void 0,void 0],e)}mL.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};xe(mL,J,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],o=n[1];if((i||a==null)&&(a=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,s=>{const l=qr(r(s));l!=null&&(l<a&&(a=l),l>o&&(o=l))}),!Number.isFinite(a)||!Number.isFinite(o)){let s=kn(r);s&&(s=` for field "${s}"`),t.dataflow.warn(`Infinite extent${s}: [${a}, ${o}]`),a=o=void 0}this.value=[a,o]}});function gL(e,t){Gt.call(this,e),this.parent=t,this.count=0}xe(gL,Gt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function fA(e){J.call(this,{},e),this._keys=vg();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}xe(fA,J,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=ke(i,e)&&i[e],o,s;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(s=r||(s=this._group[e])&&s.tuple,o=n.dataflow,a=new gL(n.fork(n.NO_SOURCE),this),o.add(a).connect(t(o,e,s)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,o=e.modified("key"),s=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=Le(l),c=a.get(u);c!==void 0&&(a.delete(u),s(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);a.set(Le(l),u),s(u).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=Le(l),c=a.get(u),f=r(l);c===f?s(f).mod(l):(a.set(u,f),s(c).rem(l),s(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{s(a.get(Le(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const u=Le(l),c=a.get(u),f=r(l);c!==f&&(a.set(u,f),s(c).rem(l),s(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function JJ(e){Gt.call(this,null,Y2e,e)}xe(JJ,Gt);function Y2e(e){return this.value&&!e.modified()?this.value:ae(e.name)?Ae(e.name).map(t=>oo(t)):oo(e.name,e.as)}function yL(e){J.call(this,vg(),e)}yL.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};xe(yL,J,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,s=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=Le(f);r.has(d)?r.delete(d):o.push(f)}),t.visit(t.ADD,f=>{l(f,e)?a.push(f):r.set(Le(f),1)});function c(f){const d=Le(f),p=l(f,e),m=r.get(d);p&&m?(r.delete(d),a.push(f)):!p&&!m?(r.set(d,1),o.push(f)):u&&p&&!m&&s.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function vL(e){J.call(this,[],e)}vL.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};xe(vL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=KJ(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,s=>{const l=r.map(m=>m(s)),u=l.reduce((m,g)=>Math.max(m,g.length),0);let c=0,f,d,p;for(;c<u;++c){for(d=B3(s),f=0;f<o;++f)d[i[f]]=(p=l[f][c])==null?null:p;a&&(d[a]=c),n.add.push(d)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function xL(e){J.call(this,[],e)}xL.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};xe(xL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(kn),a=e.as||["key","value"],o=a[0],s=a[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=B3(u),f[o]=i[c],f[s]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(a)}});function bL(e){J.call(this,null,e)}bL.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};xe(bL,J,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,o=>o[r]=n(o,e))}});function eee(e){J.call(this,[],e)}xe(eee,J,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,o,s,l;if(a>0){for(o=[];--a>=0;)o.push(l=Pt(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else s=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(s):s,i=i.slice(-a);return n.source=this.value=i,n}});const Wb={value:"value",median:CQ,mean:Tbe,min:AN,max:sd},K2e=[];function _L(e){J.call(this,[],e)}_L.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Z2e(e){var t=e.method||Wb.value,n;if(Wb[t]==null)ee("Unrecognized imputation method: "+t);else return t===Wb.value?(n=e.value!==void 0?e.value:0,()=>n):Wb[t]}function Q2e(e){const t=e.field;return n=>n?t(n):NaN}xe(_L,J,{transform(e,t){var n=t.fork(t.ALL),r=Z2e(e),i=Q2e(e),a=kn(e.field),o=kn(e.key),s=(e.groupby||[]).map(kn),l=J2e(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,p,m,g,x,v,b,_,k,E;for(x=0,_=l.length;x<_;++x)for(d=l[x],m=d.values,p=NaN,b=0;b<f;++b)if(d[b]==null){for(g=l.domain[b],E={_impute:!0},v=0,k=m.length;v<k;++v)E[s[v]]=m[v];E[o]=g,E[a]=Number.isNaN(p)?p=r(d,i):p,u.push(Pt(E))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function J2e(e,t,n,r){var i=v=>v(x),a=[],o=r?r.slice():[],s={},l={},u,c,f,d,p,m,g,x;for(o.forEach((v,b)=>s[v]=b+1),d=0,g=e.length;d<g;++d)x=e[d],m=n(x),p=s[m]||(s[m]=o.push(m)),c=(u=t?t.map(i):K2e)+"",(f=l[c])||(f=l[c]=[],a.push(f),f.values=u),f[p-1]=x;return a.domain=o,a}function wL(e){Dc.call(this,e)}wL.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:rx},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};xe(wL,Dc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{Je(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function SL(e){J.call(this,null,e)}SL.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};xe(SL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=hL(r,e.groupby,e.field),a=(e.groupby||[]).map(kn),o=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;s!=="pdf"&&s!=="cdf"&&ee("Invalid density method: "+s),e.resolve==="shared"&&(c||(c=Ys(r,e.field)),f=d=e.steps||d),i.forEach(p=>{const m=Y3(p,o)[s],g=e.counts?p.length:1,x=c||Ys(p);cA(m,x,f,d).forEach(v=>{const b={};for(let _=0;_<a.length;++_)b[a[_]]=p.dims[_];b[l[0]]=v[0],b[l[1]]=v[1]*g,u.push(Pt(b))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function tee(e){Gt.call(this,null,eSe,e)}xe(tee,Gt);function eSe(e){return this.value&&!e.modified()?this.value:A3(e.fields,e.flat)}function nee(e){J.call(this,[],e),this._pending=null}xe(nee,J,{transform(e,t){const n=t.dataflow;return this._pending?hP(this,t,this._pending):tSe(e)?t.StopPropagation:e.values?hP(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Ae(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>hP(this,t,Ae(r.data)))}});function tSe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function hP(e,t,n){n.forEach(Pt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function EL(e){J.call(this,{},e)}EL.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};xe(EL,J,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,o=e.modified(),s=n.length;let l=o?t.SOURCE:t.ADD,u=t,c=e.as,f,d,p;return i?(d=i.length,s>1&&!c&&ee('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==s*d&&ee('The "as" parameter has too few output field names.'),c=c||i.map(kn),f=function(m){for(var g=0,x=0,v,b;g<s;++g)if(b=r.get(n[g](m)),b==null)for(v=0;v<d;++v,++x)m[c[x]]=a;else for(v=0;v<d;++v,++x)m[c[x]]=i[v](b)}):(c||ee("Missing output field names."),f=function(m){for(var g=0,x;g<s;++g)x=r.get(n[g](m)),m[c[g]]=x??a}),o?u=t.reflow(!0):(p=n.some(m=>t.modified(m.fields)),l|=p?t.MOD:0),t.visit(l,f),u.modifies(c)}});function ree(e){Gt.call(this,null,nSe,e)}xe(ree,Gt);function nSe(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,o;for(a=0;a<n;++a)o=t[a],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function iee(e){Gt.call(this,null,rSe,e)}xe(iee,Gt);function rSe(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function aee(e){J.call(this,null,e)}xe(aee,J,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function AL(e){Dc.call(this,e)}AL.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:rx,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};xe(AL,Dc,{_transform:Dc.prototype.transform,transform(e,t){return this._transform(iSe(e,t),t)}});function iSe(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=Vr(n).concat(Vr(r)),o=oSe(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(s=>aSe(s,n,r,a)),as:o.map(s=>s+""),modified:e.modified.bind(e)}}function aSe(e,t,n,r){return na(i=>t(i)===e?n(i):NaN,r,e+"")}function oSe(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const o=e(a);r[o]||(r[o]=1,i.push(o))}),i.sort(yg),t?i.slice(0,t):i}function oee(e){fA.call(this,e)}xe(oee,fA,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(Le(a),n,t,a);return(e.modified("field")||r&&t.modified(Vr(r)))&&ee("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const o=i(a);r(a).forEach(s=>o.mod(s))}),t.visit(t.ADD,a=>{const o=i(a);r(a).forEach(s=>o.add(Pt(s)))}),t.visit(t.REM,a=>{const o=i(a);r(a).forEach(s=>o.rem(s))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function kL(e){J.call(this,null,e)}kL.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};xe(kL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=KJ(e.fields,e.as||[]),a=r?(s,l)=>sSe(s,l,r,i):rA;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,s=>{const l=Le(s);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,s=>{const l=a(s,Pt({}));o[Le(s)]=l,n.add.push(l)}),t.visit(t.MOD,s=>{n.mod.push(a(s,o[Le(s)]))}),n}});function sSe(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function see(e){J.call(this,null,e)}xe(see,J,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function CL(e){J.call(this,null,e)}CL.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const lSe=1e-14;xe(CL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=hL(i,e.groupby,e.field),o=(e.groupby||[]).map(kn),s=[],l=e.step||.01,u=e.probs||Ui(l/2,1-lSe,l),c=u.length;return a.forEach(f=>{const d=H3(f,u);for(let p=0;p<c;++p){const m={};for(let g=0;g<o.length;++g)m[o[g]]=f.dims[g];m[r[0]]=u[p],m[r[1]]=d[p],s.push(Pt(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}});function lee(e){J.call(this,null,e)}xe(lee,J,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=Le(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=B3(i);r[Le(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[Le(i)];for(const o in i)a[o]=i[o],n.modifies(o);n.mod.push(a)})),n}});function OL(e){J.call(this,[],e),this.count=0}OL.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};xe(OL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((c,f)=>(c[Le(f)]=1,c),{});let o=this.value,s=this.count,l=0;function u(c){let f,d;o.length<i?o.push(c):(d=~~((s+1)*uo()),d<o.length&&d>=l&&(f=o[d],a[Le(f)]&&n.rem.push(f),o[d]=c)),++s}if(t.rem.length&&(t.visit(t.REM,c=>{const f=Le(c);a[f]&&(a[f]=-1,n.rem.push(c)),--s}),o=o.filter(c=>a[Le(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=s=o.length,t.visit(t.SOURCE,c=>{a[Le(c)]||u(c)}),l=-1),r&&o.length>i){const c=o.length-i;for(let f=0;f<c;++f)a[Le(o[f])]=-1,n.rem.push(o[f]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{a[Le(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=o.filter(c=>!a[Le(c)])),this.count=s,this.value=n.source=o,n}});function PL(e){J.call(this,null,e)}PL.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};xe(PL,J,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ui(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,Pt(a)}),n.add=t.add.concat(this.value),n}});function uee(e){J.call(this,null,e),this.modified(!0)}xe(uee,J,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function $L(e){J.call(this,null,e)}const cee=["unit0","unit1"];$L.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:N3,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:cee}]};xe($L,J,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),o=(i?Sg:wg)(a.unit).offset,s=e.as||cee,l=s[0],u=s[1],c=a.step;let f=a.start||1/0,d=a.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Vr(n)))&&(t=t.reflow(!0),p=t.SOURCE,f=1/0,d=-1/0),t.visit(p,m=>{const g=n(m);let x,v;g==null?(m[l]=null,r&&(m[u]=null)):(m[l]=x=v=a(g),r&&(m[u]=v=o(x,c)),x<f&&(f=x),v>d&&(d=v))}),a.start=f,a.stop=d,t.modifies(r?s:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:eJ({extent:e.extent||Ys(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=M3(r),o=this.value||{},s=(n?qQ:HQ)(a,i);return s.unit=pt(a),s.units=a,s.step=i,s.start=o.start,s.stop=o.stop,this.value=s}});function fee(e){J.call(this,vg(),e)}xe(fee,J,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=s=>i.set(r(s),s);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,s=>i.delete(r(s))),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function dee(e){J.call(this,null,e)}xe(dee,J,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(sh(e.sort)):t.source).map(e.field))}});function uSe(e,t,n,r){const i=Iv[e](t,n);return{init:i.init||nc,update:function(a,o){o[r]=i.next(a)}}}const Iv={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=Iv.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ee("ntile num must be greater than zero.");const n=Iv.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ee("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=cSe(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function cSe(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const fSe=Object.keys(Iv);function hee(e){const t=Ae(e.ops),n=Ae(e.fields),r=Ae(e.params),i=Ae(e.aggregate_params),a=Ae(e.as),o=this.outputs=[],s=this.windows=[],l={},u={},c=[],f=[];let d=!0;function p(m){Ae(Vr(m)).forEach(g=>l[g]=1)}p(e.sort),t.forEach((m,g)=>{const x=n[g],v=r[g],b=i[g]||null,_=kn(x),k=UJ(m,_,a[g]);if(p(x),o.push(k),ke(Iv,m))s.push(uSe(m,x,v,k));else{if(x==null&&m!=="count"&&ee("Null aggregate field specified."),m==="count"){c.push(k);return}d=!1;let E=u[_];E||(E=u[_]=[],E.field=x,f.push(E)),E.push(WJ(m,b,k))}}),(c.length||f.length)&&(this.cell=dSe(f,c,d)),this.inputs=Object.keys(l)}const pee=hee.prototype;pee.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};pee.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<a;++o)r[o].update(e,t)};function dSe(e,t,n){e=e.map(l=>qJ(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new sL;return r.add=function(l){if(r.num+=1,!n){s&&s.add(l);for(let u=0;u<i;++u)a[u].add(a[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){s&&s.rem(l);for(let u=0;u<i;++u)a[u].rem(a[u].get(l),l)}},r.set=function(l){let u,c;for(s&&s.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=a.length;u<c;++u)a[u].set(l)},r.init=function(){r.num=0,s&&s.reset();for(let l=0;l<i;++l)a[l].init()},r}function TL(e){J.call(this,{},e),this._mlen=0,this._mods=[]}TL.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:fSe.concat(rx)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};xe(TL,J,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=sh(e.sort),i=jN(e.groupby),a=s=>this.group(i(s));let o=this.state;(!o||n)&&(o=this.state=new hee(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,s=>a(s).add(s))):(t.visit(t.REM,s=>a(s).remove(s)),t.visit(t.ADD,s=>a(s).add(s)));for(let s=0,l=this._mlen;s<l;++s)hSe(this._mods[s],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=GJ(Le),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function hSe(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],s=e.data(n),l=s.length,u=a?xg(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||ti(-1)};t.init();for(let f=0;f<l;++f)pSe(c,o,f,l),a&&mSe(c,u),t.update(c,s[f])}function pSe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function mSe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const gSe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Dc,bin:lL,collect:uL,compare:VJ,countpattern:cL,cross:fL,density:dL,dotbin:pL,expression:QJ,extent:mL,facet:fA,field:JJ,filter:yL,flatten:vL,fold:xL,formula:bL,generate:eee,impute:_L,joinaggregate:wL,kde:SL,key:tee,load:nee,lookup:EL,multiextent:ree,multivalues:iee,params:aee,pivot:AL,prefacet:oee,project:kL,proxy:see,quantile:CL,relay:lee,sample:OL,sequence:PL,sieve:uee,subflow:gL,timeunit:$L,tupleindex:fee,values:dee,window:TL},Symbol.toStringTag,{value:"Module"}));function yt(e){return function(){return e}}const w9=Math.abs,Ir=Math.atan2,Ml=Math.cos,ySe=Math.max,pP=Math.min,Di=Math.sin,Er=Math.sqrt,Fr=1e-12,jc=Math.PI,l2=jc/2,ix=2*jc;function vSe(e){return e>1?0:e<-1?jc:Math.acos(e)}function S9(e){return e>=1?l2:e<=-1?-l2:Math.asin(e)}const IN=Math.PI,LN=2*IN,Ff=1e-6,xSe=LN-Ff;function mee(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mee;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let NL=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mee:bSe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,u=i-n,c=o-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ff)if(!(Math.abs(f*l-u*c)>Ff)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+u*u,x=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(d),_=a*Math.tan((IN-Math.acos((g+d-x)/(2*v*b)))/2),k=_/b,E=_/v;Math.abs(k-1)>Ff&&this._append`L${t+k*c},${n+k*f}`,this._append`A${a},${a},0,0,${+(f*p>c*m)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ff||Math.abs(this._y1-c)>Ff)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%LN+LN),d>xSe?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Ff&&this._append`A${r},${r},0,${+(d>=IN)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function dA(){return new NL}dA.prototype=NL.prototype;function hA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new NL(t)}function _Se(e){return e.innerRadius}function wSe(e){return e.outerRadius}function SSe(e){return e.startAngle}function ESe(e){return e.endAngle}function ASe(e){return e&&e.padAngle}function kSe(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<Fr))return d=(c*(t-a)-f*(e-i))/d,[e+d*l,t+d*u]}function Hb(e,t,n,r,i,a,o){var s=e-n,l=t-r,u=(o?a:-a)/Er(s*s+l*l),c=u*l,f=-u*s,d=e+c,p=t+f,m=n+c,g=r+f,x=(d+m)/2,v=(p+g)/2,b=m-d,_=g-p,k=b*b+_*_,E=i-a,A=d*g-m*p,C=(_<0?-1:1)*Er(ySe(0,E*E*k-A*A)),P=(A*_-b*C)/k,T=(-A*b-_*C)/k,D=(A*_+b*C)/k,j=(-A*b+_*C)/k,I=P-x,W=T-v,R=D-x,M=j-v;return I*I+W*W>R*R+M*M&&(P=D,T=j),{cx:P,cy:T,x01:-c,y01:-f,x11:P*(i/E-1),y11:T*(i/E-1)}}function CSe(){var e=_Se,t=wSe,n=yt(0),r=null,i=SSe,a=ESe,o=ASe,s=null,l=hA(u);function u(){var c,f,d=+e.apply(this,arguments),p=+t.apply(this,arguments),m=i.apply(this,arguments)-l2,g=a.apply(this,arguments)-l2,x=w9(g-m),v=g>m;if(s||(s=c=l()),p<d&&(f=p,p=d,d=f),!(p>Fr))s.moveTo(0,0);else if(x>ix-Fr)s.moveTo(p*Ml(m),p*Di(m)),s.arc(0,0,p,m,g,!v),d>Fr&&(s.moveTo(d*Ml(g),d*Di(g)),s.arc(0,0,d,g,m,v));else{var b=m,_=g,k=m,E=g,A=x,C=x,P=o.apply(this,arguments)/2,T=P>Fr&&(r?+r.apply(this,arguments):Er(d*d+p*p)),D=pP(w9(p-d)/2,+n.apply(this,arguments)),j=D,I=D,W,R;if(T>Fr){var M=S9(T/d*Di(P)),z=S9(T/p*Di(P));(A-=M*2)>Fr?(M*=v?1:-1,k+=M,E-=M):(A=0,k=E=(m+g)/2),(C-=z*2)>Fr?(z*=v?1:-1,b+=z,_-=z):(C=0,b=_=(m+g)/2)}var H=p*Ml(b),B=p*Di(b),G=d*Ml(E),N=d*Di(E);if(D>Fr){var Z=p*Ml(_),Y=p*Di(_),U=d*Ml(k),me=d*Di(k),le;if(x<jc)if(le=kSe(H,B,U,me,Z,Y,G,N)){var ve=H-le[0],mt=B-le[1],it=Z-le[0],be=Y-le[1],De=1/Di(vSe((ve*it+mt*be)/(Er(ve*ve+mt*mt)*Er(it*it+be*be)))/2),Re=Er(le[0]*le[0]+le[1]*le[1]);j=pP(D,(d-Re)/(De-1)),I=pP(D,(p-Re)/(De+1))}else j=I=0}C>Fr?I>Fr?(W=Hb(U,me,H,B,p,I,v),R=Hb(Z,Y,G,N,p,I,v),s.moveTo(W.cx+W.x01,W.cy+W.y01),I<D?s.arc(W.cx,W.cy,I,Ir(W.y01,W.x01),Ir(R.y01,R.x01),!v):(s.arc(W.cx,W.cy,I,Ir(W.y01,W.x01),Ir(W.y11,W.x11),!v),s.arc(0,0,p,Ir(W.cy+W.y11,W.cx+W.x11),Ir(R.cy+R.y11,R.cx+R.x11),!v),s.arc(R.cx,R.cy,I,Ir(R.y11,R.x11),Ir(R.y01,R.x01),!v))):(s.moveTo(H,B),s.arc(0,0,p,b,_,!v)):s.moveTo(H,B),!(d>Fr)||!(A>Fr)?s.lineTo(G,N):j>Fr?(W=Hb(G,N,Z,Y,d,-j,v),R=Hb(H,B,U,me,d,-j,v),s.lineTo(W.cx+W.x01,W.cy+W.y01),j<D?s.arc(W.cx,W.cy,j,Ir(W.y01,W.x01),Ir(R.y01,R.x01),!v):(s.arc(W.cx,W.cy,j,Ir(W.y01,W.x01),Ir(W.y11,W.x11),!v),s.arc(0,0,d,Ir(W.cy+W.y11,W.cx+W.x11),Ir(R.cy+R.y11,R.cx+R.x11),v),s.arc(R.cx,R.cy,j,Ir(R.y11,R.x11),Ir(R.y01,R.x01),!v))):s.arc(0,0,d,E,k,v)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-jc/2;return[Ml(f)*c,Di(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:yt(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:yt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:yt(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:yt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:yt(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:yt(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:yt(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function ML(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gee(e){this._context=e}gee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ax(e){return new gee(e)}function yee(e){return e[0]}function vee(e){return e[1]}function DL(e,t){var n=yt(!0),r=null,i=ax,a=null,o=hA(s);e=typeof e=="function"?e:e===void 0?yee:yt(e),t=typeof t=="function"?t:t===void 0?vee:yt(t);function s(l){var u,c=(l=ML(l)).length,f,d=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:yt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:yt(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:yt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function yp(e,t,n){var r=null,i=yt(!0),a=null,o=ax,s=null,l=hA(u);e=typeof e=="function"?e:e===void 0?yee:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vee:yt(+n);function u(f){var d,p,m,g=(f=ML(f)).length,x,v=!1,b,_=new Array(g),k=new Array(g);for(a==null&&(s=o(b=l())),d=0;d<=g;++d){if(!(d<g&&i(x=f[d],d,f))===v)if(v=!v)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(_[m],k[m]);s.lineEnd(),s.areaEnd()}v&&(_[d]=+e(x,d,f),k[d]=+t(x,d,f),s.point(r?+r(x,d,f):_[d],n?+n(x,d,f):k[d]))}if(b)return s=null,b+""||null}function c(){return DL().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:yt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:yt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:yt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class xee{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function OSe(e){return new xee(e,!0)}function PSe(e){return new xee(e,!1)}const jL={draw(e,t){const n=Er(t/jc);e.moveTo(n,0),e.arc(0,0,n,0,ix)}},$Se={draw(e,t){const n=Er(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bee=Er(1/3),TSe=bee*2,NSe={draw(e,t){const n=Er(t/TSe),r=n*bee;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},MSe={draw(e,t){const n=Er(t),r=-n/2;e.rect(r,r,n,n)}},DSe=.8908130915292852,_ee=Di(jc/10)/Di(7*jc/10),jSe=Di(ix/10)*_ee,ISe=-Ml(ix/10)*_ee,LSe={draw(e,t){const n=Er(t*DSe),r=jSe*n,i=ISe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=ix*a/5,s=Ml(o),l=Di(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},mP=Er(3),FSe={draw(e,t){const n=-Er(t/(mP*3));e.moveTo(0,n*2),e.lineTo(-mP*n,-n),e.lineTo(mP*n,-n),e.closePath()}},Fa=-.5,Ra=Er(3)/2,FN=1/Er(12),RSe=(FN/2+1)*3,zSe={draw(e,t){const n=Er(t/RSe),r=n/2,i=n*FN,a=r,o=n*FN+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Fa*r-Ra*i,Ra*r+Fa*i),e.lineTo(Fa*a-Ra*o,Ra*a+Fa*o),e.lineTo(Fa*s-Ra*l,Ra*s+Fa*l),e.lineTo(Fa*r+Ra*i,Fa*i-Ra*r),e.lineTo(Fa*a+Ra*o,Fa*o-Ra*a),e.lineTo(Fa*s+Ra*l,Fa*l-Ra*s),e.closePath()}};function wee(e,t){let n=null,r=hA(i);e=typeof e=="function"?e:yt(e||jL),t=typeof t=="function"?t:yt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:yt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:yt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ic(){}function u2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pA(e){this._context=e}pA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:u2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:u2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function See(e){return new pA(e)}function Eee(e){this._context=e}Eee.prototype={areaStart:Ic,areaEnd:Ic,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:u2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Aee(e){return new Eee(e)}function kee(e){this._context=e}kee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:u2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cee(e){return new kee(e)}function Oee(e,t){this._basis=new pA(e),this._beta=t}Oee.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const BSe=function e(t){function n(r){return t===1?new pA(r):new Oee(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function c2(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function IL(e,t){this._context=e,this._k=(1-t)/6}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:c2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:c2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const USe=function e(t){function n(r){return new IL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function LL(e,t){this._context=e,this._k=(1-t)/6}LL.prototype={areaStart:Ic,areaEnd:Ic,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:c2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const WSe=function e(t){function n(r){return new LL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function FL(e,t){this._context=e,this._k=(1-t)/6}FL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:c2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HSe=function e(t){function n(r){return new FL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function RL(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Fr){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Fr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function Pee(e,t){this._context=e,this._alpha=t}Pee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:RL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qSe=function e(t){function n(r){return t?new Pee(r,t):new IL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function $ee(e,t){this._context=e,this._alpha=t}$ee.prototype={areaStart:Ic,areaEnd:Ic,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:RL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const GSe=function e(t){function n(r){return t?new $ee(r,t):new LL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Tee(e,t){this._context=e,this._alpha=t}Tee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:RL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VSe=function e(t){function n(r){return t?new Tee(r,t):new FL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Nee(e){this._context=e}Nee.prototype={areaStart:Ic,areaEnd:Ic,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Mee(e){return new Nee(e)}function E9(e){return e<0?-1:1}function A9(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(E9(a)+E9(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function k9(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gP(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function f2(e){this._context=e}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gP(this,this._t0,k9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gP(this,k9(this,n=A9(this,e,t)),n);break;default:gP(this,this._t0,n=A9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Dee(e){this._context=new jee(e)}(Dee.prototype=Object.create(f2.prototype)).point=function(e,t){f2.prototype.point.call(this,t,e)};function jee(e){this._context=e}jee.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Iee(e){return new f2(e)}function Lee(e){return new Dee(e)}function Fee(e){this._context=e}Fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=C9(e),i=C9(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C9(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Ree(e){return new Fee(e)}function mA(e,t){this._context=e,this._t=t}mA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function zee(e){return new mA(e,.5)}function Bee(e){return new mA(e,0)}function Uee(e){return new mA(e,1)}function dm(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function RN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function XSe(e,t){return e[t]}function YSe(e){const t=[];return t.key=e,t}function KSe(){var e=yt([]),t=RN,n=dm,r=XSe;function i(a){var o=Array.from(e.apply(this,arguments),YSe),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=ML(t(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:yt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:yt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?RN:typeof a=="function"?a:yt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??dm,i):n},i}function ZSe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}dm(e,t)}}function QSe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}dm(e,t)}}function JSe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],x=g[r][1]||0,v=g[r-1][1]||0;p+=x-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,dm(e,t)}}function Oc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const eEe=()=>typeof Image<"u"?Image:null;function mo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d2=Symbol("implicit");function ox(){var e=new H8,t=[],n=[],r=d2;function i(a){let o=e.get(a);if(o===void 0){if(r!==d2)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new H8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ox(t,n).unknown(r)},mo.apply(i,arguments),i}function Lv(){var e=ox().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(d-l))*c,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var x=Ui(d).map(function(v){return m+a*v});return n(p?x.reverse():x)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Lv(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},mo.apply(f(),arguments)}function Wee(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wee(t())},e}function q0(){return Wee(Lv.apply(null,arguments).paddingInner(1))}function Ag(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jc(){}var kd=.7,hm=1/kd,Fp="\\s*([+-]?\\d+)\\s*",Fv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tEe=/^#([0-9a-f]{3,8})$/,nEe=new RegExp(`^rgb\\(${Fp},${Fp},${Fp}\\)$`),rEe=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),iEe=new RegExp(`^rgba\\(${Fp},${Fp},${Fp},${Fv}\\)$`),aEe=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${Fv}\\)$`),oEe=new RegExp(`^hsl\\(${Fv},${Fs},${Fs}\\)$`),sEe=new RegExp(`^hsla\\(${Fv},${Fs},${Fs},${Fv}\\)$`),O9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ag(Jc,Rv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:P9,formatHex:P9,formatHex8:lEe,formatHsl:uEe,formatRgb:$9,toString:$9});function P9(){return this.rgb().formatHex()}function lEe(){return this.rgb().formatHex8()}function uEe(){return Hee(this).formatHsl()}function $9(){return this.rgb().formatRgb()}function Rv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tEe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?T9(t):n===3?new ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nEe.exec(e))?new ar(t[1],t[2],t[3],1):(t=rEe.exec(e))?new ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iEe.exec(e))?qb(t[1],t[2],t[3],t[4]):(t=aEe.exec(e))?qb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oEe.exec(e))?D9(t[1],t[2]/100,t[3]/100,1):(t=sEe.exec(e))?D9(t[1],t[2]/100,t[3]/100,t[4]):O9.hasOwnProperty(e)?T9(O9[e]):e==="transparent"?new ar(NaN,NaN,NaN,0):null}function T9(e){return new ar(e>>16&255,e>>8&255,e&255,1)}function qb(e,t,n,r){return r<=0&&(e=t=n=NaN),new ar(e,t,n,r)}function zL(e){return e instanceof Jc||(e=Rv(e)),e?(e=e.rgb(),new ar(e.r,e.g,e.b,e.opacity)):new ar}function Lc(e,t,n,r){return arguments.length===1?zL(e):new ar(e,t,n,r??1)}function ar(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ag(ar,Lc,sx(Jc,{brighter(e){return e=e==null?hm:Math.pow(hm,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kd:Math.pow(kd,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ar(ld(this.r),ld(this.g),ld(this.b),h2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N9,formatHex:N9,formatHex8:cEe,formatRgb:M9,toString:M9}));function N9(){return`#${Jf(this.r)}${Jf(this.g)}${Jf(this.b)}`}function cEe(){return`#${Jf(this.r)}${Jf(this.g)}${Jf(this.b)}${Jf((isNaN(this.opacity)?1:this.opacity)*255)}`}function M9(){const e=h2(this.opacity);return`${e===1?"rgb(":"rgba("}${ld(this.r)}, ${ld(this.g)}, ${ld(this.b)}${e===1?")":`, ${e})`}`}function h2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ld(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jf(e){return e=ld(e),(e<16?"0":"")+e.toString(16)}function D9(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lo(e,t,n,r)}function Hee(e){if(e instanceof Lo)return new Lo(e.h,e.s,e.l,e.opacity);if(e instanceof Jc||(e=Rv(e)),!e)return new Lo;if(e instanceof Lo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Lo(o,s,l,e.opacity)}function p2(e,t,n,r){return arguments.length===1?Hee(e):new Lo(e,t,n,r??1)}function Lo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ag(Lo,p2,sx(Jc,{brighter(e){return e=e==null?hm:Math.pow(hm,e),new Lo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kd:Math.pow(kd,e),new Lo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ar(yP(e>=240?e-240:e+120,i,r),yP(e,i,r),yP(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Lo(j9(this.h),Gb(this.s),Gb(this.l),h2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=h2(this.opacity);return`${e===1?"hsl(":"hsla("}${j9(this.h)}, ${Gb(this.s)*100}%, ${Gb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j9(e){return e=(e||0)%360,e<0?e+360:e}function Gb(e){return Math.max(0,Math.min(1,e||0))}function yP(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qee=Math.PI/180,Gee=180/Math.PI,m2=18,Vee=.96422,Xee=1,Yee=.82521,Kee=4/29,Rp=6/29,Zee=3*Rp*Rp,fEe=Rp*Rp*Rp;function Qee(e){if(e instanceof Rs)return new Rs(e.l,e.a,e.b,e.opacity);if(e instanceof Xl)return Jee(e);e instanceof ar||(e=zL(e));var t=_P(e.r),n=_P(e.g),r=_P(e.b),i=vP((.2225045*t+.7168786*n+.0606169*r)/Xee),a,o;return t===n&&n===r?a=o=i:(a=vP((.4360747*t+.3850649*n+.1430804*r)/Vee),o=vP((.0139322*t+.0971045*n+.7141733*r)/Yee)),new Rs(116*i-16,500*(a-i),200*(i-o),e.opacity)}function g2(e,t,n,r){return arguments.length===1?Qee(e):new Rs(e,t,n,r??1)}function Rs(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Ag(Rs,g2,sx(Jc,{brighter(e){return new Rs(this.l+m2*(e??1),this.a,this.b,this.opacity)},darker(e){return new Rs(this.l-m2*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Vee*xP(t),e=Xee*xP(e),n=Yee*xP(n),new ar(bP(3.1338561*t-1.6168667*e-.4906146*n),bP(-.9787684*t+1.9161415*e+.033454*n),bP(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function vP(e){return e>fEe?Math.pow(e,1/3):e/Zee+Kee}function xP(e){return e>Rp?e*e*e:Zee*(e-Kee)}function bP(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _P(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function dEe(e){if(e instanceof Xl)return new Xl(e.h,e.c,e.l,e.opacity);if(e instanceof Rs||(e=Qee(e)),e.a===0&&e.b===0)return new Xl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Gee;return new Xl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function y2(e,t,n,r){return arguments.length===1?dEe(e):new Xl(e,t,n,r??1)}function Xl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Jee(e){if(isNaN(e.h))return new Rs(e.l,0,0,e.opacity);var t=e.h*qee;return new Rs(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ag(Xl,y2,sx(Jc,{brighter(e){return new Xl(this.h,this.c,this.l+m2*(e??1),this.opacity)},darker(e){return new Xl(this.h,this.c,this.l-m2*(e??1),this.opacity)},rgb(){return Jee(this).rgb()}}));var ete=-.14861,BL=1.78277,UL=-.29227,gA=-.90649,zv=1.97294,I9=zv*gA,L9=zv*BL,F9=BL*UL-gA*ete;function hEe(e){if(e instanceof ud)return new ud(e.h,e.s,e.l,e.opacity);e instanceof ar||(e=zL(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(F9*r+I9*t-L9*n)/(F9+I9-L9),a=r-i,o=(zv*(n-i)-UL*a)/gA,s=Math.sqrt(o*o+a*a)/(zv*i*(1-i)),l=s?Math.atan2(o,a)*Gee-120:NaN;return new ud(l<0?l+360:l,s,i,e.opacity)}function zN(e,t,n,r){return arguments.length===1?hEe(e):new ud(e,t,n,r??1)}function ud(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ag(ud,zN,sx(Jc,{brighter(e){return e=e==null?hm:Math.pow(hm,e),new ud(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kd:Math.pow(kd,e),new ud(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*qee,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ar(255*(t+n*(ete*r+BL*i)),255*(t+n*(UL*r+gA*i)),255*(t+n*(zv*r)),this.opacity)}}));function tte(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function nte(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return tte((n-r/t)*t,o,i,a,s)}}function rte(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return tte((n-r/t)*t,i,a,o,s)}}const yA=e=>()=>e;function ite(e,t){return function(n){return e+n*t}}function pEe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vA(e,t){var n=t-e;return n?ite(e,n>180||n<-180?n-360*Math.round(n/360):n):yA(isNaN(e)?t:e)}function mEe(e){return(e=+e)==1?or:function(t,n){return n-t?pEe(t,n,e):yA(isNaN(t)?n:t)}}function or(e,t){var n=t-e;return n?ite(e,n):yA(isNaN(e)?t:e)}const BN=function e(t){var n=mEe(t);function r(i,a){var o=n((i=Lc(i)).r,(a=Lc(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=or(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function ate(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Lc(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var gEe=ate(nte),yEe=ate(rte);function WL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function ote(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vEe(e,t){return(ote(t)?WL:ste)(e,t)}function ste(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ef(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function lte(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ute(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ef(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var UN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wP=new RegExp(UN.source,"g");function xEe(e){return function(){return e}}function bEe(e){return function(t){return e(t)+""}}function cte(e,t){var n=UN.lastIndex=wP.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=UN.exec(e))&&(i=wP.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:jo(r,i)})),n=wP.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?bEe(l[0].x):xEe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function ef(e,t){var n=typeof t,r;return t==null||n==="boolean"?yA(t):(n==="number"?jo:n==="string"?(r=Rv(t))?(t=r,BN):cte:t instanceof Rv?BN:t instanceof Date?lte:ote(t)?WL:Array.isArray(t)?ste:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ute:jo)(e,t)}function _Ee(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function wEe(e,t){var n=vA(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function lx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var R9=180/Math.PI,WN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fte(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*R9,skewX:Math.atan(l)*R9,scaleX:o,scaleY:s}}var Vb;function SEe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?WN:fte(t.a,t.b,t.c,t.d,t.e,t.f)}function EEe(e){return e==null||(Vb||(Vb=document.createElementNS("http://www.w3.org/2000/svg","g")),Vb.setAttribute("transform",e),!(e=Vb.transform.baseVal.consolidate()))?WN:(e=e.matrix,fte(e.a,e.b,e.c,e.d,e.e,e.f))}function dte(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push("translate(",null,t,null,n);m.push({i:g-4,x:jo(u,f)},{i:g-2,x:jo(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:jo(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:jo(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:jo(u,f)},{i:g-2,x:jo(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var m=-1,g=d.length,x;++m<g;)f[(x=d[m]).i]=x.x(p);return f.join("")}}}var AEe=dte(SEe,"px, ","px)","deg)"),kEe=dte(EEe,", ",")",")"),CEe=1e-12;function z9(e){return((e=Math.exp(e))+1/e)/2}function OEe(e){return((e=Math.exp(e))-1/e)/2}function PEe(e){return((e=Math.exp(2*e))-1)/(e+1)}const $Ee=function e(t,n,r){function i(a,o){var s=a[0],l=a[1],u=a[2],c=o[0],f=o[1],d=o[2],p=c-s,m=f-l,g=p*p+m*m,x,v;if(g<CEe)v=Math.log(d/u)/t,x=function(C){return[s+C*p,l+C*m,u*Math.exp(t*C*v)]};else{var b=Math.sqrt(g),_=(d*d-u*u+r*g)/(2*u*n*b),k=(d*d-u*u-r*g)/(2*d*n*b),E=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(k*k+1)-k);v=(A-E)/t,x=function(C){var P=C*v,T=z9(E),D=u/(n*b)*(T*PEe(t*P+E)-OEe(E));return[s+D*p,l+D*m,u*T/z9(t*P+E)]}}return x.duration=v*1e3*t/Math.SQRT2,x}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},i}(Math.SQRT2,2,4);function hte(e){return function(t,n){var r=e((t=p2(t)).h,(n=p2(n)).h),i=or(t.s,n.s),a=or(t.l,n.l),o=or(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const TEe=hte(vA);var NEe=hte(or);function MEe(e,t){var n=or((e=g2(e)).l,(t=g2(t)).l),r=or(e.a,t.a),i=or(e.b,t.b),a=or(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function pte(e){return function(t,n){var r=e((t=y2(t)).h,(n=y2(n)).h),i=or(t.c,n.c),a=or(t.l,n.l),o=or(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const DEe=pte(vA);var jEe=pte(or);function mte(e){return function t(n){n=+n;function r(i,a){var o=e((i=zN(i)).h,(a=zN(a)).h),s=or(i.s,a.s),l=or(i.l,a.l),u=or(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const IEe=mte(vA);var LEe=mte(or);function HL(e,t){t===void 0&&(t=e,e=ef);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function FEe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const REe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ef,interpolateArray:vEe,interpolateBasis:nte,interpolateBasisClosed:rte,interpolateCubehelix:IEe,interpolateCubehelixLong:LEe,interpolateDate:lte,interpolateDiscrete:_Ee,interpolateHcl:DEe,interpolateHclLong:jEe,interpolateHsl:TEe,interpolateHslLong:NEe,interpolateHue:wEe,interpolateLab:MEe,interpolateNumber:jo,interpolateNumberArray:WL,interpolateObject:ute,interpolateRgb:BN,interpolateRgbBasis:gEe,interpolateRgbBasisClosed:yEe,interpolateRound:lx,interpolateString:cte,interpolateTransformCss:AEe,interpolateTransformSvg:kEe,interpolateZoom:$Ee,piecewise:HL,quantize:FEe},Symbol.toStringTag,{value:"Module"}));function zEe(e){return function(){return e}}function v2(e){return+e}var B9=[0,1];function mi(e){return e}function HN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zEe(isNaN(t)?NaN:.5)}function BEe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function UEe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=HN(i,r),a=n(o,a)):(r=HN(r,i),a=n(a,o)),function(s){return a(r(s))}}function WEe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=HN(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=hu(e,s,1,r)-1;return a[l](i[l](s))}}function ux(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xA(){var e=B9,t=B9,n=ef,r,i,a,o=mi,s,l,u;function c(){var d=Math.min(e.length,t.length);return o!==mi&&(o=BEe(e[0],e[d-1])),s=d>2?WEe:UEe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(t,e.map(r),jo)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,v2),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=lx,c()},f.clamp=function(d){return arguments.length?(o=d?!0:mi,c()):o!==mi},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return r=d,i=p,c()}}function qL(){return xA()(mi,mi)}function GL(e,t,n,r){var i=Mc(e,t,n),a;switch(r=Ad(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=NQ(i,o))&&(r.precision=a),$3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=MQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=TQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return XE(r)}function tf(e){var t=e.domain;return e.ticks=function(n){var r=t();return SN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return GL(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=EN(o,s,n),u===l)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Bv(){var e=qL();return e.copy=function(){return ux(e,Bv())},mo.apply(e,arguments),tf(e)}function VL(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,v2),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return VL(e).unknown(t)},e=arguments.length?Array.from(e,v2):[0,1],tf(n)}function gte(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function U9(e){return Math.log(e)}function W9(e){return Math.exp(e)}function HEe(e){return-Math.log(-e)}function qEe(e){return-Math.exp(-e)}function GEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VEe(e){return e===10?GEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H9(e){return(t,n)=>-e(-t,n)}function XL(e){const t=e(U9,W9),n=t.domain;let r=10,i,a;function o(){return i=XEe(r),a=VEe(r),n()[0]<0?(i=H9(i),a=H9(a),e(HEe,qEe)):e(U9,W9),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const x=s==null?10:+s;let v=[];if(!(r%1)&&p-d<x){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/a(-d):m*a(d),!(g<u)){if(g>c)break;v.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<u)){if(g>c)break;v.push(g)}v.length*2<x&&(v=SN(u,c,x))}else v=SN(d,p,Math.min(p-d,x)).map(a);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ad(l)).precision==null&&(l.trim=!0),l=XE(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(gte(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function YL(){const e=XL(xA()).domain([1,10]);return e.copy=()=>ux(e,YL()).base(e.base()),mo.apply(e,arguments),e}function q9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KL(e){var t=1,n=e(q9(t),G9(t));return n.constant=function(r){return arguments.length?e(q9(t=+r),G9(t)):t},tf(n)}function ZL(){var e=KL(xA());return e.copy=function(){return ux(e,ZL()).constant(e.constant())},mo.apply(e,arguments)}function V9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KEe(e){return e<0?-e*e:e*e}function QL(e){var t=e(mi,mi),n=1;function r(){return n===1?e(mi,mi):n===.5?e(YEe,KEe):e(V9(n),V9(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},tf(t)}function bA(){var e=QL(xA());return e.copy=function(){return ux(e,bA()).exponent(e.exponent())},mo.apply(e,arguments),e}function yte(){return bA.apply(null,arguments).exponent(.5)}function X9(e){return Math.sign(e)*e*e}function ZEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vte(){var e=qL(),t=[0,1],n=!1,r;function i(a){var o=ZEe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(X9(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,v2)).map(X9)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return vte(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},mo.apply(i,arguments),tf(i)}function JL(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=kQ(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[hu(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ls),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return JL().domain(e).range(t).unknown(r)},mo.apply(a,arguments)}function eF(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[hu(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return eF().domain([e,t]).range(i).unknown(a)},mo.apply(tf(o),arguments)}function tF(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[hu(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tF().domain(e).range(t).unknown(n)},mo.apply(i,arguments)}function QEe(e){return new Date(e)}function JEe(e){return e instanceof Date?+e:+new Date(+e)}function nF(e,t,n,r,i,a,o,s,l,u){var c=qL(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),_=u("%B"),k=u("%Y");function E(A){return(l(A)<A?p:s(A)<A?m:o(A)<A?g:a(A)<A?x:r(A)<A?i(A)<A?v:b:n(A)<A?_:k)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,JEe)):d().map(QEe)},c.ticks=function(A){var C=d();return e(C[0],C[C.length-1],A??10)},c.tickFormat=function(A,C){return C==null?E:u(C)},c.nice=function(A){var C=d();return(!A||typeof A.range!="function")&&(A=t(C[0],C[C.length-1],A??10)),A?d(gte(C,A)):c},c.copy=function(){return ux(c,nF(e,t,n,r,i,a,o,s,l,u))},c}function xte(){return mo.apply(nF(Jbe,e_e,Ks,Nv,bg,eu,ZE,YE,Vl,j3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bte(){return mo.apply(nF(Zbe,Qbe,Zs,Mv,_g,kc,QE,KE,Vl,I3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _A(){var e=0,t=1,n,r,i,a,o=mi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,o=f(p,m),u):[o(0),o(1)]}}return u.range=c(ef),u.rangeRound=c(lx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function nf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wA(){var e=tf(_A()(mi));return e.copy=function(){return nf(e,wA())},wu.apply(e,arguments)}function rF(){var e=XL(_A()).domain([1,10]);return e.copy=function(){return nf(e,rF()).base(e.base())},wu.apply(e,arguments)}function iF(){var e=KL(_A());return e.copy=function(){return nf(e,iF()).constant(e.constant())},wu.apply(e,arguments)}function SA(){var e=QL(_A());return e.copy=function(){return nf(e,SA()).exponent(e.exponent())},wu.apply(e,arguments)}function _te(){return SA.apply(null,arguments).exponent(.5)}function wte(){var e=[],t=mi;function n(r){if(r!=null&&!isNaN(r=+r))return t((hu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ls),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>t2(e,a/r))},n.copy=function(){return wte(t).domain(e)},wu.apply(n,arguments)}function EA(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,u=mi,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(x){var v,b,_;return arguments.length?([v,b,_]=x,u=HL(g,[v,b,_]),p):[u(0),u(.5),u(1)]}}return p.range=m(ef),p.rangeRound=m(lx),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function aF(){var e=tf(EA()(mi));return e.copy=function(){return nf(e,aF())},wu.apply(e,arguments)}function oF(){var e=XL(EA()).domain([.1,1,10]);return e.copy=function(){return nf(e,oF()).base(e.base())},wu.apply(e,arguments)}function sF(){var e=KL(EA());return e.copy=function(){return nf(e,sF()).constant(e.constant())},wu.apply(e,arguments)}function AA(){var e=QL(EA());return e.copy=function(){return nf(e,AA()).exponent(e.exponent())},wu.apply(e,arguments)}function Ste(){return AA.apply(null,arguments).exponent(.5)}function ol(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const eAe=ol("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tAe=ol("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),nAe=ol("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),rAe=ol("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),iAe=ol("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),aAe=ol("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),oAe=ol("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),sAe=ol("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),lAe=ol("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),uAe=ol("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function lF(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const cAe="identity",pm="linear",mu="log",cx="pow",fx="sqrt",kA="symlog",Cd="time",Od="utc",zs="sequential",kg="diverging",mm="quantile",CA="quantize",OA="threshold",uF="ordinal",qN="point",Ete="band",cF="bin-ordinal",Qn="continuous",dx="discrete",hx="discretizing",go="interpolating",fF="temporal";function fAe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function dAe(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,o,s,l,u;for(i<r&&(s=r,r=i,i=s),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(a<0&&(a=l),o=l);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function dF(){const e=ox().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,o=!1,s=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],p=r[1-d],m=lF(f,s,l);let g=r[d-0];i=(p-g)/(m||1),o&&(i=Math.floor(i)),g+=(p-g-i*(f-s))*u,a=i*(1-s),o&&(g=Math.round(g),a=Math.round(a));const x=Ui(f).map(v=>g+i*v);return n(d?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,c()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,c()):o},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),s=l,c()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),c()):s},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],p=d?n().reverse():n(),m=p.length-1;let g=+f[0],x=+f[1],v,b,_;if(!(g!==g||x!==x)&&(x<g&&(_=g,g=x,x=_),!(x<p[0]||g>r[1-d])))return v=Math.max(0,hu(p,g)-1),b=g===x?v:hu(p,x)-1,g-p[v]>a+1e-10&&++v,d&&(_=v,v=m-b,b=m-_),v>b?void 0:t().slice(v,b+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return dF().domain(t()).range(r).round(o).paddingInner(s).paddingOuter(l).align(u)},c()}function Ate(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Ate(t())},e}function hAe(){return Ate(dF().paddingInner(1))}var pAe=Array.prototype.map;function mAe(e){return pAe.call(e,qr)}const gAe=Array.prototype.slice;function kte(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(hu(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=mAe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=gAe.call(r),n):t.slice()},n.tickFormat=function(r,i){return GL(e[0],pt(e),r??10,i)},n.copy=function(){return kte().domain(n.domain()).range(n.range())},n}const x2=new Map,Cte=Symbol("vega_scale");function Ote(e){return e[Cte]=!0,e}function Y9(e){return e&&e[Cte]===!0}function yAe(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?fAe(a):a.invertExtent?dAe(a):void 0),a.type=e,Ote(a)};return r.metadata=Yo(Ae(n)),r}function At(e,t,n){return arguments.length>1?(x2.set(e,yAe(e,t,n)),this):Pte(e)?x2.get(e):void 0}At(cAe,VL);At(pm,Bv,Qn);At(mu,YL,[Qn,mu]);At(cx,bA,Qn);At(fx,yte,Qn);At(kA,ZL,Qn);At(Cd,xte,[Qn,fF]);At(Od,bte,[Qn,fF]);At(zs,wA,[Qn,go]);At(`${zs}-${pm}`,wA,[Qn,go]);At(`${zs}-${mu}`,rF,[Qn,go,mu]);At(`${zs}-${cx}`,SA,[Qn,go]);At(`${zs}-${fx}`,_te,[Qn,go]);At(`${zs}-${kA}`,iF,[Qn,go]);At(`${kg}-${pm}`,aF,[Qn,go]);At(`${kg}-${mu}`,oF,[Qn,go,mu]);At(`${kg}-${cx}`,AA,[Qn,go]);At(`${kg}-${fx}`,Ste,[Qn,go]);At(`${kg}-${kA}`,sF,[Qn,go]);At(mm,JL,[hx,mm]);At(CA,eF,hx);At(OA,tF,hx);At(cF,kte,[dx,hx]);At(uF,ox,dx);At(Ete,dF,dx);At(qN,hAe,dx);function Pte(e){return x2.has(e)}function uh(e,t){const n=x2.get(e);return n&&n.metadata[t]}function hF(e){return uh(e,Qn)}function gm(e){return uh(e,dx)}function GN(e){return uh(e,hx)}function $te(e){return uh(e,mu)}function vAe(e){return uh(e,fF)}function Tte(e){return uh(e,go)}function Nte(e){return uh(e,mm)}const xAe=["clamp","base","constant","exponent"];function Mte(e,t){const n=t[0],r=pt(t)-n;return function(i){return e(n+i*r)}}function PA(e,t,n){return HL(pF(t||"rgb",n),e)}function Dte(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function jte(e,t,n){const r=n-t;let i,a,o;return!r||!Number.isFinite(r)?ti(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),o=At(a)().domain([t,n]).range([0,1]),xAe.forEach(s=>e[s]?o[s](e[s]()):0),o)}function pF(e,t){const n=REe[bAe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function bAe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const _Ae={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},wAe={accent:tAe,category10:eAe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:nAe,observable10:rAe,paired:iAe,pastel1:aAe,pastel2:oAe,set1:sAe,set2:lAe,set3:uAe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Ite(e){if(ae(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Lte(e,t){for(const n in e)mF(n,t(e[n]))}const K9={};Lte(wAe,Ite);Lte(_Ae,e=>PA(Ite(e)));function mF(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(K9[e]=t,this):K9[e]}const J_="symbol",SAe="discrete",EAe="gradient",AAe=e=>ae(e)?e.map(t=>String(t)):String(e),kAe=(e,t)=>e[1]-t[1],CAe=(e,t)=>t[1]-e[1];function gF(e,t,n){let r;return St(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(ex(e.domain())/n||1)+1))),Se(t)&&(r=t.step,t=t.interval),Ee(t)&&(t=e.type===Cd?wg(t):e.type==Od?Sg(t):ee("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Fte(e,t,n){let r=e.range(),i=r[0],a=pt(r),o=kAe;if(i>a&&(r=a,a=i,i=r,o=CAe),i=Math.floor(i),a=Math.ceil(a),t=t.map(s=>[s,e(s)]).filter(s=>i<=s[1]&&s[1]<=a).sort(o).map(s=>s[0]),n>0&&t.length>1){const s=[t[0],pt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=s)}return t}function yF(e,t){return e.bins?Fte(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Rte(e,t,n,r,i,a){const o=t.type;let s=AAe;if(o===Cd||i===Cd)s=e.timeFormat(r);else if(o===Od||i===Od)s=e.utcFormat(r);else if($te(o)){const l=e.formatFloat(r);if(a||t.bins)s=l;else{const u=zte(t,n,!1);s=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();s=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(s=e.format(r));return s}function zte(e,t,n){const r=yF(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),s=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/a));return u*i<i-.5&&(u*=i),u<=o};return n?r.filter(s):s}const VN={[mm]:"quantiles",[CA]:"thresholds",[OA]:"domain"},Bte={[mm]:"quantiles",[CA]:"domain"};function Ute(e,t){return e.bins?$Ae(e.bins):e.type===mu?zte(e,t,!0):VN[e.type]?PAe(e[VN[e.type]]()):yF(e,t)}function OAe(e,t,n){const r=t[Bte[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return e.formatSpan(0,a,3*10,n)}function PAe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function $Ae(e){const t=e.slice(0,-1);return t.max=pt(e),t}const TAe=e=>VN[e.type]||e.bins;function Wte(e,t,n,r,i,a,o){const s=Bte[t.type]&&a!==Cd&&a!==Od?OAe(e,t,i):Rte(e,t,n,i,a,o);return r===J_&&TAe(t)?NAe(s):r===SAe?MAe(s):DAe(s)}const NAe=e=>(t,n,r)=>{const i=Z9(r[n+1],Z9(r.max,1/0)),a=Q9(t,e),o=Q9(i,e);return a&&o?a+"  "+o:o?"< "+o:" "+a},Z9=(e,t)=>e??t,MAe=e=>(t,n)=>n?e(t):null,DAe=e=>t=>e(t),Q9=(e,t)=>Number.isFinite(e)?t(e):null;function jAe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+pt(t),a=i-r;if(e.type===OA){const o=n?a/n:.1;r-=o,i+=o,a=i-r}return o=>(o-r)/a}function IAe(e,t,n,r){const i=r||t.type;return Ee(n)&&vAe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Cd?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Od?e.utcFormat("%A, %d %B %Y, %X UTC"):Wte(e,t,5,null,n,r,!0)}function Hte(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=IAe(e,t,n.format,n.formatType);if(GN(t.type)){const a=Ute(t).slice(1).map(i),o=a.length;return`${o} boundar${o===1?"y":"ies"}: ${a.join(", ")}`}else if(gm(t.type)){const a=t.domain(),o=a.length,s=o>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${s}`}else{const a=t.domain();return`values from ${i(a[0])} to ${i(pt(a))}`}}let qte=0;function LAe(){qte=0}const b2="p_";function vF(e){return e&&e.gradient}function Gte(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?b2:"";return i||(i=e.id="gradient_"+qte++,r==="radial"?(e.x1=vs(e.x1,.5),e.y1=vs(e.y1,.5),e.r1=vs(e.r1,0),e.x2=vs(e.x2,.5),e.y2=vs(e.y2,.5),e.r2=vs(e.r2,.5),a=b2):(e.x1=vs(e.x1,0),e.y1=vs(e.y1,0),e.x2=vs(e.x2,1),e.y2=vs(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function vs(e,t){return e??t}function Vte(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const J9={basis:{curve:See},"basis-closed":{curve:Aee},"basis-open":{curve:Cee},bundle:{curve:BSe,tension:"beta",value:.85},cardinal:{curve:USe,tension:"tension",value:0},"cardinal-open":{curve:HSe,tension:"tension",value:0},"cardinal-closed":{curve:WSe,tension:"tension",value:0},"catmull-rom":{curve:qSe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:GSe,tension:"alpha",value:.5},"catmull-rom-open":{curve:VSe,tension:"alpha",value:.5},linear:{curve:ax},"linear-closed":{curve:Mee},monotone:{horizontal:Lee,vertical:Iee},natural:{curve:Ree},step:{curve:zee},"step-after":{curve:Uee},"step-before":{curve:Bee}};function xF(e,t,n){var r=ke(J9,e)&&J9[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const FAe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},RAe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,zAe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,BAe=/^((\s+,?\s*)|(,\s*))/,UAe=/^[01]/;function ym(e){const t=[];return(e.match(RAe)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),o=FAe[a],s=WAe(a,o,r.slice(1).trim()),l=s.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...s.slice(0,o)]),l!==o){a==="m"&&(i=i==="M"?"L":"l");for(let u=o;u<l;u+=o)t.push([i,...s.slice(u,u+o)])}}),t}function WAe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const o=e==="a"&&(a===3||a===4)?UAe:zAe,s=n.slice(i).match(o);if(s===null)throw Error("Invalid SVG path, incorrect parameter type");i+=s[0].length,r.push(+s[0]);const l=n.slice(i).match(BAe);l!==null&&(i+=l[0].length)}return r}const Fc=Math.PI/180,HAe=1e-14,qf=Math.PI/2,Os=Math.PI*2,Bh=Math.sqrt(3)/2;var SP={},EP={},Xte=[].join;function qAe(e,t,n,r,i,a,o,s,l){const u=Xte.call(arguments);if(SP[u])return SP[u];const c=o*Fc,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const p=d*(s-e)*.5+f*(l-t)*.5,m=d*(l-t)*.5-f*(s-e)*.5;let g=p*p/(n*n)+m*m/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const x=d/n,v=f/n,b=-f/r,_=d/r,k=x*s+v*l,E=b*s+_*l,A=x*e+v*t,C=b*e+_*t;let T=1/((A-k)*(A-k)+(C-E)*(C-E))-.25;T<0&&(T=0);let D=Math.sqrt(T);a==i&&(D=-D);const j=.5*(k+A)-D*(C-E),I=.5*(E+C)+D*(A-k),W=Math.atan2(E-I,k-j);let M=Math.atan2(C-I,A-j)-W;M<0&&a===1?M+=Os:M>0&&a===0&&(M-=Os);const z=Math.ceil(Math.abs(M/(qf+.001))),H=[];for(let B=0;B<z;++B){const G=W+B*M/z,N=W+(B+1)*M/z;H[B]=[j,I,G,N,n,r,f,d]}return SP[u]=H}function GAe(e){const t=Xte.call(e);if(EP[t])return EP[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7];const c=u*o,f=-l*s,d=l*o,p=u*s,m=Math.cos(i),g=Math.sin(i),x=Math.cos(a),v=Math.sin(a),b=.5*(a-i),_=Math.sin(b*.5),k=8/3*_*_/Math.sin(b),E=n+m-k*g,A=r+g+k*m,C=n+x,P=r+v,T=C+k*v,D=P-k*x;return EP[t]=[c*E+f*A,d*E+p*A,c*T+f*D,d*T+p*D,c*C+f*P,d*C+p*P]}const za=["l",0,0,0,0,0,0,0];function VAe(e,t,n){const r=za[0]=e[0];if(r==="a"||r==="A")za[1]=t*e[1],za[2]=n*e[2],za[3]=e[3],za[4]=e[4],za[5]=e[5],za[6]=t*e[6],za[7]=n*e[7];else if(r==="h"||r==="H")za[1]=t*e[1];else if(r==="v"||r==="V")za[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)za[i]=(i%2==1?t:n)*e[i];return za}function Uv(e,t,n,r,i,a){var o,s=null,l=0,u=0,c=0,f=0,d,p,m,g,x=0,v=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var b=0,_=t.length;b<_;++b){switch(o=t[b],(i!==1||a!==1)&&(o=VAe(o,i,a)),o[0]){case"l":l+=o[1],u+=o[2],e.lineTo(l+n,u+r);break;case"L":l=o[1],u=o[2],e.lineTo(l+n,u+r);break;case"h":l+=o[1],e.lineTo(l+n,u+r);break;case"H":l=o[1],e.lineTo(l+n,u+r);break;case"v":u+=o[1],e.lineTo(l+n,u+r);break;case"V":u=o[1],e.lineTo(l+n,u+r);break;case"m":l+=o[1],u+=o[2],x=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=o[1],u=o[2],x=l,v=u,e.moveTo(l+n,u+r);break;case"c":d=l+o[5],p=u+o[6],c=l+o[3],f=u+o[4],e.bezierCurveTo(l+o[1]+n,u+o[2]+r,c+n,f+r,d+n,p+r),l=d,u=p;break;case"C":l=o[5],u=o[6],c=o[3],f=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+o[3],p=u+o[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+o[1]+n,u+o[2]+r,d+n,p+r),c=l+o[1],f=u+o[2],l=d,u=p;break;case"S":d=o[3],p=o[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,o[1]+n,o[2]+r,d+n,p+r),l=d,u=p,c=o[1],f=o[2];break;case"q":d=l+o[3],p=u+o[4],c=l+o[1],f=u+o[2],e.quadraticCurveTo(c+n,f+r,d+n,p+r),l=d,u=p;break;case"Q":d=o[3],p=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,d+n,p+r),l=d,u=p,c=o[1],f=o[2];break;case"t":d=l+o[1],p=u+o[2],s[0].match(/[QqTt]/)===null?(c=l,f=u):s[0]==="t"?(c=2*l-m,f=2*u-g):s[0]==="q"&&(c=2*l-c,f=2*u-f),m=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,p+r),l=d,u=p,c=l+o[1],f=u+o[2];break;case"T":d=o[1],p=o[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,p+r),l=d,u=p;break;case"a":e7(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+u+r]),l+=o[6],u+=o[7];break;case"A":e7(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],u=o[7];break;case"z":case"Z":l=x,u=v,e.closePath();break}s=o}}function e7(e,t,n,r){const i=qAe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const o=GAe(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const t7=.5773502691896257,n7={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Os)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Bh*n,i=r-n*t7,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Bh*n,i=r-n*t7;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Bh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Bh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Bh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Bh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Yte(e){return ke(n7,e)?n7[e]:XAe(e)}var AP={};function XAe(e){if(!ke(AP,e)){const t=ym(e);AP[e]={draw:function(n,r){Uv(n,t,0,0,Math.sqrt(r)/2)}}}return AP[e]}const Bu=.448084975506;function YAe(e){return e.x}function KAe(e){return e.y}function ZAe(e){return e.width}function QAe(e){return e.height}function kl(e){return typeof e=="function"?e:()=>+e}function Xb(e,t,n){return Math.max(t,Math.min(e,n))}function Kte(){var e=YAe,t=KAe,n=ZAe,r=QAe,i=kl(0),a=i,o=i,s=i,l=null;function u(c,f,d){var p,m=f??+e.call(this,c),g=d??+t.call(this,c),x=+n.call(this,c),v=+r.call(this,c),b=Math.min(x,v)/2,_=Xb(+i.call(this,c),0,b),k=Xb(+a.call(this,c),0,b),E=Xb(+o.call(this,c),0,b),A=Xb(+s.call(this,c),0,b);if(l||(l=p=dA()),_<=0&&k<=0&&E<=0&&A<=0)l.rect(m,g,x,v);else{var C=m+x,P=g+v;l.moveTo(m+_,g),l.lineTo(C-k,g),l.bezierCurveTo(C-Bu*k,g,C,g+Bu*k,C,g+k),l.lineTo(C,P-A),l.bezierCurveTo(C,P-Bu*A,C-Bu*A,P,C-A,P),l.lineTo(m+E,P),l.bezierCurveTo(m+Bu*E,P,m,P-Bu*E,m,P-E),l.lineTo(m,g+_),l.bezierCurveTo(m,g+Bu*_,m+Bu*_,g,m+_,g),l.closePath()}if(p)return l=null,p+""||null}return u.x=function(c){return arguments.length?(e=kl(c),u):e},u.y=function(c){return arguments.length?(t=kl(c),u):t},u.width=function(c){return arguments.length?(n=kl(c),u):n},u.height=function(c){return arguments.length?(r=kl(c),u):r},u.cornerRadius=function(c,f,d,p){return arguments.length?(i=kl(c),a=f!=null?kl(f):i,s=d!=null?kl(d):i,o=p!=null?kl(p):a,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Zte(){var e,t,n,r,i=null,a,o,s,l;function u(f,d,p){const m=p/2;if(a){var g=s-d,x=f-o;if(g||x){var v=Math.hypot(g,x),b=(g/=v)*l,_=(x/=v)*l,k=Math.atan2(x,g);i.moveTo(o-b,s-_),i.lineTo(f-g*m,d-x*m),i.arc(f,d,m,k-Math.PI,k),i.lineTo(o+b,s+_),i.arc(o,s,l,k,k+Math.PI)}else i.arc(f,d,m,0,Os);i.closePath()}else a=1;o=f,s=d,l=m}function c(f){var d,p=f.length,m,g=!1,x;for(i==null&&(i=x=dA()),d=0;d<=p;++d)!(d<p&&r(m=f[d],d,f))===g&&(g=!g)&&(a=0),g&&u(+e(m,d,f),+t(m,d,f),+n(m,d,f));if(x)return i=null,x+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function px(e,t){return e??t}const mx=e=>e.x||0,gx=e=>e.y||0,JAe=e=>e.width||0,eke=e=>e.height||0,tke=e=>(e.x||0)+(e.width||0),nke=e=>(e.y||0)+(e.height||0),rke=e=>e.startAngle||0,ike=e=>e.endAngle||0,ake=e=>e.padAngle||0,oke=e=>e.innerRadius||0,ske=e=>e.outerRadius||0,lke=e=>e.cornerRadius||0,uke=e=>px(e.cornerRadiusTopLeft,e.cornerRadius)||0,cke=e=>px(e.cornerRadiusTopRight,e.cornerRadius)||0,fke=e=>px(e.cornerRadiusBottomRight,e.cornerRadius)||0,dke=e=>px(e.cornerRadiusBottomLeft,e.cornerRadius)||0,hke=e=>px(e.size,64),pke=e=>e.size||1,$A=e=>e.defined!==!1,mke=e=>Yte(e.shape||"circle"),gke=CSe().startAngle(rke).endAngle(ike).padAngle(ake).innerRadius(oke).outerRadius(ske).cornerRadius(lke),yke=yp().x(mx).y1(gx).y0(nke).defined($A),vke=yp().y(gx).x1(mx).x0(tke).defined($A),xke=DL().x(mx).y(gx).defined($A),bke=Kte().x(mx).y(gx).width(JAe).height(eke).cornerRadius(uke,cke,fke,dke),_ke=wee().type(mke).size(hke),wke=Zte().x(mx).y(gx).defined($A).size(pke);function bF(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Ske(e,t){return gke.context(e)(t)}function Eke(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?vke:yke).curve(xF(r,n.orient,n.tension)).context(e)(t)}function Ake(e,t){const n=t[0],r=n.interpolate||"linear";return xke.curve(xF(r,n.orient,n.tension)).context(e)(t)}function Cg(e,t,n,r){return bke.context(e)(t,n,r)}function kke(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Cke(e,t){return _ke.context(e)(t)}function Oke(e,t){return wke.context(e)(t)}var Qte=1;function Jte(){Qte=1}function _F(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+Qte++),o=i.clipping[a]||(i.clipping[a]={id:a});return et(r)?o.path=r(null):bF(n)?o.path=Cg(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"}function zn(e){this.clear(),e&&this.union(e)}zn.prototype={clone(){return new zn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:o}=this,s=Math.cos(e),l=Math.sin(e),u=t-t*s+n*l,c=n-t*l-n*s;return[s*r-l*i+u,l*r+s*i+c,s*r-l*o+u,l*r+s*o+c,s*a-l*i+u,l*a+s*i+c,s*a-l*o+u,l*a+s*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function TA(e){this.mark=e,this.bounds=this.bounds||new zn}function NA(e){TA.call(this,e),this.items=this.items||[]}xe(NA,TA);class ene{constructor(t){this._pending=0,this._loader=t||eA()}pending(){return this._pending}sanitizeURL(t){const n=this;return r7(n),n._loader.sanitize(t,{context:"href"}).then(r=>(jy(n),r)).catch(()=>(jy(n),null))}loadImage(t){const n=this,r=eEe();return r7(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const a=i.href;if(!a||!r)throw{url:a};const o=new r,s=ke(i,"crossOrigin")?i.crossOrigin:"anonymous";return s!=null&&(o.crossOrigin=s),o.onload=()=>jy(n),o.onerror=()=>jy(n),o.src=a,o}).catch(i=>(jy(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function r7(e){e._pending+=1}function jy(e){e._pending-=1}function Su(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Pke(t,r):0))}return e}function Pke(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const $ke=Os-1e-8;let MA,ew,tw,ed,XN,nw,YN,KN;const oc=(e,t)=>MA.add(e,t),rw=(e,t)=>oc(ew=e,tw=t),i7=e=>oc(e,MA.y1),a7=e=>oc(MA.x1,e),Gf=(e,t)=>XN*e+YN*t,Vf=(e,t)=>nw*e+KN*t,kP=(e,t)=>oc(Gf(e,t),Vf(e,t)),CP=(e,t)=>rw(Gf(e,t),Vf(e,t));function yx(e,t){return MA=e,t?(ed=t*Fc,XN=KN=Math.cos(ed),nw=Math.sin(ed),YN=-nw):(XN=KN=1,ed=nw=YN=0),Tke}const Tke={beginPath(){},closePath(){},moveTo:CP,lineTo:CP,rect(e,t,n,r){ed?(kP(e+n,t),kP(e+n,t+r),kP(e,t+r),CP(e,t)):(oc(e+n,t+r),rw(e,t))},quadraticCurveTo(e,t,n,r){const i=Gf(e,t),a=Vf(e,t),o=Gf(n,r),s=Vf(n,r);o7(ew,i,o,i7),o7(tw,a,s,a7),rw(o,s)},bezierCurveTo(e,t,n,r,i,a){const o=Gf(e,t),s=Vf(e,t),l=Gf(n,r),u=Vf(n,r),c=Gf(i,a),f=Vf(i,a);s7(ew,o,l,c,i7),s7(tw,s,u,f,a7),rw(c,f)},arc(e,t,n,r,i,a){if(r+=ed,i+=ed,ew=n*Math.cos(i)+e,tw=n*Math.sin(i)+t,Math.abs(i-r)>$ke)oc(e-n,t-n),oc(e+n,t+n);else{const o=u=>oc(n*Math.cos(u)+e,n*Math.sin(u)+t);let s,l;if(o(r),o(i),i!==r)if(r=r%Os,r<0&&(r+=Os),i=i%Os,i<0&&(i+=Os),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=Os,s=r-r%qf,l=0;l<4&&s>i;++l,s-=qf)o(s);else for(s=r-r%qf+qf,l=0;l<4&&s<i;++l,s=s+qf)o(s)}}};function o7(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function s7(e,t,n,r,i){const a=r-e+3*t-3*n,o=e+n-2*t,s=e-t;let l=0,u=0,c;Math.abs(a)>HAe?(c=o*o+s*a,c>=0&&(c=Math.sqrt(c),l=(-o+c)/a,u=(-o-c)/a)):l=.5*s/o,0<l&&l<1&&i(l7(l,e,t,n,r)),0<u&&u<1&&i(l7(u,e,t,n,r))}function l7(e,t,n,r,i){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*r+s*e*i}var Pc=(Pc=Oc(1,1))?Pc.getContext("2d"):null;const ZN=new zn;function wF(e){return function(t,n){if(!Pc)return!0;e(Pc,t),ZN.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:o}=ZN;for(let s=i;s<=o;++s)for(let l=r;l<=a;++l)if(Pc.isPointInPath(l,s))return!0;return!1}}function SF(e,t){return t.contains(e.x||0,e.y||0)}function tne(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(ZN.set(n,r,n+i,r+a))}function nne(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return vp(t,n,r,i,a)}function vp(e,t,n,r,i){const{x1:a,y1:o,x2:s,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,p,m,g,x;for(x=0;x<4;++x){if(x===0&&(p=-u,m=-(a-t)),x===1&&(p=u,m=s-t),x===2&&(p=-c,m=-(o-n)),x===3&&(p=c,m=l-n),Math.abs(p)<1e-10&&m<0)return!1;if(g=m/p,p<0){if(g>d)return!1;g>f&&(f=g)}else if(p>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function vm(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Co(e,t){return e??t}function u7(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Nke(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+Co(t.x1,.5)*r,n.y1+Co(t.y1,.5)*i,Math.max(r,i)*Co(t.r1,0),n.x1+Co(t.x2,.5)*r,n.y1+Co(t.y2,.5)*i,Math.max(r,i)*Co(t.r2,.5));else{const o=Co(t.x1,0),s=Co(t.y1,0),l=Co(t.x2,1),u=Co(t.y2,0);if(o===l||s===u||r===i)a=e.createLinearGradient(n.x1+o*r,n.y1+s*i,n.x1+l*r,n.y1+u*i);else{const c=Oc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=u7(f.createLinearGradient(o,s,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return u7(a,t.stops)}function rne(e,t,n){return vF(n)?Nke(e,n,t.bounds):n}function _2(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=rne(e,t,t.fill),!0):!1}var Mke=[];function xm(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=rne(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Mke),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function Dke(e,t){return e.zindex-t.zindex||e.index-t.index}function EF(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(Dke)}function Zo(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=EF(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function w2(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=EF(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function AF(e){return function(t,n,r){Zo(n,i=>{(!r||r.intersects(i.bounds))&&ine(e,t,i,i)})}}function jke(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&ine(e,t,n.items[0],n.items)}}function ine(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(vm(t,n),n.fill&&_2(t,n,i)&&t.fill(),n.stroke&&xm(t,n,i)&&t.stroke()))}function DA(e){return e=e||so,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,w2(n,s=>{const l=s.bounds;if(!(l&&!l.contains(a,o)||!l)&&e(t,s,r,i,a,o))return s})}}function vx(e,t){return function(n,r,i,a){var o=Array.isArray(r)?r[0]:r,s=t??o.fill,l=o.stroke&&n.isPointInStroke,u,c;return l&&(u=o.strokeWidth,c=o.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:s&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a)}}function kF(e){return DA(vx(e))}function cd(e,t){return"translate("+e+","+t+")"}function CF(e){return"rotate("+e+")"}function Ike(e,t){return"scale("+e+","+t+")"}function ane(e){return cd(e.x||0,e.y||0)}function Lke(e){return cd(e.x||0,e.y||0)+(e.angle?" "+CF(e.angle):"")}function Fke(e){return cd(e.x||0,e.y||0)+(e.angle?" "+CF(e.angle):"")+(e.scaleX||e.scaleY?" "+Ike(e.scaleX||1,e.scaleY||1):"")}function OF(e,t,n){function r(o,s){o("transform",Lke(s)),o("d",t(null,s))}function i(o,s){return t(yx(o,s.angle),s),Su(o,s).translate(s.x||0,s.y||0)}function a(o,s){var l=s.x||0,u=s.y||0,c=s.angle||0;o.translate(l,u),c&&o.rotate(c*=Fc),o.beginPath(),t(o,s),c&&o.rotate(-c),o.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:AF(a),pick:kF(a),isect:n||wF(a)}}var Rke=OF("arc",Ske);function zke(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,o,s;--i>=0;)e[i].defined!==!1&&(s=Math.abs(e[i][r]-n),s<a&&(a=s,o=e[i]));return o}function Bke(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],o=i*i+a*a,o<n))return e[r];return null}function Uke(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function PF(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(yx(l),c),Su(l,c[0]))}function a(l,u){l.beginPath(),t(l,u)}const o=vx(a);function s(l,u,c,f,d,p){var m=u.items,g=u.bounds;return!m||!m.length||g&&!g.contains(d,p)?null:(c*=l.pixelRatio,f*=l.pixelRatio,o(l,m,c,f)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:jke(a),pick:s,isect:SF,tip:n}}var Wke=PF("area",Eke,zke);function Hke(e,t){var n=t.clip;e.save(),et(n)?(e.beginPath(),n(e),e.clip()):one(e,t.group)}function one(e,t){e.beginPath(),bF(t)?Cg(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function sne(e){const t=Co(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function qke(e,t){e("transform",ane(t))}function lne(e,t){const n=sne(t);e("d",Cg(null,t,n,n))}function Gke(e,t){e("class","background"),e("aria-hidden",!0),lne(e,t)}function Vke(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?lne(e,t):e("d","")}function Xke(e,t,n){const r=t.clip?_F(n,t,t):null;e("clip-path",r)}function Yke(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Su(e,t),e.translate(t.x||0,t.y||0)}function Wv(e,t,n,r){const i=sne(t);e.beginPath(),Cg(e,t,(n||0)+i,(r||0)+i)}const Kke=vx(Wv),Zke=vx(Wv,!1),Qke=vx(Wv,!0);function Jke(e,t,n,r){Zo(t,i=>{const a=i.x||0,o=i.y||0,s=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Wv(e,i,a,o),vm(e,i),i.fill&&_2(e,i,l)&&e.fill(),i.stroke&&!s&&xm(e,i,l)&&e.stroke()),e.save(),e.translate(a,o),i.clip&&one(e,i),n&&n.translate(-a,-o),Zo(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(a,o),e.restore(),s&&i.stroke&&l&&(Wv(e,i,a,o),vm(e,i),xm(e,i,l)&&e.stroke())})}function eCe(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const o=n*e.pixelRatio,s=r*e.pixelRatio;return w2(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,a))return;c=l.x||0,f=l.y||0;const p=c+(l.width||0),m=f+(l.height||0),g=l.clip;if(g&&(i<c||i>p||a<f||a>m))return;if(e.save(),e.translate(c,f),c=i-c,f=a-f,g&&bF(l)&&!Qke(e,l,o,s))return e.restore(),null;const x=l.strokeForeground,v=t.interactive!==!1;return v&&x&&l.stroke&&Zke(e,l,o,s)?(e.restore(),l):(u=w2(l,b=>tCe(b,c,f)?this.pick(b,n,r,c,f):null),!u&&v&&(l.fill||!x&&l.stroke)&&Kke(e,l,o,s)&&(u=l),e.restore(),u||null)})}function tCe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var nCe={type:"group",tag:"g",nested:!1,attr:qke,bound:Yke,draw:Jke,pick:eCe,isect:tne,content:Xke,background:Gke,foreground:Vke},Hv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function $F(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function TF(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function NF(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function jA(e,t){return e==="center"?t/2:e==="right"?t:0}function IA(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function rCe(e,t,n){const r=$F(t,n),i=TF(t,r),a=NF(t,r),o=(t.x||0)-jA(t.align,i),s=(t.y||0)-IA(t.baseline,a),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,Hv["xmlns:xlink"],"xlink:href"),e("transform",cd(o,s)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function iCe(e,t){const n=t.image,r=TF(t,n),i=NF(t,n),a=(t.x||0)-jA(t.align,r),o=(t.y||0)-IA(t.baseline,i);return e.set(a,o,a+r,o+i)}function aCe(e,t,n){Zo(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=$F(r,this);let a=TF(r,i),o=NF(r,i);if(a===0||o===0)return;let s=(r.x||0)-jA(r.align,a),l=(r.y||0)-IA(r.baseline,o),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=a/c,l+=(o-d)/2,o=d):(d=o*c,s+=(a-d)/2,a=d))),(i.complete||i.toDataURL)&&(vm(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,s,l,a,o))})}var oCe={type:"image",tag:"image",nested:!1,attr:rCe,bound:iCe,draw:aCe,pick:DA(),isect:so,get:$F,xOffset:jA,yOffset:IA},sCe=PF("line",Ake,Bke);function lCe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",Fke(t)),e("d",t.path)}function iw(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*Fc,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=ym(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),Uv(e,l,0,0,a,o),e.rotate(-s),e.translate(-r,-i)):Uv(e,l,r,i,a,o)}function uCe(e,t){return iw(yx(e,t.angle),t)?e.set(0,0,0,0):Su(e,t,!0)}var cCe={type:"path",tag:"path",nested:!1,attr:lCe,bound:uCe,draw:AF(iw),pick:kF(iw),isect:wF(iw)};function fCe(e,t){e("d",Cg(null,t))}function dCe(e,t){var n,r;return Su(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function c7(e,t){e.beginPath(),Cg(e,t)}var hCe={type:"rect",tag:"path",nested:!1,attr:fCe,bound:dCe,draw:AF(c7),pick:kF(c7),isect:tne};function pCe(e,t){e("transform",ane(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function mCe(e,t){var n,r;return Su(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function une(e,t,n){var r,i,a,o;return t.stroke&&xm(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0):!1}function gCe(e,t,n){Zo(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&une(e,r,i)&&(vm(e,r),e.stroke())}})}function yCe(e,t,n,r){return e.isPointInStroke?une(e,t,1)&&e.isPointInStroke(n,r):!1}var vCe={type:"rule",tag:"line",nested:!1,attr:pCe,bound:mCe,draw:gCe,pick:DA(yCe),isect:nne},xCe=OF("shape",kke),bCe=OF("symbol",Cke,SF);const f7=hQ();var _a={height:sl,measureWidth:MF,estimateWidth:S2,width:S2,canvas:cne};cne(!0);function cne(e){_a.width=e&&Pc?MF:S2}function S2(e,t){return fne(zc(e,t),sl(e))}function fne(e,t){return~~(.8*e.length*t)}function MF(e,t){return sl(e)<=0||!(t=zc(e,t))?0:dne(t,LA(e))}function dne(e,t){const n=`(${t}) ${e}`;let r=f7.get(n);return r===void 0&&(Pc.font=t,r=Pc.measureText(e).width,f7.set(n,r)),r}function sl(e){return e.fontSize!=null?+e.fontSize||0:11}function Rc(e){return e.lineHeight!=null?e.lineHeight:sl(e)+2}function _Ce(e){return ae(e)?e.length>1?e:e[0]:e}function xx(e){return _Ce(e.lineBreak&&e.text&&!ae(e.text)?e.text.split(e.lineBreak):e.text)}function DF(e){const t=xx(e);return(ae(t)?t.length-1:0)*Rc(e)}function zc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?SCe(e,n):n}function wCe(e){if(_a.width===MF){const t=LA(e);return n=>dne(n,t)}else if(_a.width===S2){const t=sl(e);return n=>fne(n,t)}else return t=>_a.width(e,t)}function SCe(e,t){var n=+e.limit,r=wCe(e);if(r(t)<n)return t;var i=e.ellipsis||"",a=e.dir==="rtl",o=0,s=t.length,l;if(n-=r(i),a){for(;o<s;)l=o+s>>>1,r(t.slice(l))>n?o=l+1:s=l;return i+t.slice(o)}else{for(;o<s;)l=1+(o+s>>>1),r(t.slice(0,l))<n?o=l:s=l-1;return t.slice(0,o)+i}}function bx(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function LA(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+sl(e)+"px "+bx(e,t)}function jF(e){var t=e.baseline,n=sl(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Rc(e):t==="line-bottom"?.29*n-.5*Rc(e):0)}const ECe={left:"start",center:"middle",right:"end"},G0=new zn;function FA(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-qf,t+=r*Math.cos(i),n+=r*Math.sin(i)),G0.x1=t,G0.y1=n,G0}function ACe(e,t){var n=t.dx||0,r=(t.dy||0)+jF(t),i=FA(t),a=i.x1,o=i.y1,s=t.angle||0,l;e("text-anchor",ECe[t.align]||"start"),s?(l=cd(a,o)+" "+CF(s),(n||r)&&(l+=" "+cd(n,r))):l=cd(a+n,o+r),e("transform",l)}function IF(e,t,n){var r=_a.height(t),i=t.align,a=FA(t),o=a.x1,s=a.y1,l=t.dx||0,u=(t.dy||0)+jF(t)-Math.round(.8*r),c=xx(t),f;if(ae(c)?(r+=Rc(t)*(c.length-1),f=c.reduce((d,p)=>Math.max(d,_a.width(t,p)),0)):f=_a.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=o,u+=s,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Fc,o,s);else if(n===2)return e.rotatedPoints(t.angle*Fc,o,s);return e}function kCe(e,t,n){Zo(t,r=>{var i=r.opacity==null?1:r.opacity,a,o,s,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=LA(r),e.textAlign=r.align||"left",a=FA(r),o=a.x1,s=a.y1,r.angle&&(e.save(),e.translate(o,s),e.rotate(r.angle*Fc),o=s=0),o+=r.dx||0,s+=(r.dy||0)+jF(r),c=xx(r),vm(e,r),ae(c))for(u=Rc(r),l=0;l<c.length;++l)f=zc(r,c[l]),r.fill&&_2(e,r,i)&&e.fillText(f,o,s),r.stroke&&xm(e,r,i)&&e.strokeText(f,o,s),s+=u;else f=zc(r,c),r.fill&&_2(e,r,i)&&e.fillText(f,o,s),r.stroke&&xm(e,r,i)&&e.strokeText(f,o,s);r.angle&&e.restore()}})}function CCe(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=FA(t),s=o.x1,l=o.y1,u=IF(G0,t,1),c=-t.angle*Fc,f=Math.cos(c),d=Math.sin(c),p=f*i-d*a+(s-f*s+d*l),m=d*i+f*a+(l-d*s-f*l);return u.contains(p,m)}function OCe(e,t){const n=IF(G0,e,2);return vp(t,n[0],n[1],n[2],n[3])||vp(t,n[0],n[1],n[4],n[5])||vp(t,n[4],n[5],n[6],n[7])||vp(t,n[2],n[3],n[6],n[7])}var PCe={type:"text",tag:"text",nested:!1,attr:ACe,bound:IF,draw:kCe,pick:DA(CCe),isect:OCe},$Ce=PF("trail",Oke,Uke),Oa={arc:Rke,area:Wke,group:nCe,image:oCe,line:sCe,path:cCe,rect:hCe,rule:vCe,shape:xCe,symbol:bCe,text:PCe,trail:$Ce};function QN(e,t,n){var r=Oa[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new zn),e,n)}var d7={mark:null};function hne(e,t,n){var r=Oa[e.marktype],i=r.bound,a=e.items,o=a&&a.length,s,l,u,c;if(r.nested)return o?u=a[0]:(d7.mark=e,u=d7),c=QN(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new zn,o)for(s=0,l=a.length;s<l;++s)t.union(QN(a[s],i,n));return e.bounds=t}const TCe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function pne(e,t){return JSON.stringify(e,TCe,t)}function mne(e){const t=typeof e=="string"?JSON.parse(e):e;return gne(t)}function gne(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&gne(n[i]);return t&&hne(e),e}class yne{constructor(t){arguments.length?this.root=mne(t):(this.root=h7({marktype:"group",name:"root",role:"frame"}),this.root.items=[new NA(this.root)])}toJSON(t){return pne(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=h7(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function h7(e,t){const n={bounds:new zn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function sc(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function LF(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function qn(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=sc(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function Ga(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function vne(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function RA(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function NCe(e,t,n,r){var i=e&&e.mark,a,o;if(i&&(a=Oa[i.marktype]).tip){for(o=RA(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=a.tip(i.items,o)}return e}let FF=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||eA(),this._tooltip=n||MCe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const a=new MouseEvent(t.type,t),o=sc(null,"a");for(const s in i)o.setAttribute(s,i[s]);o.dispatchEvent(a)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=NCe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,a=t.bounds,o=a.width(),s=a.height();let l=a.x1+i[0]+r.left,u=a.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:o,height:s,left:l,top:u,right:l+o,bottom:u+s}}};function MCe(e,t,n,r){e.element().setAttribute("title",r||"")}class _x{constructor(t){this._el=null,this._bgcolor=null,this._loader=new ene(t)}initialize(t,n,r,i,a){return this._el=t,this.resize(n,r,i,a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const a=r._call;r._ready=r._loader.ready().then(o=>{o&&a(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const DCe="keydown",jCe="keypress",ICe="keyup",xne="dragenter",aw="dragleave",bne="dragover",JN="pointerdown",LCe="pointerup",E2="pointermove",ow="pointerout",_ne="pointerover",eM="mousedown",FCe="mouseup",wne="mousemove",A2="mouseout",Sne="mouseover",k2="click",RCe="dblclick",zCe="wheel",Ene="mousewheel",C2="touchstart",O2="touchmove",P2="touchend",BCe=[DCe,jCe,ICe,xne,aw,bne,JN,LCe,E2,ow,_ne,eM,FCe,wne,A2,Sne,k2,RCe,zCe,Ene,C2,O2,P2],tM=E2,V0=A2,nM=k2;class wx extends FF{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=BCe,this.pointermove=m7([E2,wne],[_ne,Sne],[ow,A2]),this.dragover=m7([bne],[xne],[aw]),this.pointerout=g7([ow,A2]),this.dragleave=g7([aw])}initialize(t,n,r){return this._canvas=t&&LF(t,"canvas"),[k2,eM,JN,E2,ow,aw].forEach(i=>p7(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Ene,t)}pointerdown(t){this._down=this._active,this.fire(JN,t)}mousedown(t){this._down=this._active,this.fire(eM,t)}click(t){this._down===this._active&&(this.fire(k2,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(C2,t,!0)}touchmove(t){this.fire(O2,t,!0)}touchend(t){this.fire(P2,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,a=this._handlers[t];if(n.vegaType=t,t===nM&&i&&i.href?this.handleHref(n,i,i.href):(t===tM||t===V0)&&this.handleTooltip(n,i,t!==V0),a)for(let o=0,s=a.length;o<s;++o)a[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(p7(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&i.splice(a,1),this}pickEvent(t){const n=RA(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,a){const o=this.context();return Oa[t.marktype].pick.call(this,o,t,n,r,i,a)}}const UCe=e=>e===C2||e===O2||e===P2?[C2,O2,P2]:[e];function p7(e,t){UCe(t).forEach(n=>WCe(e,n))}function WCe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function m0(e,t,n){t.forEach(r=>e.fire(r,n))}function m7(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?m0(this,e,r):((!i||!i.exit)&&m0(this,n,r),this._active=a,m0(this,t,r),m0(this,e,r))}}function g7(e){return function(t){m0(this,e,t),this._active=null}}function HCe(){return typeof window<"u"&&window.devicePixelRatio||1}function qCe(e,t,n,r,i,a){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,s=e.getContext("2d"),l=o?HCe():i;e.width=t*l,e.height=n*l;for(const u in a)s[u]=a[u];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class $2 extends _x{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new zn,this._tempb=new zn}initialize(t,n,r,i,a,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Oc(1,1,this._options.type),t&&this._canvas&&(Ga(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,a)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)qCe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const a=this._options.externalContext;a||ee("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,a=this._width,o=this._height,s=this._dirty,l=GCe(i,a,o);r.save();const u=this._redraw||s.empty()?(this._redraw=!1,l.expand(1)):VCe(r,l.intersect(s),i);return this.clear(-i[0],-i[1],a,o),this.draw(r,t,u,n),r.restore(),s.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const a=Oa[n.marktype];n.clip&&Hke(t,n),a.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const a=this._options,o=this.context();a.type!=="pdf"&&!a.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const GCe=(e,t,n)=>new zn().set(0,0,t,n).translate(-e[0],-e[1]);function VCe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class Ane extends FF{constructor(t,n){super(t,n);const r=this;r._hrefHandler=OP(r,(i,a)=>{a&&a.href&&r.handleHref(i,a,a.href)}),r._tooltipHandler=OP(r,(i,a)=>{r.handleTooltip(i,a,i.type!==V0)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(nM,this._hrefHandler),i.removeEventListener(tM,this._tooltipHandler),i.removeEventListener(V0,this._tooltipHandler)),this._svg=i=t&&LF(t,"svg"),i&&(i.addEventListener(nM,this._hrefHandler),i.addEventListener(tM,this._tooltipHandler),i.addEventListener(V0,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:OP(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&(this._svg&&this._svg.removeEventListener(r,i[a].listener),i.splice(a,1)),this}}const OP=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},kne="aria-hidden",RF="aria-label",zF="role",BF="aria-roledescription",Cne="graphics-object",UF="graphics-symbol",One=(e,t,n)=>({[zF]:e,[BF]:t,[RF]:n||void 0}),XCe=Yo(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),y7={axis:{desc:"axis",caption:ZCe},legend:{desc:"legend",caption:QCe},"title-text":{desc:"title",caption:e=>`Title text '${x7(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${x7(e)}'`}},v7={ariaRole:zF,ariaRoleDescription:BF,description:RF};function Pne(e,t){const n=t.aria===!1;if(e(kne,n||void 0),n||t.description==null)for(const r in v7)e(v7[r],void 0);else{const r=t.mark.marktype;e(RF,t.description),e(zF,t.ariaRole||(r==="group"?Cne:UF)),e(BF,t.ariaRoleDescription||`${r} mark`)}}function $ne(e){return e.aria===!1?{[kne]:!0}:XCe[e.role]?null:y7[e.role]?KCe(e,y7[e.role]):YCe(e)}function YCe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return One(n?Cne:UF,`${t} mark container`,e.description)}function KCe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return One(t.role||UF,t.desc,n.description||r(n))}catch{return null}}function x7(e){return Ae(e.text).join(" ")}function ZCe(e){const t=e.datum,n=e.orient,r=t.title?Tne(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),s=a.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${gm(s)?"discrete":s} scale with ${Hte(o,a,e)}`}function QCe(e){const t=e.datum,n=t.title?Tne(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,a=Object.keys(i),o=e.context,s=o.scales[i[a[0]]].value,l=o.dataflow.locale();return eOe(r)+(n?` titled '${n}'`:"")+` for ${JCe(a)} with ${Hte(l,s,e)}`}function Tne(e){try{return Ae(pt(e.items).items[0].text).join(" ")}catch{return null}}function JCe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+pt(e)}function eOe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const Nne=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),tOe=e=>Nne(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function WF(){let e="",t="",n="";const r=[],i=()=>t=n="",a=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},o=(l,u)=>(u!=null&&(t+=` ${l}="${tOe(u)}"`),s),s={open(l){a(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const p in d)o(p,d[p]);return s},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),s},attr:o,text:l=>(n+=Nne(l),s),toString:()=>e};return s}const Mne=e=>Dne(WF(),e)+"";function Dne(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Dne(e,r)}return e.close()}const T2={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},N2={blend:"mix-blend-mode"},jne={fill:"none","stroke-miterlimit":10},Iy=0,b7="http://www.w3.org/2000/xmlns/",Hn=Hv.xmlns;class HF extends _x{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,a){return this._defs={},this._clearDefs(),t&&(this._svg=qn(t,0,"svg",Hn),this._svg.setAttributeNS(b7,"xmlns",Hn),this._svg.setAttributeNS(b7,"xmlns:xlink",Hv["xmlns:xlink"]),this._svg.setAttribute("version",Hv.version),this._svg.setAttribute("class","marks"),Ga(t,1),this._root=qn(this._svg,Iy,"g",Hn),lc(this._root,jne),Ga(this._svg,Iy+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,a)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(lc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=qn(t,Iy,"rect",Hn),lc(r,{width:this._width,height:this._height,fill:n}));const i=Mne(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Ga(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,a,o,s,l,u;for(s=0,l=t.length;s<l;++s)if(r=t[s],i=r.mark,i.marktype!==a&&(a=i.marktype,o=Oa[a]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,_7(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(o,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,_7(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const a=this._svg,o=n.marktype,s=Oa[o],l=n.interactive===!1?"none":null,u=s.tag==="g",c=w7(n,t,r,"g",a);if(o!=="group"&&i!=null&&!i.includes(o))return Ga(c,0),n._svg;c.setAttribute("class",vne(n));const f=$ne(n);for(const g in f)li(c,g,f[g]);u||li(c,"pointer-events",l),li(c,"clip-path",n.clip?_F(this,n,n.group):null);let d=null,p=0;const m=g=>{const x=this.isDirty(g),v=w7(g,c,d,s.tag,a);x&&(this._update(s,v,g),u&&iOe(this,v,g,i)),d=v,++p};return s.nested?n.items.length&&m(n.items[0]):Zo(n,m),Ga(c,p),c}_update(t,n,r){Yl=n,Br=n.__values__,Pne(X0,r),t.attr(X0,r,this);const i=oOe[t.type];i&&i.call(this,t,n,r),Yl&&this.style(Yl,r)}style(t,n){if(n!=null){for(const r in T2){let i=r==="font"?bx(n):n[r];if(i===Br[r])continue;const a=T2[r];i==null?t.removeAttribute(a):(vF(i)&&(i=Gte(i,this._defs.gradient,Ine())),t.setAttribute(a,i+"")),Br[r]=i}for(const r in N2)sw(t,N2[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const a in n.gradient)r||(n.el=r=qn(t,Iy+1,"defs",Hn)),i=nOe(r,n.gradient[a],i);for(const a in n.clipping)r||(n.el=r=qn(t,Iy+1,"defs",Hn)),i=rOe(r,n.clipping[a],i);r&&(i===0?(t.removeChild(r),n.el=null):Ga(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function _7(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function nOe(e,t,n){let r,i,a;if(t.gradient==="radial"){let o=qn(e,n++,"pattern",Hn);lc(o,{id:b2+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=qn(o,0,"rect",Hn),lc(o,{width:1,height:1,fill:`url(${Ine()}#${t.id})`}),e=qn(e,n++,"radialGradient",Hn),lc(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=qn(e,n++,"linearGradient",Hn),lc(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=qn(e,r,"stop",Hn),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return Ga(e,r),n}function rOe(e,t,n){let r;return e=qn(e,n,"clipPath",Hn),e.setAttribute("id",t.id),t.path?(r=qn(e,0,"path",Hn),r.setAttribute("d",t.path)):(r=qn(e,0,"rect",Hn),lc(r,{x:0,y:0,width:t.width,height:t.height})),Ga(e,1),n+1}function iOe(e,t,n,r){t=t.lastChild.previousSibling;let i,a=0;Zo(n,o=>{i=e.mark(t,o,i,r),++a}),Ga(t,1+a)}function w7(e,t,n,r,i){let a=e._svg,o;if(!a&&(o=t.ownerDocument,a=sc(o,r,Hn),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const s=sc(o,"path",Hn);a.appendChild(s),s.__data__=e;const l=sc(o,"g",Hn);a.appendChild(l),l.__data__=e;const u=sc(o,"path",Hn);a.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(a.ownerSVGElement!==i||aOe(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function aOe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Yl=null,Br=null;const oOe={group(e,t,n){const r=Yl=t.childNodes[2];Br=r.__values__,e.foreground(X0,n,this),Br=t.__values__,Yl=t.childNodes[1],e.content(X0,n,this);const i=Yl=t.childNodes[0];e.background(X0,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==Br.events&&(li(r,"pointer-events",a),li(i,"pointer-events",a),Br.events=a),n.strokeForeground&&n.stroke){const o=n.fill;li(r,"display",null),this.style(i,n),li(i,"stroke",null),o&&(n.fill=null),Br=r.__values__,this.style(r,n),o&&(n.fill=o),Yl=null}else li(r,"display","none")},image(e,t,n){n.smooth===!1?(sw(t,"image-rendering","optimizeSpeed"),sw(t,"image-rendering","pixelated")):sw(t,"image-rendering",null)},text(e,t,n){const r=xx(n);let i,a,o,s;ae(r)?(a=r.map(l=>zc(n,l)),i=a.join(`
`),i!==Br.text&&(Ga(t,0),o=t.ownerDocument,s=Rc(n),a.forEach((l,u)=>{const c=sc(o,"tspan",Hn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",s)),t.appendChild(c)}),Br.text=i)):(a=zc(n,r),a!==Br.text&&(t.textContent=a,Br.text=a)),li(t,"font-family",bx(n)),li(t,"font-size",sl(n)+"px"),li(t,"font-style",n.fontStyle),li(t,"font-variant",n.fontVariant),li(t,"font-weight",n.fontWeight)}};function X0(e,t,n){t!==Br[e]&&(n?sOe(Yl,e,t,n):li(Yl,e,t),Br[e]=t)}function sw(e,t,n){n!==Br[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Br[t]=n)}function lc(e,t){for(const n in t)li(e,n,t[n])}function li(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function sOe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function Ine(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class Lne extends _x{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=WF();n.open("svg",Je({},Hv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",jne,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Oa[n.marktype],i=r.tag,a=[Pne,r.attr];t.open("g",{class:vne(n),"clip-path":n.clip?_F(this,n,n.group):null},$ne(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=s=>{const l=this.href(s);if(l&&t.open("a",l),t.open(i,this.attr(n,s,a,i!=="g"?i:null)),i==="text"){const u=xx(s);if(ae(u)){const c={x:0,dy:Rc(s)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(zc(s,u[f])).close()}else t.text(zc(s,u))}else if(i==="g"){const u=s.strokeForeground,c=s.fill,f=s.stroke;u&&f&&(s.stroke=null),t.open("path",this.attr(n,s,r.background,"bgrect")).close(),t.open("g",this.attr(n,s,r.content)),Zo(s,d=>this.mark(t,d)),t.close(),u&&f?(c&&(s.fill=null),s.stroke=f,t.open("path",this.attr(n,s,r.foreground,"bgrect")).close(),c&&(s.fill=c)):t.open("path",this.attr(n,s,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Zo(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const a={},o=(s,l,u,c)=>{a[c||s]=l};return Array.isArray(r)?r.forEach(s=>s(o,n,this)):r(o,n,this),i&&lOe(a,n,t,i,this._defs),a}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const a in n){const o=n[a],s=o.stops;o.gradient==="radial"?(t.open("pattern",{id:b2+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),t.close(),t.open("radialGradient",{id:a,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:a,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let l=0;l<s.length;++l)t.open("stop",{offset:s[l].offset,"stop-color":s[l].color}).close();t.close()}for(const a in r){const o=r[a];t.open("clipPath",{id:a}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function lOe(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=bx(t),e["font-size"]=sl(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in T2){let s=t[o];const l=T2[o];s==="transparent"&&(l==="fill"||l==="stroke")||s!=null&&(vF(s)&&(s=Gte(s,i.gradient,"")),e[l]=s)}for(const o in N2){const s=t[o];s!=null&&(a=a||[],a.push(`${N2[o]}: ${s};`))}return a&&(e.style=a.join(" ")),e}const To={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function uOe(e){To.svgMarkTypes=e.svgMarkTypes??["text"],To.svgOnTop=e.svgOnTop??!0,To.debug=e.debug??!1}class rM extends _x{constructor(t){super(t),this._svgRenderer=new HF(t),this._canvasRenderer=new $2(t)}initialize(t,n,r,i,a){this._root_el=qn(t,0,"div");const o=qn(this._root_el,0,"div"),s=qn(this._root_el,1,"div");return this._root_el.style.position="relative",To.debug||(o.style.height="100%",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.height="100%",s.style.width="100%"),this._svgEl=To.svgOnTop?s:o,this._canvasEl=To.svgOnTop?o:s,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,a),this._svgRenderer.initialize(this._svgEl,n,r,i,a),super.initialize(t,n,r,i,a)}dirty(t){return To.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(a=>!To.svgMarkTypes.includes(a));this._svgRenderer.render(t,To.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return To.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class Fne extends wx{constructor(t,n){super(t,n)}initialize(t,n,r){const i=qn(qn(t,0,"div"),To.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const Rne="canvas",zne="hybrid",Bne="png",Une="svg",Wne="none",uc={Canvas:Rne,PNG:Bne,SVG:Une,Hybrid:zne,None:Wne},Pd={};Pd[Rne]=Pd[Bne]={renderer:$2,headless:$2,handler:wx};Pd[Une]={renderer:HF,headless:Lne,handler:Ane};Pd[zne]={renderer:rM,headless:rM,handler:Fne};Pd[Wne]={};function zA(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Pd[e]=t,this):Pd[e]}function Hne(e,t,n){const r=[],i=new zn().union(t),a=e.marktype;return a?qne(e,i,n,r):a==="group"?Gne(e,i,n,r):ee("Intersect scene must be mark node or group item.")}function qne(e,t,n,r){if(cOe(e,t,n)){const i=e.items,a=e.marktype,o=i.length;let s=0;if(a==="group")for(;s<o;++s)Gne(i[s],t,n,r);else for(const l=Oa[a].isect;s<o;++s){const u=i[s];Vne(u,t,l)&&r.push(u)}}return r}function cOe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function Gne(e,t,n,r){n&&n(e.mark)&&Vne(e,t,Oa.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const o=e.x||0,s=e.y||0;t.translate(-o,-s);for(let l=0;l<a;++l)qne(i[l],t,n,r);t.translate(o,s)}return r}function Vne(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const PP=new zn;function Xne(e){const t=e.clip;if(et(t))t(yx(PP.clear()));else if(t)PP.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(PP)}const fOe=1e-9;function qF(e,t,n){return e===t?!0:n==="path"?Yne(e,t):e instanceof Date&&t instanceof Date?+e==+t:St(e)&&St(t)?Math.abs(e-t)<=fOe:!e||!t||!Se(e)&&!Se(t)?e==t:dOe(e,t)}function Yne(e,t){return qF(ym(e),ym(t))}function dOe(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!qF(e[i],t[i],i))return!1;return typeof e==typeof t}function hOe(){Jte(),LAe()}const bm="top",Fo="left",Ro="right",Bc="bottom",pOe="top-left",mOe="top-right",gOe="bottom-left",yOe="bottom-right",GF="start",iM="middle",ci="end",vOe="x",xOe="y",BA="group",VF="axis",XF="title",bOe="frame",_Oe="scope",YF="legend",Kne="row-header",Zne="row-footer",Qne="row-title",Jne="column-header",ere="column-footer",tre="column-title",wOe="padding",SOe="symbol",nre="fit",rre="fit-x",ire="fit-y",EOe="pad",KF="none",Yb="all",aM="each",ZF="flush",cc="column",fc="row";function are(e){J.call(this,null,e)}xe(are,J,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=Oa[i],o=a.bound;let s=r.bounds,l;if(a.nested)r.items.length&&n.dirty(r.items[0]),s=Kb(r,o),r.items.forEach(u=>{u.bounds.clear().union(s)});else if(i===BA||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),s.clear(),r.items.forEach(u=>s.union(Kb(u,o))),r.role){case VF:case YF:case XF:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{s.union(Kb(u,o))}),t.visit(t.MOD,u=>{l=l||s.alignsWith(u.bounds),n.dirty(u),s.union(Kb(u,o))}),l&&(s.clear(),r.items.forEach(u=>s.union(u.bounds)));return Xne(r),t.modifies("bounds")}});function Kb(e,t,n){return t(e.bounds.clear(),e,n)}const S7=":vega_identifier:";function QF(e){J.call(this,0,e)}QF.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};xe(QF,J,{transform(e,t){const n=AOe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function AOe(e){return e._signals[S7]||(e._signals[S7]=e.add(0))}function ore(e){J.call(this,null,e)}xe(ore,J,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,kOe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===BA?NA:TA;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function kOe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function sre(e){J.call(this,null,e)}const E7={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!lre(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},lre=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),A7=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(lre(i,a=e[n].bounds,t))return!0},COe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},OOe=(e,t,n)=>{var r=e.range(),i=new zn;return t===bm||t===Bc?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},k7=e=>(e.forEach(t=>t.opacity=1),e),C7=(e,t)=>e.reflow(t.modified()).modifies("opacity");xe(sre,J,{transform(e,t){const n=E7[e.method]||E7.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(k7(i),t=C7(t,e)),t;if(i=i.filter(COe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=k7(i),t=C7(t,e),a.length>=3&&A7(a,r)){do a=n(a,r);while(a.length>=3&&A7(a,r));a.length<3&&!pt(i).opacity&&(a.length>1&&(pt(a).opacity=0),pt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=OOe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const s=a[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&s.union(l.bounds)}),t}});function ure(e){J.call(this,null,e)}xe(ure,J,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Rr=new zn;function xp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function POe(e){var t=e.items[0].orient;return t===Fo||t===Ro}function $Oe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function TOe(e,t,n,r){var i=t.items[0],a=i.datum,o=i.translate!=null?i.translate:.5,s=i.orient,l=$Oe(a),u=i.range,c=i.offset,f=i.position,d=i.minExtent,p=i.maxExtent,m=a.title&&i.items[l[2]].items[0],g=i.titlePadding,x=i.bounds,v=m&&DF(m),b=0,_=0,k,E;switch(Rr.clear().union(x),x.clear(),(k=l[0])>-1&&x.union(i.items[k].bounds),(k=l[1])>-1&&x.union(i.items[k].bounds),s){case bm:b=f||0,_=-c,E=Math.max(d,Math.min(p,-x.y1)),x.add(0,-E).add(u,0),m&&Zb(e,m,E,g,v,0,-1,x);break;case Fo:b=-c,_=f||0,E=Math.max(d,Math.min(p,-x.x1)),x.add(-E,0).add(0,u),m&&Zb(e,m,E,g,v,1,-1,x);break;case Ro:b=n+c,_=f||0,E=Math.max(d,Math.min(p,x.x2)),x.add(0,0).add(E,u),m&&Zb(e,m,E,g,v,1,1,x);break;case Bc:b=f||0,_=r+c,E=Math.max(d,Math.min(p,x.y2)),x.add(0,0).add(u,E),m&&Zb(e,m,E,g,0,0,1,x);break;default:b=i.x,_=i.y}return Su(x.translate(b,_),i),xp(i,"x",b+o)|xp(i,"y",_+o)&&(i.bounds=Rr,e.dirty(i),i.bounds=x,e.dirty(i)),i.mark.bounds.clear().union(x)}function Zb(e,t,n,r,i,a,o,s){const l=t.bounds;if(t.auto){const u=o*(n+i+r);let c=0,f=0;e.dirty(t),a?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}s.union(l)}const O7=(e,t)=>Math.floor(Math.min(e,t)),P7=(e,t)=>Math.ceil(Math.max(e,t));function NOe(e){var t=e.items,n=t.length,r=0,i,a;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===BA)switch(i.role){case VF:case YF:case XF:break;case Kne:o.rowheaders.push(...a);break;case Zne:o.rowfooters.push(...a);break;case Jne:o.colheaders.push(...a);break;case ere:o.colfooters.push(...a);break;case Qne:o.rowtitle=a[0];break;case tre:o.coltitle=a[0];break;default:o.marks.push(...a)}return o}function MOe(e){return new zn().set(0,0,e.width||0,e.height||0)}function DOe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function un(e,t,n){const r=Se(e)?e[t]:e;return r??(n!==void 0?n:0)}function $7(e){return e<0?Math.ceil(-e):0}function cre(e,t,n){var r=!n.nodirty,i=n.bounds===ZF?MOe:DOe,a=Rr.set(0,0,0,0),o=un(n.align,cc),s=un(n.align,fc),l=un(n.padding,cc),u=un(n.padding,fc),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,p=Array(d),m=Array(c),g=0,x=Array(d),v=Array(f),b=0,_=Array(d),k=Array(d),E=Array(d),A,C,P,T,D,j,I,W,R,M,z;for(C=0;C<c;++C)m[C]=0;for(C=0;C<f;++C)v[C]=0;for(C=0;C<d;++C)j=t[C],D=E[C]=i(j),j.x=j.x||0,_[C]=0,j.y=j.y||0,k[C]=0,P=C%c,T=~~(C/c),g=Math.max(g,I=Math.ceil(D.x2)),b=Math.max(b,W=Math.ceil(D.y2)),m[P]=Math.max(m[P],I),v[T]=Math.max(v[T],W),p[C]=l+$7(D.x1),x[C]=u+$7(D.y1),r&&e.dirty(t[C]);for(C=0;C<d;++C)C%c===0&&(p[C]=0),C<c&&(x[C]=0);if(o===aM)for(P=1;P<c;++P){for(z=0,C=P;C<d;C+=c)z<p[C]&&(z=p[C]);for(C=P;C<d;C+=c)p[C]=z+m[P-1]}else if(o===Yb){for(z=0,C=0;C<d;++C)C%c&&z<p[C]&&(z=p[C]);for(C=0;C<d;++C)C%c&&(p[C]=z+g)}else for(o=!1,P=1;P<c;++P)for(C=P;C<d;C+=c)p[C]+=m[P-1];if(s===aM)for(T=1;T<f;++T){for(z=0,C=T*c,A=C+c;C<A;++C)z<x[C]&&(z=x[C]);for(C=T*c;C<A;++C)x[C]=z+v[T-1]}else if(s===Yb){for(z=0,C=c;C<d;++C)z<x[C]&&(z=x[C]);for(C=c;C<d;++C)x[C]=z+b}else for(s=!1,T=1;T<f;++T)for(C=T*c,A=C+c;C<A;++C)x[C]+=v[T-1];for(R=0,C=0;C<d;++C)R=p[C]+(C%c?R:0),_[C]+=R-t[C].x;for(P=0;P<c;++P)for(M=0,C=P;C<d;C+=c)M+=x[C],k[C]+=M-t[C].y;if(o&&un(n.center,cc)&&f>1)for(C=0;C<d;++C)D=o===Yb?g:m[C%c],R=D-E[C].x2-t[C].x-_[C],R>0&&(_[C]+=R/2);if(s&&un(n.center,fc)&&c!==1)for(C=0;C<d;++C)D=s===Yb?b:v[~~(C/c)],M=D-E[C].y2-t[C].y-k[C],M>0&&(k[C]+=M/2);for(C=0;C<d;++C)a.union(E[C].translate(_[C],k[C]));switch(R=un(n.anchor,vOe),M=un(n.anchor,xOe),un(n.anchor,cc)){case ci:R-=a.width();break;case iM:R-=a.width()/2}switch(un(n.anchor,fc)){case ci:M-=a.height();break;case iM:M-=a.height()/2}for(R=Math.round(R),M=Math.round(M),a.clear(),C=0;C<d;++C)t[C].mark.bounds.clear();for(C=0;C<d;++C)j=t[C],j.x+=_[C]+=R,j.y+=k[C]+=M,a.union(j.mark.bounds.union(j.bounds.translate(_[C],k[C]))),r&&e.dirty(j);return a}function jOe(e,t,n){var r=NOe(t),i=r.marks,a=n.bounds===ZF?IOe:LOe,o=n.offset,s=n.columns||i.length,l=s<=0?1:Math.ceil(i.length/s),u=l*s,c,f,d,p,m,g,x;const v=cre(e,i,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(g=un(n.headerBand,fc,null),c=Qb(e,r.rowheaders,i,s,l,-un(o,"rowHeader"),O7,0,a,"x1",0,s,1,g)),r.colheaders&&(g=un(n.headerBand,cc,null),f=Qb(e,r.colheaders,i,s,s,-un(o,"columnHeader"),O7,1,a,"y1",0,1,s,g)),r.rowfooters&&(g=un(n.footerBand,fc,null),d=Qb(e,r.rowfooters,i,s,l,un(o,"rowFooter"),P7,0,a,"x2",s-1,s,1,g)),r.colfooters&&(g=un(n.footerBand,cc,null),p=Qb(e,r.colfooters,i,s,s,un(o,"columnFooter"),P7,1,a,"y2",u-s,1,s,g)),r.rowtitle&&(m=un(n.titleAnchor,fc),x=un(o,"rowTitle"),x=m===ci?d+x:c-x,g=un(n.titleBand,fc,.5),T7(e,r.rowtitle,x,0,v,g)),r.coltitle&&(m=un(n.titleAnchor,cc),x=un(o,"columnTitle"),x=m===ci?p+x:f-x,g=un(n.titleBand,cc,.5),T7(e,r.coltitle,x,1,v,g))}function IOe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function LOe(e,t){return e.bounds[t]}function Qb(e,t,n,r,i,a,o,s,l,u,c,f,d,p){var m=n.length,g=0,x=0,v,b,_,k,E,A,C,P,T;if(!m)return g;for(v=c;v<m;v+=f)n[v]&&(g=o(g,l(n[v],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=a,b=0,k=t.length;b<k;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(v=c,b=0,k=t.length;b<k;++b,v+=f){for(A=t[b],E=A.mark.bounds,_=v;_>=0&&(C=n[_])==null;_-=d);s?(P=p==null?C.x:Math.round(C.bounds.x1+p*C.bounds.width()),T=g):(P=g,T=p==null?C.y:Math.round(C.bounds.y1+p*C.bounds.height())),E.union(A.bounds.translate(P-(A.x||0),T-(A.y||0))),A.x=P,A.y=T,e.dirty(A),x=o(x,E[u])}return x}function T7(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function FOe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function ROe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function zOe(e,t,n,r,i,a,o){const s=FOe(n,t),l=ROe(e,s("offset",0)),u=s("anchor",GF),c=u===ci?1:u===iM?.5:0,f={align:aM,bounds:s("bounds",ZF),columns:s("direction")==="vertical"?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case Fo:f.anchor={x:Math.floor(r.x1)-l,column:ci,y:c*(o||r.height()+2*r.y1),row:u};break;case Ro:f.anchor={x:Math.ceil(r.x2)+l,y:c*(o||r.height()+2*r.y1),row:u};break;case bm:f.anchor={y:Math.floor(i.y1)-l,row:ci,x:c*(a||i.width()+2*i.x1),column:u};break;case Bc:f.anchor={y:Math.ceil(i.y2)+l,x:c*(a||i.width()+2*i.x1),column:u};break;case pOe:f.anchor={x:l,y:l};break;case mOe:f.anchor={x:a-l,y:l,column:ci};break;case gOe:f.anchor={x:l,y:o-l,row:ci};break;case yOe:f.anchor={x:a-l,y:o-l,column:ci,row:ci};break}return f}function BOe(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,o=n.x,s=n.y,l,u;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),WOe(e,n,n.items[0].items[0]),a=UOe(n,a),l=2*n.padding,u=2*n.padding,a.empty()||(l=Math.ceil(a.width()+l),u=Math.ceil(a.height()+u)),r.type===SOe&&HOe(n.items[0].items[0].items[0].items),i!==KF&&(n.x=o=0,n.y=s=0),n.width=l,n.height=u,Su(a.set(o,s,o+l,s+u),n),n.mark.bounds.clear().union(a),n}function UOe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function WOe(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&Ly(e,n,i,a);else{var o=t.items[1].items[0],s=o.anchor,l=t.titlePadding||0,u=r-o.x,c=r-o.y;switch(o.orient){case Fo:i+=Math.ceil(o.bounds.width())+l;break;case Ro:case Bc:break;default:a+=o.bounds.height()+l}switch((i||a)&&Ly(e,n,i,a),o.orient){case Fo:c+=Uh(t,n,o,s,1,1);break;case Ro:u+=Uh(t,n,o,ci,0,0)+l,c+=Uh(t,n,o,s,1,1);break;case Bc:u+=Uh(t,n,o,s,0,0),c+=Uh(t,n,o,ci,-1,0,1)+l;break;default:u+=Uh(t,n,o,s,0,0)}(u||c)&&Ly(e,o,u,c),(u=Math.round(o.bounds.x1-r))<0&&(Ly(e,n,-u,0),Ly(e,o,-u,0))}}function Uh(e,t,n,r,i,a,o){const s=e.datum.type!=="symbol",l=n.datum.vgrad,u=s&&(a||!l)&&!o?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&a?c:0,d=l&&a?0:c,p=i<=0?0:DF(n);return Math.round(r===GF?f:r===ci?d-p:.5*(c-p))}function Ly(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function HOe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function qOe(e,t,n,r,i){var a=t.items[0],o=a.frame,s=a.orient,l=a.anchor,u=a.offset,c=a.padding,f=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],p=s===Fo||s===Ro?r:n,m=0,g=0,x=0,v=0,b=0,_;if(o!==BA?s===Fo?(m=i.y2,p=i.y1):s===Ro?(m=i.y1,p=i.y2):(m=i.x1,p=i.x2):s===Fo&&(m=r,p=0),_=l===GF?m:l===ci?p:(m+p)/2,d&&d.text){switch(s){case bm:case Bc:b=f.bounds.height()+c;break;case Fo:v=f.bounds.width()+c;break;case Ro:v=-f.bounds.width()-c;break}Rr.clear().union(d.bounds),Rr.translate(v-(d.x||0),b-(d.y||0)),xp(d,"x",v)|xp(d,"y",b)&&(e.dirty(d),d.bounds.clear().union(Rr),d.mark.bounds.clear().union(Rr),e.dirty(d)),Rr.clear().union(d.bounds)}else Rr.clear();switch(Rr.union(f.bounds),s){case bm:g=_,x=i.y1-Rr.height()-u;break;case Fo:g=i.x1-Rr.width()-u,x=_;break;case Ro:g=i.x2+Rr.width()+u,x=_;break;case Bc:g=_,x=i.y2+u;break;default:g=a.x,x=a.y}return xp(a,"x",g)|xp(a,"y",x)&&(Rr.translate(g,x),e.dirty(a),a.bounds.clear().union(Rr),t.bounds.clear().union(Rr),e.dirty(a)),a.bounds}function fre(e){J.call(this,null,e)}xe(fre,J,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&jOe(n,r,e.layout),VOe(n,r,e)}),GOe(e.mark.group)?t.reflow():t}});function GOe(e){return e&&e.mark.role!=="legend-entry"}function VOe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),o=new zn().set(0,0,i,a),s=o.clone(),l=o.clone(),u=[],c,f,d,p,m,g;for(m=0,g=r.length;m<g;++m)switch(f=r[m],f.role){case VF:p=POe(f)?s:l,p.union(TOe(e,f,i,a));break;case XF:c=f;break;case YF:u.push(BOe(e,f));break;case bOe:case _Oe:case Kne:case Zne:case Qne:case Jne:case ere:case tre:s.union(f.bounds),l.union(f.bounds);break;default:o.union(f.bounds)}if(u.length){const x={};u.forEach(v=>{d=v.orient||Ro,d!==KF&&(x[d]||(x[d]=[])).push(v)});for(const v in x){const b=x[v];cre(e,b,zOe(b,v,n.legends,s,l,i,a))}u.forEach(v=>{const b=v.bounds;if(b.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=b,e.dirty(v)),n.autosize&&(n.autosize.type===nre||n.autosize.type===rre||n.autosize.type===ire))switch(v.orient){case Fo:case Ro:o.add(b.x1,0).add(b.x2,0);break;case bm:case Bc:o.add(0,b.y1).add(0,b.y2)}else o.union(b)})}o.union(s).union(l),c&&o.union(qOe(e,c,i,a,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),XOe(e,t,o,n)}function XOe(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let o=e._width,s=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),p=Math.max(0,Math.ceil(n.y2-c));if(i.contains===wOe){const m=e.padding();o-=m.left+m.right,s-=m.top+m.bottom}a===KF?(u=0,f=0,l=o,c=s):a===nre?(l=Math.max(0,o-u-d),c=Math.max(0,s-f-p)):a===rre?(l=Math.max(0,o-u-d),s=c+f+p):a===ire?(o=l+u+d,c=Math.max(0,s-f-p)):a===EOe&&(o=l+u+d,s=c+f+p),e._resizeView(o,s,l,c,[u,f],i.resize)}const YOe=Object.freeze(Object.defineProperty({__proto__:null,bound:are,identifier:QF,mark:ore,overlap:sre,render:ure,viewlayout:fre},Symbol.toStringTag,{value:"Module"}));function dre(e){J.call(this,null,e)}xe(dre,J,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,s=gF(a,o,e.minstep),l=e.format||Rte(n,a,s,e.formatSpecifier,e.formatType,!!e.values),u=e.values?Fte(a,e.values,s):yF(a,s);return i&&(r.rem=i),i=u.map((c,f)=>Pt({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Pt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function hre(e){J.call(this,null,e)}function KOe(){return Pt({})}function ZOe(e){const t=vg().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}xe(hre,J,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||KOe,a=e.key||Le,o=this.value;return ae(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&ee("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=ZOe(a)),t.visit(t.ADD,s=>{const l=a(s);let u=o.get(l);u?u.exit?(o.empty--,r.add.push(u)):r.mod.push(u):(u=i(s),o.set(l,u),r.add.push(u)),u.datum=s,u.exit=!1}),t.visit(t.MOD,s=>{const l=a(s),u=o.get(l);u&&(u.datum=s,r.mod.push(u))}),t.visit(t.REM,s=>{const l=a(s),u=o.get(l);s===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function pre(e){J.call(this,null,e)}xe(pre,J,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(ae(a))if(n.changed()||a.every(f=>i[f]))a=a[0],n.encode=null;else return t.StopPropagation;var o=a==="enter",s=i.update||Uu,l=i.enter||Uu,u=i.exit||Uu,c=(a&&!o?i[a]:s)||Uu;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),s(f,e)}),n.modifies(l.output),n.modifies(s.output),c!==Uu&&c!==s&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Uu&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),o||c!==Uu){const f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,d=>{const p=l(d,e)||r;(c(d,e)||p)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function mre(e){J.call(this,[],e)}xe(mre,J,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||J_,o=e.scale,s=+e.limit,l=gF(o,e.count==null?5:e.count,e.minstep),u=!!e.values||a===J_,c=e.format||Wte(n,o,l,a,e.formatSpecifier,e.formatType,u),f=e.values||Ute(o,l),d,p,m,g,x;return i&&(r.rem=i),a===J_?(s&&f.length>s?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,s-1),x=!0):i=f,et(m=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),g=i.reduce((v,b)=>Math.max(v,m(b,e)),0)):m=ti(g=m||8),i=i.map((v,b)=>Pt({index:b,label:c(v,b,i),value:v,offset:g,size:m(v,e)})),x&&(x=f[i.length],i.push(Pt({index:i.length,label:`${f.length-i.length} entries`,value:x,offset:g,size:m(x,e)})))):a===EAe?(d=o.domain(),p=jte(o,d[0],pt(d)),f.length<3&&!e.values&&d[0]!==pt(d)&&(f=[d[0],pt(d)]),i=f.map((v,b)=>Pt({index:b,label:c(v,b,f),value:v,perc:p(v)}))):(m=f.length-1,p=jAe(o),i=f.map((v,b)=>Pt({index:b,label:c(v,b,f),value:v,perc:b?p(v):0,perc2:b===m?1:p(f[b+1])}))),r.source=i,r.add=i,this.value=i,r}});const QOe=e=>e.source.x,JOe=e=>e.source.y,ePe=e=>e.target.x,tPe=e=>e.target.y;function JF(e){J.call(this,{},e)}JF.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};xe(JF,J,{transform(e,t){var n=e.sourceX||QOe,r=e.sourceY||JOe,i=e.targetX||ePe,a=e.targetY||tPe,o=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=N7.get(l+"-"+s)||N7.get(l);return u||ee("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=u(n(c),r(c),i(c),a(c))}),t.reflow(e.modified()).modifies(o)}});const gre=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,nPe=(e,t,n,r)=>gre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),yre=(e,t,n,r)=>{var i=n-e,a=r-t,o=Math.hypot(i,a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r},rPe=(e,t,n,r)=>yre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),vre=(e,t,n,r)=>{const i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r},iPe=(e,t,n,r)=>vre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),aPe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,oPe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,sPe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s},lPe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},uPe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},cPe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*o+","+l*s+" "+r*o+","+r*s},N7=vg({line:gre,"line-radial":nPe,arc:yre,"arc-radial":rPe,curve:vre,"curve-radial":iPe,"orthogonal-horizontal":aPe,"orthogonal-vertical":oPe,"orthogonal-radial":sPe,"diagonal-horizontal":lPe,"diagonal-vertical":uPe,"diagonal-radial":cPe});function eR(e){J.call(this,null,e)}eR.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};xe(eR,J,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||pg,o=e.startAngle||0,s=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(a),c=u.length,f=o,d=(s-o)/PQ(u),p=Ui(c),m,g,x;for(e.sort&&p.sort((v,b)=>u[v]-u[b]),m=0;m<c;++m)x=u[p[m]],g=l[p[m]],g[r]=f,g[i]=f+=x*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const fPe=5;function dPe(e){const t=e.type;return!e.bins&&(t===pm||t===cx||t===fx)}function xre(e){return hF(e)&&e!==zs}const hPe=Yo(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function bre(e){J.call(this,null,e),this.modified(!0)}xe(bre,J,{transform(e,t){var n=t.dataflow,r=this.value,i=pPe(e);(!r||i!==r.type)&&(this.value=r=At(i)());for(i in e)if(!hPe[i]){if(i==="padding"&&xre(r.type))continue;et(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return bPe(r,e,xPe(r,e,gPe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function pPe(e){var t=e.type,n="",r;return t===zs?zs+"-"+pm:(mPe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?zs+"-":r===3?kg+"-":""),(n+t||pm).toLowerCase())}function mPe(e){const t=e.type;return hF(t)&&t!==Cd&&t!==Od&&(e.scheme||e.range&&e.range.length&&e.range.every(Ee))}function gPe(e,t,n){const r=yPe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,o=t.zero||t.zero===void 0&&dPe(e),s,l;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[s]?s+1:l<i[0]?0:s;u!==s&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return xre(a)&&t.padding&&i[0]!==pt(i)&&(i=vPe(a,i,t.range,t.padding,t.exponent,t.constant)),e.domain(_re(a,i,n)),a===uF&&e.unknown(t.domainImplicit?d2:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&gF(e,t.nice)||null),i.length}function yPe(e,t,n){return t?(e.domain(_re(e.type,t,n)),t.length):-1}function vPe(e,t,n,r,i,a){var o=Math.abs(pt(n)-n[0]),s=o/(o-2*r),l=e===mu?b3(t,null,s):e===fx?Qw(t,null,s,.5):e===cx?Qw(t,null,s,i||1):e===kA?_3(t,null,s,a||1):x3(t,null,s);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function _re(e,t,n){if($te(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ye(t))}return t}function xPe(e,t,n){let r=t.bins;if(r&&!ae(r)){const i=e.domain(),a=i[0],o=pt(i),s=r.step;let l=r.start==null?a:r.start,u=r.stop==null?o:r.stop;s||ee("Scale bins parameter missing step property."),l<a&&(l=s*Math.ceil(a/s)),u>o&&(u=s*Math.floor(o/s)),r=Ui(l,u+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===cF&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function bPe(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=_Pe(r,t,n);else if(t.scheme&&(a=wPe(r,t,n),et(a))){if(e.interpolator)return e.interpolator(a);ee(`Scale type ${r} does not support interpolating color schemes.`)}if(a&&Tte(r))return e.interpolator(PA(oM(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(pF(t.interpolate,t.interpolateGamma)):et(e.round)?e.round(i):et(e.rangeRound)&&e.interpolate(i?lx:ef),a&&e.range(oM(a,t.reverse))}function _Pe(e,t,n){e!==Ete&&e!==qN&&ee("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===qN?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*lF(n,i,r)]}function wPe(e,t,n){var r=t.schemeExtent,i,a;return ae(t.scheme)?a=PA(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=mF(i),a||ee(`Unrecognized scheme name: ${t.scheme}`)),n=e===OA?n+1:e===cF?n-1:e===mm||e===CA?+t.schemeCount||fPe:n,Tte(e)?M7(a,r,t.reverse):et(a)?Dte(M7(a,r),n):e===uF?a:a.slice(0,n)}function M7(e,t,n){return et(e)&&(t||n)?Mte(e,oM(t||[0,1],n)):e}function oM(e,t){return t?e.slice().reverse():e}function wre(e){J.call(this,null,e)}xe(wre,J,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(sh(e.sort)),this.modified(n),t}});const D7="zero",Sre="center",Ere="normalize",Are=["y0","y1"];function tR(e){J.call(this,null,e)}tR.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:D7,values:[D7,Sre,Ere]},{name:"as",type:"string",array:!0,length:2,default:Are}]};xe(tR,J,{transform(e,t){var n=e.as||Are,r=n[0],i=n[1],a=sh(e.sort),o=e.field||pg,s=e.offset===Sre?SPe:e.offset===Ere?EPe:APe,l,u,c,f;for(l=kPe(t.source,e.groupby,a,o),u=0,c=l.length,f=l.max;u<c;++u)s(l[u],f,o,r,i);return t.reflow(e.modified()).modifies(n)}});function SPe(e,t,n,r,i){for(var a=(t-e.sum)/2,o=e.length,s=0,l;s<o;++s)l=e[s],l[r]=a,l[i]=a+=Math.abs(n(l))}function EPe(e,t,n,r,i){for(var a=1/e.sum,o=0,s=e.length,l=0,u=0,c;l<s;++l)c=e[l],c[r]=o,c[i]=o=a*(u+=Math.abs(n(c)))}function APe(e,t,n,r,i){for(var a=0,o=0,s=e.length,l=0,u,c;l<s;++l)c=e[l],u=+n(c),u<0?(c[r]=o,c[i]=o+=u):(c[r]=a,c[i]=a+=u)}function kPe(e,t,n,r){var i=[],a=g=>g(c),o,s,l,u,c,f,d,p,m;if(t==null)i.push(e.slice());else for(o={},s=0,l=e.length;s<l;++s)c=e[s],f=t.map(a),d=o[f],d||(o[f]=d=[],i.push(d)),d.push(c);for(f=0,m=0,u=i.length;f<u;++f){for(d=i[f],s=0,p=0,l=d.length;s<l;++s)p+=Math.abs(r(d[s]));d.sum=p,p>m&&(m=p),n&&d.sort(n)}return i.max=m,i}const CPe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:dre,datajoin:hre,encode:pre,legendentries:mre,linkpath:JF,pie:eR,scale:bre,sortitems:wre,stack:tR},Symbol.toStringTag,{value:"Module"}));var ze=1e-6,M2=1e-12,st=Math.PI,An=st/2,D2=st/4,Si=st*2,On=180/st,at=st/180,ht=Math.abs,Og=Math.atan,co=Math.atan2,Ue=Math.cos,Jb=Math.ceil,kre=Math.exp,sM=Math.hypot,j2=Math.log,$P=Math.pow,Fe=Math.sin,Za=Math.sign||function(e){return e>0?1:e<0?-1:0},Ei=Math.sqrt,nR=Math.tan;function Cre(e){return e>1?0:e<-1?st:Math.acos(e)}function Zi(e){return e>1?An:e<-1?-An:Math.asin(e)}function Ar(){}function I2(e,t){e&&I7.hasOwnProperty(e.type)&&I7[e.type](e,t)}var j7={Feature:function(e,t){I2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)I2(n[r].geometry,t)}},I7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){lM(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lM(n[r],t,0)},Polygon:function(e,t){L7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)L7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)I2(n[r],t)}};function lM(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function L7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)lM(e[n],t,1);t.polygonEnd()}function Rl(e,t){e&&j7.hasOwnProperty(e.type)?j7[e.type](e,t):I2(e,t)}var L2=new _i,F2=new _i,Ore,Pre,uM,cM,fM,Js={point:Ar,lineStart:Ar,lineEnd:Ar,polygonStart:function(){L2=new _i,Js.lineStart=OPe,Js.lineEnd=PPe},polygonEnd:function(){var e=+L2;F2.add(e<0?Si+e:e),this.lineStart=this.lineEnd=this.point=Ar},sphere:function(){F2.add(Si)}};function OPe(){Js.point=$Pe}function PPe(){$re(Ore,Pre)}function $Pe(e,t){Js.point=$re,Ore=e,Pre=t,e*=at,t*=at,uM=e,cM=Ue(t=t/2+D2),fM=Fe(t)}function $re(e,t){e*=at,t*=at,t=t/2+D2;var n=e-uM,r=n>=0?1:-1,i=r*n,a=Ue(t),o=Fe(t),s=fM*o,l=cM*a+s*Ue(i),u=s*r*Fe(i);L2.add(co(u,l)),uM=e,cM=a,fM=o}function TPe(e){return F2=new _i,Rl(e,Js),F2*2}function R2(e){return[co(e[1],e[0]),Zi(e[2])]}function $d(e){var t=e[0],n=e[1],r=Ue(n);return[r*Ue(t),r*Fe(t),Fe(n)]}function e_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _m(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function TP(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function t_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function z2(e){var t=Ei(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var mn,Fi,_n,ha,Rf,Tre,Nre,zp,Y0,Ku,gu,Il={point:dM,lineStart:F7,lineEnd:R7,polygonStart:function(){Il.point=Dre,Il.lineStart=NPe,Il.lineEnd=MPe,Y0=new _i,Js.polygonStart()},polygonEnd:function(){Js.polygonEnd(),Il.point=dM,Il.lineStart=F7,Il.lineEnd=R7,L2<0?(mn=-(_n=180),Fi=-(ha=90)):Y0>ze?ha=90:Y0<-ze&&(Fi=-90),gu[0]=mn,gu[1]=_n},sphere:function(){mn=-(_n=180),Fi=-(ha=90)}};function dM(e,t){Ku.push(gu=[mn=e,_n=e]),t<Fi&&(Fi=t),t>ha&&(ha=t)}function Mre(e,t){var n=$d([e*at,t*at]);if(zp){var r=_m(zp,n),i=[r[1],-r[0],0],a=_m(i,r);z2(a),a=R2(a);var o=e-Rf,s=o>0?1:-1,l=a[0]*On*s,u,c=ht(o)>180;c^(s*Rf<l&&l<s*e)?(u=a[1]*On,u>ha&&(ha=u)):(l=(l+360)%360-180,c^(s*Rf<l&&l<s*e)?(u=-a[1]*On,u<Fi&&(Fi=u)):(t<Fi&&(Fi=t),t>ha&&(ha=t))),c?e<Rf?ca(mn,e)>ca(mn,_n)&&(_n=e):ca(e,_n)>ca(mn,_n)&&(mn=e):_n>=mn?(e<mn&&(mn=e),e>_n&&(_n=e)):e>Rf?ca(mn,e)>ca(mn,_n)&&(_n=e):ca(e,_n)>ca(mn,_n)&&(mn=e)}else Ku.push(gu=[mn=e,_n=e]);t<Fi&&(Fi=t),t>ha&&(ha=t),zp=n,Rf=e}function F7(){Il.point=Mre}function R7(){gu[0]=mn,gu[1]=_n,Il.point=dM,zp=null}function Dre(e,t){if(zp){var n=e-Rf;Y0.add(ht(n)>180?n+(n>0?360:-360):n)}else Tre=e,Nre=t;Js.point(e,t),Mre(e,t)}function NPe(){Js.lineStart()}function MPe(){Dre(Tre,Nre),Js.lineEnd(),ht(Y0)>ze&&(mn=-(_n=180)),gu[0]=mn,gu[1]=_n,zp=null}function ca(e,t){return(t-=e)<0?t+360:t}function DPe(e,t){return e[0]-t[0]}function z7(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function jPe(e){var t,n,r,i,a,o,s;if(ha=_n=-(mn=Fi=1/0),Ku=[],Rl(e,Il),n=Ku.length){for(Ku.sort(DPe),t=1,r=Ku[0],a=[r];t<n;++t)i=Ku[t],z7(r,i[0])||z7(r,i[1])?(ca(r[0],i[1])>ca(r[0],r[1])&&(r[1]=i[1]),ca(i[0],r[1])>ca(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=ca(r[1],i[0]))>o&&(o=s,mn=i[0],_n=r[1])}return Ku=gu=null,mn===1/0||Fi===1/0?[[NaN,NaN],[NaN,NaN]]:[[mn,Fi],[_n,ha]]}var g0,B2,U2,W2,H2,q2,G2,V2,hM,pM,mM,jre,Ire,fi,di,hi,zo={sphere:Ar,point:rR,lineStart:B7,lineEnd:U7,polygonStart:function(){zo.lineStart=FPe,zo.lineEnd=RPe},polygonEnd:function(){zo.lineStart=B7,zo.lineEnd=U7}};function rR(e,t){e*=at,t*=at;var n=Ue(t);Sx(n*Ue(e),n*Fe(e),Fe(t))}function Sx(e,t,n){++g0,U2+=(e-U2)/g0,W2+=(t-W2)/g0,H2+=(n-H2)/g0}function B7(){zo.point=IPe}function IPe(e,t){e*=at,t*=at;var n=Ue(t);fi=n*Ue(e),di=n*Fe(e),hi=Fe(t),zo.point=LPe,Sx(fi,di,hi)}function LPe(e,t){e*=at,t*=at;var n=Ue(t),r=n*Ue(e),i=n*Fe(e),a=Fe(t),o=co(Ei((o=di*a-hi*i)*o+(o=hi*r-fi*a)*o+(o=fi*i-di*r)*o),fi*r+di*i+hi*a);B2+=o,q2+=o*(fi+(fi=r)),G2+=o*(di+(di=i)),V2+=o*(hi+(hi=a)),Sx(fi,di,hi)}function U7(){zo.point=rR}function FPe(){zo.point=zPe}function RPe(){Lre(jre,Ire),zo.point=rR}function zPe(e,t){jre=e,Ire=t,e*=at,t*=at,zo.point=Lre;var n=Ue(t);fi=n*Ue(e),di=n*Fe(e),hi=Fe(t),Sx(fi,di,hi)}function Lre(e,t){e*=at,t*=at;var n=Ue(t),r=n*Ue(e),i=n*Fe(e),a=Fe(t),o=di*a-hi*i,s=hi*r-fi*a,l=fi*i-di*r,u=sM(o,s,l),c=Zi(u),f=u&&-c/u;hM.add(f*o),pM.add(f*s),mM.add(f*l),B2+=c,q2+=c*(fi+(fi=r)),G2+=c*(di+(di=i)),V2+=c*(hi+(hi=a)),Sx(fi,di,hi)}function BPe(e){g0=B2=U2=W2=H2=q2=G2=V2=0,hM=new _i,pM=new _i,mM=new _i,Rl(e,zo);var t=+hM,n=+pM,r=+mM,i=sM(t,n,r);return i<M2&&(t=q2,n=G2,r=V2,B2<ze&&(t=U2,n=W2,r=H2),i=sM(t,n,r),i<M2)?[NaN,NaN]:[co(n,t)*On,Zi(r/i)*On]}function gM(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function yM(e,t){return ht(e)>st&&(e-=Math.round(e/Si)*Si),[e,t]}yM.invert=yM;function Fre(e,t,n){return(e%=Si)?t||n?gM(H7(e),q7(t,n)):H7(e):t||n?q7(t,n):yM}function W7(e){return function(t,n){return t+=e,ht(t)>st&&(t-=Math.round(t/Si)*Si),[t,n]}}function H7(e){var t=W7(e);return t.invert=W7(-e),t}function q7(e,t){var n=Ue(e),r=Fe(e),i=Ue(t),a=Fe(t);function o(s,l){var u=Ue(l),c=Ue(s)*u,f=Fe(s)*u,d=Fe(l),p=d*n+c*r;return[co(f*i-p*a,c*n-d*r),Zi(p*i+f*a)]}return o.invert=function(s,l){var u=Ue(l),c=Ue(s)*u,f=Fe(s)*u,d=Fe(l),p=d*i-f*a;return[co(f*i+d*a,c*n+p*r),Zi(p*n-c*r)]},o}function UPe(e){e=Fre(e[0]*at,e[1]*at,e.length>2?e[2]*at:0);function t(n){return n=e(n[0]*at,n[1]*at),n[0]*=On,n[1]*=On,n}return t.invert=function(n){return n=e.invert(n[0]*at,n[1]*at),n[0]*=On,n[1]*=On,n},t}function WPe(e,t,n,r,i,a){if(n){var o=Ue(t),s=Fe(t),l=r*n;i==null?(i=t+r*Si,a=t-l/2):(i=G7(o,i),a=G7(o,a),(r>0?i<a:i>a)&&(i+=r*Si));for(var u,c=i;r>0?c>a:c<a;c-=l)u=R2([o,-s*Ue(c),-s*Fe(c)]),e.point(u[0],u[1])}}function G7(e,t){t=$d(t),t[0]-=e,z2(t);var n=Cre(-t[1]);return((-t[2]<0?-n:n)+Si-ze)%Si}function Rre(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Ar,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function lw(e,t){return ht(e[0]-t[0])<ze&&ht(e[1]-t[1])<ze}function n_(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function zre(e,t,n,r,i){var a=[],o=[],s,l;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,x=m[0],v=m[g],b;if(lw(x,v)){if(!x[2]&&!v[2]){for(i.lineStart(),s=0;s<g;++s)i.point((x=m[s])[0],x[1]);i.lineEnd();return}v[0]+=2*ze}a.push(b=new n_(x,m,null,!0)),o.push(b.o=new n_(x,null,b,!1)),a.push(b=new n_(v,m,null,!1)),o.push(b.o=new n_(v,null,b,!0))}}),!!a.length){for(o.sort(t),V7(a),V7(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var u=a[0],c,f;;){for(var d=u,p=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function V7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function NP(e){return ht(e[0])<=st?e[0]:Za(e[0])*((ht(e[0])+st)%Si-st)}function HPe(e,t){var n=NP(t),r=t[1],i=Fe(r),a=[Fe(n),-Ue(n),0],o=0,s=0,l=new _i;i===1?r=An+ze:i===-1&&(r=-An-ze);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,p=f[d-1],m=NP(p),g=p[1]/2+D2,x=Fe(g),v=Ue(g),b=0;b<d;++b,m=k,x=A,v=C,p=_){var _=f[b],k=NP(_),E=_[1]/2+D2,A=Fe(E),C=Ue(E),P=k-m,T=P>=0?1:-1,D=T*P,j=D>st,I=x*A;if(l.add(co(I*T*Fe(D),v*C+I*Ue(D))),o+=j?P+T*Si:P,j^m>=n^k>=n){var W=_m($d(p),$d(_));z2(W);var R=_m(a,W);z2(R);var M=(j^P>=0?-1:1)*Zi(R[2]);(r>M||r===M&&(W[0]||W[1]))&&(s+=j^P>=0?1:-1)}}return(o<-ze||o<ze&&l<-M2)^s&1}function Bre(e,t,n,r){return function(i){var a=t(i),o=Rre(),s=t(o),l=!1,u,c,f,d={point:p,lineStart:g,lineEnd:x,polygonStart:function(){d.point=v,d.lineStart=b,d.lineEnd=_,c=[],u=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=x,c=OQ(c);var k=HPe(u,r);c.length?(l||(i.polygonStart(),l=!0),zre(c,GPe,k,n,i)):k&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(k,E){e(k,E)&&i.point(k,E)}function m(k,E){a.point(k,E)}function g(){d.point=m,a.lineStart()}function x(){d.point=p,a.lineEnd()}function v(k,E){f.push([k,E]),s.point(k,E)}function b(){s.lineStart(),f=[]}function _(){v(f[0][0],f[0][1]),s.lineEnd();var k=s.clean(),E=o.result(),A,C=E.length,P,T,D;if(f.pop(),u.push(f),f=null,!!C){if(k&1){if(T=E[0],(P=T.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),A=0;A<P;++A)i.point((D=T[A])[0],D[1]);i.lineEnd()}return}C>1&&k&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(qPe))}}return d}}function qPe(e){return e.length>1}function GPe(e,t){return((e=e.x)[0]<0?e[1]-An-ze:An-e[1])-((t=t.x)[0]<0?t[1]-An-ze:An-t[1])}const X7=Bre(function(){return!0},VPe,YPe,[-st,-An]);function VPe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?st:-st,l=ht(a-t);ht(l-st)<ze?(e.point(t,n=(n+o)/2>0?An:-An),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&l>=st&&(ht(t-r)<ze&&(t-=r*ze),ht(a-s)<ze&&(a-=s*ze),n=XPe(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function XPe(e,t,n,r){var i,a,o=Fe(e-n);return ht(o)>ze?Og((Fe(t)*(a=Ue(r))*Fe(n)-Fe(r)*(i=Ue(t))*Fe(e))/(i*a*o)):(t+r)/2}function YPe(e,t,n,r){var i;if(e==null)i=n*An,r.point(-st,i),r.point(0,i),r.point(st,i),r.point(st,0),r.point(st,-i),r.point(0,-i),r.point(-st,-i),r.point(-st,0),r.point(-st,i);else if(ht(e[0]-t[0])>ze){var a=e[0]<t[0]?st:-st;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function KPe(e){var t=Ue(e),n=2*at,r=t>0,i=ht(t)>ze;function a(c,f,d,p){WPe(p,e,n,d,c,f)}function o(c,f){return Ue(c)*Ue(f)>t}function s(c){var f,d,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(x,v){var b=[x,v],_,k=o(x,v),E=r?k?0:u(x,v):k?u(x+(x<0?st:-st),v):0;if(!f&&(m=p=k)&&c.lineStart(),k!==p&&(_=l(f,b),(!_||lw(f,_)||lw(b,_))&&(b[2]=1)),k!==p)g=0,k?(c.lineStart(),_=l(b,f),c.point(_[0],_[1])):(_=l(f,b),c.point(_[0],_[1],2),c.lineEnd()),f=_;else if(i&&f&&r^k){var A;!(E&d)&&(A=l(b,f,!0))&&(g=0,r?(c.lineStart(),c.point(A[0][0],A[0][1]),c.point(A[1][0],A[1][1]),c.lineEnd()):(c.point(A[1][0],A[1][1]),c.lineEnd(),c.lineStart(),c.point(A[0][0],A[0][1],3)))}k&&(!f||!lw(f,b))&&c.point(b[0],b[1]),f=b,p=k,d=E},lineEnd:function(){p&&c.lineEnd(),f=null},clean:function(){return g|(m&&p)<<1}}}function l(c,f,d){var p=$d(c),m=$d(f),g=[1,0,0],x=_m(p,m),v=e_(x,x),b=x[0],_=v-b*b;if(!_)return!d&&c;var k=t*v/_,E=-t*b/_,A=_m(g,x),C=t_(g,k),P=t_(x,E);TP(C,P);var T=A,D=e_(C,T),j=e_(T,T),I=D*D-j*(e_(C,C)-1);if(!(I<0)){var W=Ei(I),R=t_(T,(-D-W)/j);if(TP(R,C),R=R2(R),!d)return R;var M=c[0],z=f[0],H=c[1],B=f[1],G;z<M&&(G=M,M=z,z=G);var N=z-M,Z=ht(N-st)<ze,Y=Z||N<ze;if(!Z&&B<H&&(G=H,H=B,B=G),Y?Z?H+B>0^R[1]<(ht(R[0]-M)<ze?H:B):H<=R[1]&&R[1]<=B:N>st^(M<=R[0]&&R[0]<=z)){var U=t_(T,(-D+W)/j);return TP(U,C),[R,R2(U)]}}}function u(c,f){var d=r?e:st-e,p=0;return c<-d?p|=1:c>d&&(p|=2),f<-d?p|=4:f>d&&(p|=8),p}return Bre(o,s,a,r?[0,-e]:[-st,e-st])}function ZPe(e,t,n,r,i,a){var o=e[0],s=e[1],l=t[0],u=t[1],c=0,f=1,d=l-o,p=u-s,m;if(m=n-o,!(!d&&m>0)){if(m/=d,d<0){if(m<c)return;m<f&&(f=m)}else if(d>0){if(m>f)return;m>c&&(c=m)}if(m=i-o,!(!d&&m<0)){if(m/=d,d<0){if(m>f)return;m>c&&(c=m)}else if(d>0){if(m<c)return;m<f&&(f=m)}if(m=r-s,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<f&&(f=m)}else if(p>0){if(m>f)return;m>c&&(c=m)}if(m=a-s,!(!p&&m<0)){if(m/=p,p<0){if(m>f)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<f&&(f=m)}return c>0&&(e[0]=o+c*d,e[1]=s+c*p),f<1&&(t[0]=o+f*d,t[1]=s+f*p),!0}}}}}var y0=1e9,r_=-y0;function Ure(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function a(u,c,f,d){var p=0,m=0;if(u==null||(p=o(u,f))!==(m=o(c,f))||l(u,c)<0^f>0)do d.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+f+4)%4)!==m);else d.point(c[0],c[1])}function o(u,c){return ht(u[0]-e)<ze?c>0?0:3:ht(u[0]-n)<ze?c>0?2:1:ht(u[1]-t)<ze?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var f=o(u,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=Rre(),d,p,m,g,x,v,b,_,k,E,A,C={point:P,lineStart:I,lineEnd:W,polygonStart:D,polygonEnd:j};function P(M,z){i(M,z)&&c.point(M,z)}function T(){for(var M=0,z=0,H=p.length;z<H;++z)for(var B=p[z],G=1,N=B.length,Z=B[0],Y,U,me=Z[0],le=Z[1];G<N;++G)Y=me,U=le,Z=B[G],me=Z[0],le=Z[1],U<=r?le>r&&(me-Y)*(r-U)>(le-U)*(e-Y)&&++M:le<=r&&(me-Y)*(r-U)<(le-U)*(e-Y)&&--M;return M}function D(){c=f,d=[],p=[],A=!0}function j(){var M=T(),z=A&&M,H=(d=OQ(d)).length;(z||H)&&(u.polygonStart(),z&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),H&&zre(d,s,M,a,u),u.polygonEnd()),c=u,d=p=m=null}function I(){C.point=R,p&&p.push(m=[]),E=!0,k=!1,b=_=NaN}function W(){d&&(R(g,x),v&&k&&f.rejoin(),d.push(f.result())),C.point=P,k&&c.lineEnd()}function R(M,z){var H=i(M,z);if(p&&m.push([M,z]),E)g=M,x=z,v=H,E=!1,H&&(c.lineStart(),c.point(M,z));else if(H&&k)c.point(M,z);else{var B=[b=Math.max(r_,Math.min(y0,b)),_=Math.max(r_,Math.min(y0,_))],G=[M=Math.max(r_,Math.min(y0,M)),z=Math.max(r_,Math.min(y0,z))];ZPe(B,G,e,t,n,r)?(k||(c.lineStart(),c.point(B[0],B[1])),c.point(G[0],G[1]),H||c.lineEnd(),A=!1):H&&(c.lineStart(),c.point(M,z),A=!1)}b=M,_=z,k=H}return C}}function Y7(e,t,n){var r=Ui(e,t-ze,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function K7(e,t,n){var r=Ui(e,t-ze,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function QPe(){var e,t,n,r,i,a,o,s,l=10,u=l,c=90,f=360,d,p,m,g,x=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return Ui(Jb(r/c)*c,n,c).map(m).concat(Ui(Jb(s/f)*f,o,f).map(g)).concat(Ui(Jb(t/l)*l,e,l).filter(function(_){return ht(_%c)>ze}).map(d)).concat(Ui(Jb(a/u)*u,i,u).filter(function(_){return ht(_%f)>ze}).map(p))}return v.lines=function(){return b().map(function(_){return{type:"LineString",coordinates:_}})},v.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(o).slice(1),m(n).reverse().slice(1),g(s).reverse().slice(1))]}},v.extent=function(_){return arguments.length?v.extentMajor(_).extentMinor(_):v.extentMinor()},v.extentMajor=function(_){return arguments.length?(r=+_[0][0],n=+_[1][0],s=+_[0][1],o=+_[1][1],r>n&&(_=r,r=n,n=_),s>o&&(_=s,s=o,o=_),v.precision(x)):[[r,s],[n,o]]},v.extentMinor=function(_){return arguments.length?(t=+_[0][0],e=+_[1][0],a=+_[0][1],i=+_[1][1],t>e&&(_=t,t=e,e=_),a>i&&(_=a,a=i,i=_),v.precision(x)):[[t,a],[e,i]]},v.step=function(_){return arguments.length?v.stepMajor(_).stepMinor(_):v.stepMinor()},v.stepMajor=function(_){return arguments.length?(c=+_[0],f=+_[1],v):[c,f]},v.stepMinor=function(_){return arguments.length?(l=+_[0],u=+_[1],v):[l,u]},v.precision=function(_){return arguments.length?(x=+_,d=Y7(a,i,90),p=K7(t,e,x),m=Y7(s,o,90),g=K7(r,n,x),v):x},v.extentMajor([[-180,-90+ze],[180,90-ze]]).extentMinor([[-180,-80-ze],[180,80+ze]])}const qv=e=>e;var MP=new _i,vM=new _i,Wre,Hre,xM,bM,zl={point:Ar,lineStart:Ar,lineEnd:Ar,polygonStart:function(){zl.lineStart=JPe,zl.lineEnd=t$e},polygonEnd:function(){zl.lineStart=zl.lineEnd=zl.point=Ar,MP.add(ht(vM)),vM=new _i},result:function(){var e=MP/2;return MP=new _i,e}};function JPe(){zl.point=e$e}function e$e(e,t){zl.point=qre,Wre=xM=e,Hre=bM=t}function qre(e,t){vM.add(bM*e-xM*t),xM=e,bM=t}function t$e(){qre(Wre,Hre)}var wm=1/0,X2=wm,Gv=-wm,Y2=Gv,K2={point:n$e,lineStart:Ar,lineEnd:Ar,polygonStart:Ar,polygonEnd:Ar,result:function(){var e=[[wm,X2],[Gv,Y2]];return Gv=Y2=-(X2=wm=1/0),e}};function n$e(e,t){e<wm&&(wm=e),e>Gv&&(Gv=e),t<X2&&(X2=t),t>Y2&&(Y2=t)}var _M=0,wM=0,v0=0,Z2=0,Q2=0,bp=0,SM=0,EM=0,x0=0,Gre,Vre,Ps,$s,Va={point:Td,lineStart:Z7,lineEnd:Q7,polygonStart:function(){Va.lineStart=a$e,Va.lineEnd=o$e},polygonEnd:function(){Va.point=Td,Va.lineStart=Z7,Va.lineEnd=Q7},result:function(){var e=x0?[SM/x0,EM/x0]:bp?[Z2/bp,Q2/bp]:v0?[_M/v0,wM/v0]:[NaN,NaN];return _M=wM=v0=Z2=Q2=bp=SM=EM=x0=0,e}};function Td(e,t){_M+=e,wM+=t,++v0}function Z7(){Va.point=r$e}function r$e(e,t){Va.point=i$e,Td(Ps=e,$s=t)}function i$e(e,t){var n=e-Ps,r=t-$s,i=Ei(n*n+r*r);Z2+=i*(Ps+e)/2,Q2+=i*($s+t)/2,bp+=i,Td(Ps=e,$s=t)}function Q7(){Va.point=Td}function a$e(){Va.point=s$e}function o$e(){Xre(Gre,Vre)}function s$e(e,t){Va.point=Xre,Td(Gre=Ps=e,Vre=$s=t)}function Xre(e,t){var n=e-Ps,r=t-$s,i=Ei(n*n+r*r);Z2+=i*(Ps+e)/2,Q2+=i*($s+t)/2,bp+=i,i=$s*e-Ps*t,SM+=i*(Ps+e),EM+=i*($s+t),x0+=i*3,Td(Ps=e,$s=t)}function Yre(e){this._context=e}Yre.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Si);break}}},result:Ar};var AM=new _i,DP,Kre,Zre,b0,_0,Vv={point:Ar,lineStart:function(){Vv.point=l$e},lineEnd:function(){DP&&Qre(Kre,Zre),Vv.point=Ar},polygonStart:function(){DP=!0},polygonEnd:function(){DP=null},result:function(){var e=+AM;return AM=new _i,e}};function l$e(e,t){Vv.point=Qre,Kre=b0=e,Zre=_0=t}function Qre(e,t){b0-=e,_0-=t,AM.add(Ei(b0*b0+_0*_0)),b0=e,_0=t}let J7,J2,eU,tU;class nU{constructor(t){this._append=t==null?Jre:u$e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==eU||this._append!==J2){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,eU=r,J2=this._append,tU=this._,this._=i}this._+=tU;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Jre(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function u$e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Jre;if(t!==J7){const n=10**t;J7=t,J2=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return J2}function eie(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Rl(s,i(a))),a.result()}return o.area=function(s){return Rl(s,i(zl)),zl.result()},o.measure=function(s){return Rl(s,i(Vv)),Vv.result()},o.bounds=function(s){return Rl(s,i(K2)),K2.result()},o.centroid=function(s){return Rl(s,i(Va)),Va.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,qv):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new nU(n)):new Yre(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(a=new nU(n)),o},o.projection(e).digits(n).context(t)}function UA(e){return function(t){var n=new kM;for(var r in e)n[r]=e[r];return n.stream=t,n}}function kM(){}kM.prototype={constructor:kM,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function iR(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Rl(n,e.stream(K2)),t(K2.result()),r!=null&&e.clipExtent(r),e}function WA(e,t,n){return iR(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function aR(e,t,n){return WA(e,[[0,0],t],n)}function oR(e,t,n){return iR(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function sR(e,t,n){return iR(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var rU=16,c$e=Ue(30*at);function iU(e,t){return+t?d$e(e,t):f$e(e)}function f$e(e){return UA({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function d$e(e,t){function n(r,i,a,o,s,l,u,c,f,d,p,m,g,x){var v=u-r,b=c-i,_=v*v+b*b;if(_>4*t&&g--){var k=o+d,E=s+p,A=l+m,C=Ei(k*k+E*E+A*A),P=Zi(A/=C),T=ht(ht(A)-1)<ze||ht(a-f)<ze?(a+f)/2:co(E,k),D=e(T,P),j=D[0],I=D[1],W=j-r,R=I-i,M=b*W-v*R;(M*M/_>t||ht((v*W+b*R)/_-.5)>.3||o*d+s*p+l*m<c$e)&&(n(r,i,a,o,s,l,j,I,T,k/=C,E/=C,A,g,x),x.point(j,I),n(j,I,T,k,E,A,u,c,f,d,p,m,g,x))}}return function(r){var i,a,o,s,l,u,c,f,d,p,m,g,x={point:v,lineStart:b,lineEnd:k,polygonStart:function(){r.polygonStart(),x.lineStart=E},polygonEnd:function(){r.polygonEnd(),x.lineStart=b}};function v(P,T){P=e(P,T),r.point(P[0],P[1])}function b(){f=NaN,x.point=_,r.lineStart()}function _(P,T){var D=$d([P,T]),j=e(P,T);n(f,d,c,p,m,g,f=j[0],d=j[1],c=P,p=D[0],m=D[1],g=D[2],rU,r),r.point(f,d)}function k(){x.point=v,r.lineEnd()}function E(){b(),x.point=A,x.lineEnd=C}function A(P,T){_(i=P,T),a=f,o=d,s=p,l=m,u=g,x.point=_}function C(){n(f,d,c,p,m,g,a,o,i,s,l,u,rU,r),x.lineEnd=k,k()}return x}}var h$e=UA({point:function(e,t){this.stream.point(e*at,t*at)}});function p$e(e){return UA({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function m$e(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function aU(e,t,n,r,i,a){if(!a)return m$e(e,t,n,r,i);var o=Ue(a),s=Fe(a),l=o*e,u=s*e,c=o/e,f=s/e,d=(s*n-o*t)/e,p=(s*t+o*n)/e;function m(g,x){return g*=r,x*=i,[l*g-u*x+t,n-u*g-l*x]}return m.invert=function(g,x){return[r*(c*g-f*x+d),i*(p-f*g-c*x)]},m}function ll(e){return tie(function(){return e})()}function tie(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,l=0,u=0,c,f=0,d=1,p=1,m=null,g=X7,x=null,v,b,_,k=qv,E=.5,A,C,P,T,D;function j(M){return P(M[0]*at,M[1]*at)}function I(M){return M=P.invert(M[0],M[1]),M&&[M[0]*On,M[1]*On]}j.stream=function(M){return T&&D===M?T:T=h$e(p$e(c)(g(A(k(D=M)))))},j.preclip=function(M){return arguments.length?(g=M,m=void 0,R()):g},j.postclip=function(M){return arguments.length?(k=M,x=v=b=_=null,R()):k},j.clipAngle=function(M){return arguments.length?(g=+M?KPe(m=M*at):(m=null,X7),R()):m*On},j.clipExtent=function(M){return arguments.length?(k=M==null?(x=v=b=_=null,qv):Ure(x=+M[0][0],v=+M[0][1],b=+M[1][0],_=+M[1][1]),R()):x==null?null:[[x,v],[b,_]]},j.scale=function(M){return arguments.length?(n=+M,W()):n},j.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],W()):[r,i]},j.center=function(M){return arguments.length?(a=M[0]%360*at,o=M[1]%360*at,W()):[a*On,o*On]},j.rotate=function(M){return arguments.length?(s=M[0]%360*at,l=M[1]%360*at,u=M.length>2?M[2]%360*at:0,W()):[s*On,l*On,u*On]},j.angle=function(M){return arguments.length?(f=M%360*at,W()):f*On},j.reflectX=function(M){return arguments.length?(d=M?-1:1,W()):d<0},j.reflectY=function(M){return arguments.length?(p=M?-1:1,W()):p<0},j.precision=function(M){return arguments.length?(A=iU(C,E=M*M),R()):Ei(E)},j.fitExtent=function(M,z){return WA(j,M,z)},j.fitSize=function(M,z){return aR(j,M,z)},j.fitWidth=function(M,z){return oR(j,M,z)},j.fitHeight=function(M,z){return sR(j,M,z)};function W(){var M=aU(n,0,0,d,p,f).apply(null,t(a,o)),z=aU(n,r-M[0],i-M[1],d,p,f);return c=Fre(s,l,u),C=gM(t,z),P=gM(c,C),A=iU(C,E),R()}function R(){return T=D=null,j}return function(){return t=e.apply(this,arguments),j.invert=t.invert&&I,W()}}function lR(e){var t=0,n=st/3,r=tie(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*at,n=a[1]*at):[t*On,n*On]},i}function g$e(e){var t=Ue(e);function n(r,i){return[r*t,Fe(i)/t]}return n.invert=function(r,i){return[r/t,Zi(i*t)]},n}function y$e(e,t){var n=Fe(e),r=(n+Fe(t))/2;if(ht(r)<ze)return g$e(e);var i=1+n*(2*r-n),a=Ei(i)/r;function o(s,l){var u=Ei(i-2*r*Fe(l))/r;return[u*Fe(s*=r),a-u*Ue(s)]}return o.invert=function(s,l){var u=a-l,c=co(s,ht(u))*Za(u);return u*r<0&&(c-=st*Za(s)*Za(u)),[c/r,Zi((i-(s*s+u*u)*r*r)/(2*r))]},o}function eS(){return lR(y$e).scale(155.424).center([0,33.6442])}function nie(){return eS().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function v$e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function x$e(){var e,t,n=nie(),r,i=eS().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=eS().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(d,p){l=[d,p]}};function c(d){var p=d[0],m=d[1];return l=null,r.point(p,m),l||(a.point(p,m),l)||(s.point(p,m),l)}c.invert=function(d){var p=n.scale(),m=n.translate(),g=(d[0]-m[0])/p,x=(d[1]-m[1])/p;return(x>=.12&&x<.234&&g>=-.425&&g<-.214?i:x>=.166&&x<.234&&g>=-.214&&g<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=v$e([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var p=n.scale(),m=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(u),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+ze,g+.12*p+ze],[m-.214*p-ze,g+.234*p-ze]]).stream(u),s=o.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+ze,g+.166*p+ze],[m-.115*p-ze,g+.234*p-ze]]).stream(u),f()},c.fitExtent=function(d,p){return WA(c,d,p)},c.fitSize=function(d,p){return aR(c,d,p)},c.fitWidth=function(d,p){return oR(c,d,p)},c.fitHeight=function(d,p){return sR(c,d,p)};function f(){return e=t=null,c}return c.scale(1070)}function rie(e){return function(t,n){var r=Ue(t),i=Ue(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Fe(t),a*Fe(n)]}}function Ex(e){return function(t,n){var r=Ei(t*t+n*n),i=e(r),a=Fe(i),o=Ue(i);return[co(t*a,r*o),Zi(r&&n*a/r)]}}var iie=rie(function(e){return Ei(2/(1+e))});iie.invert=Ex(function(e){return 2*Zi(e/2)});function b$e(){return ll(iie).scale(124.75).clipAngle(180-.001)}var aie=rie(function(e){return(e=Cre(e))&&e/Fe(e)});aie.invert=Ex(function(e){return e});function _$e(){return ll(aie).scale(79.4188).clipAngle(180-.001)}function HA(e,t){return[e,j2(nR((An+t)/2))]}HA.invert=function(e,t){return[e,2*Og(kre(t))-An]};function w$e(){return oie(HA).scale(961/Si)}function oie(e){var t=ll(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=s=l=u=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var f=st*r(),d=t(UPe(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===HA?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),u]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,u)]])}return c()}function i_(e){return nR((An+e)/2)}function S$e(e,t){var n=Ue(e),r=e===t?Fe(e):j2(n/Ue(t))/j2(i_(t)/i_(e)),i=n*$P(i_(e),r)/r;if(!r)return HA;function a(o,s){i>0?s<-An+ze&&(s=-An+ze):s>An-ze&&(s=An-ze);var l=i/$P(i_(s),r);return[l*Fe(r*o),i-l*Ue(r*o)]}return a.invert=function(o,s){var l=i-s,u=Za(r)*Ei(o*o+l*l),c=co(o,ht(l))*Za(l);return l*r<0&&(c-=st*Za(o)*Za(l)),[c/r,2*Og($P(i/u,1/r))-An]},a}function E$e(){return lR(S$e).scale(109.5).parallels([30,30])}function tS(e,t){return[e,t]}tS.invert=tS;function A$e(){return ll(tS).scale(152.63)}function k$e(e,t){var n=Ue(e),r=e===t?Fe(e):(n-Ue(t))/(t-e),i=n/r+e;if(ht(r)<ze)return tS;function a(o,s){var l=i-s,u=r*o;return[l*Fe(u),i-l*Ue(u)]}return a.invert=function(o,s){var l=i-s,u=co(o,ht(l))*Za(l);return l*r<0&&(u-=st*Za(o)*Za(l)),[u/r,i-Za(r)*Ei(o*o+l*l)]},a}function C$e(){return lR(k$e).scale(131.154).center([0,13.9389])}var K0=1.340264,Z0=-.081106,Q0=893e-6,J0=.003796,nS=Ei(3)/2,O$e=12;function sie(e,t){var n=Zi(nS*Fe(t)),r=n*n,i=r*r*r;return[e*Ue(n)/(nS*(K0+3*Z0*r+i*(7*Q0+9*J0*r))),n*(K0+Z0*r+i*(Q0+J0*r))]}sie.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,l;a<O$e&&(s=n*(K0+Z0*r+i*(Q0+J0*r))-t,l=K0+3*Z0*r+i*(7*Q0+9*J0*r),n-=o=s/l,r=n*n,i=r*r*r,!(ht(o)<M2));++a);return[nS*e*(K0+3*Z0*r+i*(7*Q0+9*J0*r))/Ue(n),Zi(Fe(n)/nS)]};function P$e(){return ll(sie).scale(177.158)}function lie(e,t){var n=Ue(t),r=Ue(e)*n;return[n*Fe(e)/r,Fe(t)/r]}lie.invert=Ex(Og);function $$e(){return ll(lie).scale(144.049).clipAngle(60)}function T$e(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,l=null,u,c,f,d=1,p=1,m=UA({point:function(k,E){var A=_([k,E]);this.stream.point(A[0],A[1])}}),g=qv,x,v;function b(){return d=e*r,p=e*i,x=v=null,_}function _(k){var E=k[0]*d,A=k[1]*p;if(a){var C=A*o-E*s;E=E*o+A*s,A=C}return[E+t,A+n]}return _.invert=function(k){var E=k[0]-t,A=k[1]-n;if(a){var C=A*o+E*s;E=E*o-A*s,A=C}return[E/d,A/p]},_.stream=function(k){return x&&v===k?x:x=m(g(v=k))},_.postclip=function(k){return arguments.length?(g=k,l=u=c=f=null,b()):g},_.clipExtent=function(k){return arguments.length?(g=k==null?(l=u=c=f=null,qv):Ure(l=+k[0][0],u=+k[0][1],c=+k[1][0],f=+k[1][1]),b()):l==null?null:[[l,u],[c,f]]},_.scale=function(k){return arguments.length?(e=+k,b()):e},_.translate=function(k){return arguments.length?(t=+k[0],n=+k[1],b()):[t,n]},_.angle=function(k){return arguments.length?(a=k%360*at,s=Fe(a),o=Ue(a),b()):a*On},_.reflectX=function(k){return arguments.length?(r=k?-1:1,b()):r<0},_.reflectY=function(k){return arguments.length?(i=k?-1:1,b()):i<0},_.fitExtent=function(k,E){return WA(_,k,E)},_.fitSize=function(k,E){return aR(_,k,E)},_.fitWidth=function(k,E){return oR(_,k,E)},_.fitHeight=function(k,E){return sR(_,k,E)},_}function uie(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}uie.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(ht(i)>ze&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function N$e(){return ll(uie).scale(175.295)}function cie(e,t){return[Ue(t)*Fe(e),Fe(t)]}cie.invert=Ex(Zi);function M$e(){return ll(cie).scale(249.5).clipAngle(90+ze)}function fie(e,t){var n=Ue(t),r=1+Ue(e)*n;return[n*Fe(e)/r,Fe(t)/r]}fie.invert=Ex(function(e){return 2*Og(e)});function D$e(){return ll(fie).scale(250).clipAngle(142)}function die(e,t){return[j2(nR((An+t)/2)),-e]}die.invert=function(e,t){return[-t,2*Og(kre(e))-An]};function j$e(){var e=oie(die),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var I$e=Math.abs,CM=Math.cos,rS=Math.sin,L$e=1e-6,hie=Math.PI,OM=hie/2,oU=F$e(2);function sU(e){return e>1?OM:e<-1?-OM:Math.asin(e)}function F$e(e){return e>0?Math.sqrt(e):0}function R$e(e,t){var n=e*rS(t),r=30,i;do t-=i=(t+rS(t)-n)/(1+CM(t));while(I$e(i)>L$e&&--r>0);return t/2}function z$e(e,t,n){function r(i,a){return[e*i*CM(a=R$e(n,a)),t*rS(a)]}return r.invert=function(i,a){return a=sU(a/t),[i/(e*CM(a)),sU((2*a+rS(2*a))/n)]},r}var B$e=z$e(oU/OM,oU,hie);function U$e(){return ll(B$e).scale(169.529)}const W$e=eie(),PM=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function H$e(e,t){return function n(){const r=t();return r.type=e,r.path=eie().projection(r),r.copy=r.copy||function(){const i=n();return PM.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},Ote(r)}}function uR(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(iS[e]=H$e(e,t),this):iS[e]||null}function pie(e){return e&&e.path||W$e}const iS={albers:nie,albersusa:x$e,azimuthalequalarea:b$e,azimuthalequidistant:_$e,conicconformal:E$e,conicequalarea:eS,conicequidistant:C$e,equalEarth:P$e,equirectangular:A$e,gnomonic:$$e,identity:T$e,mercator:w$e,mollweide:U$e,naturalEarth1:N$e,orthographic:M$e,stereographic:D$e,transversemercator:j$e};for(const e in iS)uR(e,iS[e]);function q$e(){}const Cl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function mie(){var e=1,t=1,n=s;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return a(l,u,d=>{n(d,l,u),G$e(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var p=0,m=c.length,g;p<m;++p)if(V$e((g=c[p])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function a(l,u,c){var f=[],d=[],p,m,g,x,v,b;for(p=m=-1,x=l[0]>=u,Cl[x<<1].forEach(_);++p<e-1;)g=x,x=l[p+1]>=u,Cl[g|x<<1].forEach(_);for(Cl[x<<0].forEach(_);++m<t-1;){for(p=-1,x=l[m*e+e]>=u,v=l[m*e]>=u,Cl[x<<1|v<<2].forEach(_);++p<e-1;)g=x,x=l[m*e+e+p+1]>=u,b=v,v=l[m*e+p+1]>=u,Cl[g|x<<1|v<<2|b<<3].forEach(_);Cl[x|v<<3].forEach(_)}for(p=-1,v=l[m*e]>=u,Cl[v<<2].forEach(_);++p<e-1;)b=v,v=l[m*e+p+1]>=u,Cl[v<<2|b<<3].forEach(_);Cl[v<<3].forEach(_);function _(k){var E=[k[0][0]+p,k[0][1]+m],A=[k[1][0]+p,k[1][1]+m],C=o(E),P=o(A),T,D;(T=d[C])?(D=f[P])?(delete d[T.end],delete f[D.start],T===D?(T.ring.push(A),c(T.ring)):f[T.start]=d[D.end]={start:T.start,end:D.end,ring:T.ring.concat(D.ring)}):(delete d[T.end],T.ring.push(A),d[T.end=P]=T):(T=f[P])?(D=d[C])?(delete f[T.start],delete d[D.end],T===D?(T.ring.push(A),c(T.ring)):f[D.start]=d[T.end]={start:D.start,end:T.end,ring:D.ring.concat(T.ring)}):(delete f[T.start],T.ring.unshift(E),f[T.start=C]=T):f[C]=d[P]={start:C,end:P,ring:[E,A]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function s(l,u,c){l.forEach(f=>{var d=f[0],p=f[1],m=d|0,g=p|0,x,v=u[g*e+m];d>0&&d<e&&m===d&&(x=u[g*e+m-1],f[0]=d+(c-x)/(v-x)-.5),p>0&&p<t&&g===p&&(x=u[(g-1)*e+m],f[1]=p+(c-x)/(v-x)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||ee("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?s:q$e,r):n===s},r}function G$e(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function V$e(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=X$e(e,t[n]))return i;return 0}function X$e(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],u=l[0],c=l[1],f=e[s],d=f[0],p=f[1];if(Y$e(l,f,t))return 0;c>r!=p>r&&n<(d-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function Y$e(e,t,n){var r;return K$e(e,t,n)&&Z$e(e[r=+(e[0]===t[0])],n[r],t[r])}function K$e(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Z$e(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function gie(e,t,n){return function(r){var i=Ys(r),a=n?Math.min(i[0],0):i[0],o=i[1],s=o-a,l=t?Mc(a,o,e):s/(e+1);return Ui(a+l,o,l)}}function cR(e){J.call(this,null,e)}cR.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};xe(cR,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ei,a=mie().smooth(e.smooth!==!1),o=e.thresholds||Q$e(r,i,e),s=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=a.size([c.width,c.height])(c.values,ae(o)?o:o(c.values));J$e(f,c,u,e),f.forEach(d=>{l.push(rA(u,Pt(s!=null?{[s]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Q$e(e,t,n){const r=gie(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>sd(t(i).values)))}function J$e(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(et(i)&&(i=i(n,r)),et(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const o=(St(i)?i:i[0])||1,s=(St(i)?i:i[1])||1,l=a&&a[0]||0,u=a&&a[1]||0;e.forEach(yie(t,o,s,l,u))}function yie(e,t,n,r,i){const a=e.x1||0,o=e.y1||0,s=t*n<0;function l(f){f.forEach(u)}function u(f){s&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-a)*t+r,f[1]=(f[1]-o)*n+i}return function(f){return f.coordinates.forEach(l),f}}function lU(e,t,n){const r=e>=0?e:G3(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function jP(e){return et(e)?e:ti(+e)}function vie(){var e=l=>l[0],t=l=>l[1],n=pg,r=[-1,-1],i=960,a=500,o=2;function s(l,u){const c=lU(r[0],l,e)>>o,f=lU(r[1],l,t)>>o,d=c?c+2:0,p=f?f+2:0,m=2*d+(i>>o),g=2*p+(a>>o),x=new Float32Array(m*g),v=new Float32Array(m*g);let b=x;l.forEach(k=>{const E=d+(+e(k)>>o),A=p+(+t(k)>>o);E>=0&&E<m&&A>=0&&A<g&&(x[E+A*m]+=+n(k))}),c>0&&f>0?(Wh(m,g,x,v,c),Hh(m,g,v,x,f),Wh(m,g,x,v,c),Hh(m,g,v,x,f),Wh(m,g,x,v,c),Hh(m,g,v,x,f)):c>0?(Wh(m,g,x,v,c),Wh(m,g,v,x,c),Wh(m,g,x,v,c),b=v):f>0&&(Hh(m,g,x,v,f),Hh(m,g,v,x,f),Hh(m,g,x,v,f),b=v);const _=u?Math.pow(2,-2*o):1/PQ(b);for(let k=0,E=m*g;k<E;++k)b[k]*=_;return{values:b,scale:1<<o,width:m,height:g,x1:d,y1:p,x2:d+(i>>o),y2:p+(a>>o)}}return s.x=function(l){return arguments.length?(e=jP(l),s):e},s.y=function(l){return arguments.length?(t=jP(l),s):t},s.weight=function(l){return arguments.length?(n=jP(l),s):n},s.size=function(l){if(!arguments.length)return[i,a];var u=+l[0],c=+l[1];return u>=0&&c>=0||ee("invalid size"),i=u,a=c,s},s.cellSize=function(l){return arguments.length?((l=+l)>=1||ee("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),s):1<<o},s.bandwidth=function(l){return arguments.length?(l=Ae(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&ee("invalid bandwidth"),r=l,s):r},s}function Wh(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<t;++o)for(let s=0,l=0;s<e+i;++s)s<e&&(l+=n[s+o*e]),s>=i&&(s>=a&&(l-=n[s-a+o*e]),r[s-i+o*e]=l/Math.min(s+1,e-1+a-s,a))}function Hh(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<e;++o)for(let s=0,l=0;s<t+i;++s)s<t&&(l+=n[o+s*e]),s>=i&&(s>=a&&(l-=n[o+(s-a)*e]),r[o+(s-i)*e]=l/Math.min(s+1,t-1+a-s,a))}function fR(e){J.call(this,null,e)}fR.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const eTe=["x","y","weight","size","cellSize","bandwidth"];function xie(e,t){return eTe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}xe(fR,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=tTe(r,e.groupby),a=(e.groupby||[]).map(kn),o=xie(vie(),e),s=e.as||"grid",l=[];function u(c,f){for(let d=0;d<a.length;++d)c[a[d]]=f[d];return c}return l=i.map(c=>Pt(u({[s]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function tTe(e,t){var n=[],r=c=>c(s),i,a,o,s,l,u;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(s);return n}function dR(e){J.call(this,null,e)}dR.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};xe(dR,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=mie().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||gie(e.count||10,e.nice,!!i),o=e.size,s,l;return i||(i=t.materialize(t.SOURCE).source,s=xie(vie(),e)(i,!0),l=yie(s,s.scale||1,s.scale||1,0,0),o=[s.width,s.height],i=s.values),a=ae(a)?a:a(i),i=r.size(o)(i,a),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Pt),n}});const $M="Feature",hR="FeatureCollection",nTe="MultiPoint";function pR(e){J.call(this,null,e)}pR.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};xe(pR,J,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],o=i&&i[1],s=e.geojson||!i&&ei,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Vr(s))||a&&t.modified(Vr(a))||o&&t.modified(Vr(o)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),s&&t.visit(l,c=>n.push(s(c))),a&&o&&(t.visit(l,c=>{var f=a(c),d=o(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:$M,geometry:{type:nTe,coordinates:r}})),this.value={type:hR,features:n}}});function mR(e){J.call(this,null,e)}mR.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};xe(mR,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ei,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=pie(e.projection),n.materialize().reflow()):o=i===ei||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=rTe(r,e.pointRadius);return n.visit(o,l=>l[a]=r(i(l))),r.pointRadius(s),n.modifies(a)}});function rTe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function gR(e){J.call(this,null,e)}gR.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};xe(gR,J,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],o=a[0],s=a[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[o]=f[0],c[s]=f[1]):(c[o]=void 0,c[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(a)}});function yR(e){J.call(this,null,e)}yR.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};xe(yR,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=iTe(pie(e.projection),e.field||oo("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,o=>o[i]=r),n.modifies(i)}});function iTe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(a),o};return r.context=i=>(e.context(i),r),r}function vR(e){J.call(this,[],e),this.generator=QPe()}vR.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};xe(vR,J,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)et(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(SJ(n[0],i)):t.add.push(Pt(i)),n[0]=i,t}});function xR(e){J.call(this,null,e)}xR.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};xe(xR,J,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ei,a=oTe(e.opacity,e),o=aTe(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?sd(n.map(u=>sd(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Je({},u,l);r||(f.$max=sd(c.values||[])),u[s]=sTe(c,f,o.dep?o:ti(o(f)),a.dep?a:ti(a(f)))}),t.reflow(!0).modifies(s)}});function aTe(e,t){let n;return et(e)?(n=r=>Lc(e(r,t)),n.dep=bie(e)):n=ti(Lc(e||"#888")),n}function oTe(e,t){let n;return et(e)?(n=r=>e(r,t),n.dep=bie(e)):e?n=ti(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function bie(e){if(!et(e))return!1;const t=Yo(Vr(e));return t.$x||t.$y||t.$value||t.$max}function sTe(e,t,n,r){const i=e.width,a=e.height,o=e.x1||0,s=e.y1||0,l=e.x2||i,u=e.y2||a,c=e.values,f=c?x=>c[x]:nc,d=Oc(l-o,u-s),p=d.getContext("2d"),m=p.getImageData(0,0,l-o,u-s),g=m.data;for(let x=s,v=0;x<u;++x){t.$y=x-s;for(let b=o,_=x*i;b<l;++b,v+=4){t.$x=b-o,t.$value=f(b+_);const k=n(t);g[v+0]=k.r,g[v+1]=k.g,g[v+2]=k.b,g[v+3]=~~(255*r(t))}}return p.putImageData(m,0,0),d}function _ie(e){J.call(this,null,e),this.modified(!0)}xe(_ie,J,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=uTe(e.type),PM.forEach(r=>{e[r]!=null&&uU(n,r,e[r])})):PM.forEach(r=>{e.modified(r)&&uU(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&lTe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function lTe(e,t){const n=cTe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function uTe(e){const t=uR((e||"mercator").toLowerCase());return t||ee("Unrecognized projection type: "+e),t()}function uU(e,t,n){et(e[t])&&e[t](n)}function cTe(e){return e=Ae(e),e.length===1?e[0]:{type:hR,features:e.reduce((t,n)=>t.concat(fTe(n)),[])}}function fTe(e){return e.type===hR?e.features:Ae(e).filter(t=>t!=null).map(t=>t.type===$M?t:{type:$M,geometry:t})}const dTe=Object.freeze(Object.defineProperty({__proto__:null,contour:dR,geojson:pR,geopath:mR,geopoint:gR,geoshape:yR,graticule:vR,heatmap:xR,isocontour:cR,kde2d:fR,projection:_ie},Symbol.toStringTag,{value:"Module"}));function hTe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,l=0,u=0;for(a=0;a<o;++a)s=n[a],l+=s.x,u+=s.y;for(l=(l/o-e)*r,u=(u/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function pTe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return wie(this.cover(t,n),t,n,e)}function wie(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,p,m,g,x,v,b;if(!a)return e._root=o,e;for(;a.length;)if((g=t>=(f=(s+u)/2))?s=f:u=f,(x=n>=(d=(l+c)/2))?l=d:c=d,i=a,!(a=a[v=x<<1|g]))return i[v]=o,e;if(p=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===p&&n===m)return o.next=a,i?i[v]=o:e._root=o,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(g=t>=(f=(s+u)/2))?s=f:u=f,(x=n>=(d=(l+c)/2))?l=d:c=d;while((v=x<<1|g)===(b=(m>=d)<<1|p>=f));return i[b]=a,i[v]=o,e}function mTe(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>f&&(f=a));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)wie(this,o[n],s[n],e[n]);return this}function gTe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,l,u;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function yTe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function vTe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function pi(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function xTe(e,t,n){var r,i=this._x0,a=this._y0,o,s,l,u,c=this._x1,f=this._y1,d=[],p=this._root,m,g;for(p&&d.push(new pi(p,i,a,c,f)),n==null?n=1/0:(i=e-n,a=t-n,c=e+n,f=t+n,n*=n);m=d.pop();)if(!(!(p=m.node)||(o=m.x0)>c||(s=m.y0)>f||(l=m.x1)<i||(u=m.y1)<a))if(p.length){var x=(o+l)/2,v=(s+u)/2;d.push(new pi(p[3],x,v,l,u),new pi(p[2],o,v,x,u),new pi(p[1],x,s,l,v),new pi(p[0],o,s,x,v)),(g=(t>=v)<<1|e>=x)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=m)}else{var b=e-+this._x.call(null,p.data),_=t-+this._y.call(null,p.data),k=b*b+_*_;if(k<n){var E=Math.sqrt(n=k);i=e-E,a=t-E,c=e+E,f=t+E,r=p.data}}return r}function bTe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,p,m,g,x,v;if(!n)return this;if(n.length)for(;;){if((m=c>=(d=(o+l)/2))?o=d:l=d,(g=f>=(p=(s+u)/2))?s=p:u=p,t=n,!(n=n[x=g<<1|m]))return this;if(!n.length)break;(t[x+1&3]||t[x+2&3]||t[x+3&3])&&(r=t,v=x)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[x]=a:delete t[x],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=a,this)}function _Te(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function wTe(){return this._root}function STe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function ETe(e){var t=[],n,r=this._root,i,a,o,s,l;for(r&&t.push(new pi(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(a+s)/2,c=(o+l)/2;(i=r[3])&&t.push(new pi(i,u,c,s,l)),(i=r[2])&&t.push(new pi(i,a,c,u,l)),(i=r[1])&&t.push(new pi(i,u,o,s,c)),(i=r[0])&&t.push(new pi(i,a,o,u,c))}return this}function ATe(e){var t=[],n=[],r;for(this._root&&t.push(new pi(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,f=(s+u)/2;(a=i[0])&&t.push(new pi(a,o,s,c,f)),(a=i[1])&&t.push(new pi(a,c,s,l,f)),(a=i[2])&&t.push(new pi(a,o,f,c,u)),(a=i[3])&&t.push(new pi(a,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function kTe(e){return e[0]}function CTe(e){return arguments.length?(this._x=e,this):this._x}function OTe(e){return e[1]}function PTe(e){return arguments.length?(this._y=e,this):this._y}function bR(e,t,n){var r=new _R(t??kTe,n??OTe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function _R(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function cU(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Oi=bR.prototype=_R.prototype;Oi.copy=function(){var e=new _R(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=cU(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=cU(r));return e};Oi.add=pTe;Oi.addAll=mTe;Oi.cover=gTe;Oi.data=yTe;Oi.extent=vTe;Oi.find=xTe;Oi.remove=bTe;Oi.removeAll=_Te;Oi.root=wTe;Oi.size=STe;Oi.visit=ETe;Oi.visitAfter=ATe;Oi.x=CTe;Oi.y=PTe;function gi(e){return function(){return e}}function dc(e){return(e()-.5)*1e-6}function $Te(e){return e.x+e.vx}function TTe(e){return e.y+e.vy}function NTe(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=gi(e==null?1:+e));function o(){for(var u,c=t.length,f,d,p,m,g,x,v=0;v<a;++v)for(f=bR(t,$Te,TTe).visitAfter(s),u=0;u<c;++u)d=t[u],g=n[d.index],x=g*g,p=d.x+d.vx,m=d.y+d.vy,f.visit(b);function b(_,k,E,A,C){var P=_.data,T=_.r,D=g+T;if(P){if(P.index>d.index){var j=p-P.x-P.vx,I=m-P.y-P.vy,W=j*j+I*I;W<D*D&&(j===0&&(j=dc(r),W+=j*j),I===0&&(I=dc(r),W+=I*I),W=(D-(W=Math.sqrt(W)))/W*i,d.vx+=(j*=W)*(D=(T*=T)/(x+T)),d.vy+=(I*=W)*D,P.vx-=j*(D=1-D),P.vy-=I*D)}return}return k>p+D||A<p-D||E>m+D||C<m-D}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:gi(+u),l(),o):e},o}function MTe(e){return e.index}function fU(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function DTe(e){var t=MTe,n=f,r,i=gi(30),a,o,s,l,u,c=1;e==null&&(e=[]);function f(x){return 1/Math.min(s[x.source.index],s[x.target.index])}function d(x){for(var v=0,b=e.length;v<c;++v)for(var _=0,k,E,A,C,P,T,D;_<b;++_)k=e[_],E=k.source,A=k.target,C=A.x+A.vx-E.x-E.vx||dc(u),P=A.y+A.vy-E.y-E.vy||dc(u),T=Math.sqrt(C*C+P*P),T=(T-a[_])/T*x*r[_],C*=T,P*=T,A.vx-=C*(D=l[_]),A.vy-=P*D,E.vx+=C*(D=1-D),E.vy+=P*D}function p(){if(o){var x,v=o.length,b=e.length,_=new Map(o.map((E,A)=>[t(E,A,o),E])),k;for(x=0,s=new Array(v);x<b;++x)k=e[x],k.index=x,typeof k.source!="object"&&(k.source=fU(_,k.source)),typeof k.target!="object"&&(k.target=fU(_,k.target)),s[k.source.index]=(s[k.source.index]||0)+1,s[k.target.index]=(s[k.target.index]||0)+1;for(x=0,l=new Array(b);x<b;++x)k=e[x],l[x]=s[k.source.index]/(s[k.source.index]+s[k.target.index]);r=new Array(b),m(),a=new Array(b),g()}}function m(){if(o)for(var x=0,v=e.length;x<v;++x)r[x]=+n(e[x],x,e)}function g(){if(o)for(var x=0,v=e.length;x<v;++x)a[x]=+i(e[x],x,e)}return d.initialize=function(x,v){o=x,u=v,p()},d.links=function(x){return arguments.length?(e=x,p(),d):e},d.id=function(x){return arguments.length?(t=x,d):t},d.iterations=function(x){return arguments.length?(c=+x,d):c},d.strength=function(x){return arguments.length?(n=typeof x=="function"?x:gi(+x),m(),d):n},d.distance=function(x){return arguments.length?(i=typeof x=="function"?x:gi(+x),g(),d):i},d}var jTe={value:()=>{}};function Sie(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uw(n)}function uw(e){this._=e}function ITe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uw.prototype=Sie.prototype={constructor:uw,on:function(e,t){var n=this._,r=ITe(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=LTe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=dU(n[i],e.name,t);else if(t==null)for(i in n)n[i]=dU(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uw(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function LTe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function dU(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=jTe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Sm=0,w0=0,Fy=0,Eie=1e3,aS,S0,oS=0,Nd=0,qA=0,Xv=typeof performance=="object"&&performance.now?performance:Date,Aie=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wR(){return Nd||(Aie(FTe),Nd=Xv.now()+qA)}function FTe(){Nd=0}function sS(){this._call=this._time=this._next=null}sS.prototype=kie.prototype={constructor:sS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wR():+n)+(t==null?0:+t),!this._next&&S0!==this&&(S0?S0._next=this:aS=this,S0=this),this._call=e,this._time=n,TM()},stop:function(){this._call&&(this._call=null,this._time=1/0,TM())}};function kie(e,t,n){var r=new sS;return r.restart(e,t,n),r}function RTe(){wR(),++Sm;for(var e=aS,t;e;)(t=Nd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Sm}function hU(){Nd=(oS=Xv.now())+qA,Sm=w0=0;try{RTe()}finally{Sm=0,BTe(),Nd=0}}function zTe(){var e=Xv.now(),t=e-oS;t>Eie&&(qA-=t,oS=e)}function BTe(){for(var e,t=aS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:aS=n);S0=e,TM(r)}function TM(e){if(!Sm){w0&&(w0=clearTimeout(w0));var t=e-Nd;t>24?(e<1/0&&(w0=setTimeout(hU,e-Xv.now()-qA)),Fy&&(Fy=clearInterval(Fy))):(Fy||(oS=Xv.now(),Fy=setInterval(zTe,Eie)),Sm=1,Aie(hU))}}function UTe(e,t,n){var r=new sS,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?wR():+s,r._restart(function l(u){u+=i,r._restart(l,i+=o,s),a(u)},o,s)},r.restart(e,t,n),r)}const WTe=1664525,HTe=1013904223,pU=4294967296;function qTe(){let e=1;return()=>(e=(WTe*e+HTe)%pU)/pU}function GTe(e){return e.x}function VTe(e){return e.y}var XTe=10,YTe=Math.PI*(3-Math.sqrt(5));function KTe(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=kie(f),u=Sie("tick","end"),c=qTe();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var x,v=e.length,b;g===void 0&&(g=1);for(var _=0;_<g;++_)for(n+=(a-n)*i,s.forEach(function(k){k(n)}),x=0;x<v;++x)b=e[x],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return t}function p(){for(var g=0,x=e.length,v;g<x;++g){if(v=e[g],v.index=g,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=XTe*Math.sqrt(.5+g),_=g*YTe;v.x=b*Math.cos(_),v.y=b*Math.sin(_)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function m(g){return g.initialize&&g.initialize(e,c),g}return p(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,p(),s.forEach(m),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(a=+g,t):a},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(c=g,s.forEach(m),t):c},force:function(g,x){return arguments.length>1?(x==null?s.delete(g):s.set(g,m(x)),t):s.get(g)},find:function(g,x,v){var b=0,_=e.length,k,E,A,C,P;for(v==null?v=1/0:v*=v,b=0;b<_;++b)C=e[b],k=g-C.x,E=x-C.y,A=k*k+E*E,A<v&&(P=C,v=A);return P},on:function(g,x){return arguments.length>1?(u.on(g,x),t):u.on(g)}}}function ZTe(){var e,t,n,r,i=gi(-30),a,o=1,s=1/0,l=.81;function u(p){var m,g=e.length,x=bR(e,GTe,VTe).visitAfter(f);for(r=p,m=0;m<g;++m)t=e[m],x.visit(d)}function c(){if(e){var p,m=e.length,g;for(a=new Array(m),p=0;p<m;++p)g=e[p],a[g.index]=+i(g,p,e)}}function f(p){var m=0,g,x,v=0,b,_,k;if(p.length){for(b=_=k=0;k<4;++k)(g=p[k])&&(x=Math.abs(g.value))&&(m+=g.value,v+=x,b+=x*g.x,_+=x*g.y);p.x=b/v,p.y=_/v}else{g=p,g.x=g.data.x,g.y=g.data.y;do m+=a[g.data.index];while(g=g.next)}p.value=m}function d(p,m,g,x){if(!p.value)return!0;var v=p.x-t.x,b=p.y-t.y,_=x-m,k=v*v+b*b;if(_*_/l<k)return k<s&&(v===0&&(v=dc(n),k+=v*v),b===0&&(b=dc(n),k+=b*b),k<o&&(k=Math.sqrt(o*k)),t.vx+=v*p.value*r/k,t.vy+=b*p.value*r/k),!0;if(p.length||k>=s)return;(p.data!==t||p.next)&&(v===0&&(v=dc(n),k+=v*v),b===0&&(b=dc(n),k+=b*b),k<o&&(k=Math.sqrt(o*k)));do p.data!==t&&(_=a[p.data.index]*r/k,t.vx+=v*_,t.vy+=b*_);while(p=p.next)}return u.initialize=function(p,m){e=p,n=m,c()},u.strength=function(p){return arguments.length?(i=typeof p=="function"?p:gi(+p),c(),u):i},u.distanceMin=function(p){return arguments.length?(o=p*p,u):Math.sqrt(o)},u.distanceMax=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.theta=function(p){return arguments.length?(l=p*p,u):Math.sqrt(l)},u}function QTe(e){var t=gi(.1),n,r,i;typeof e!="function"&&(e=gi(e==null?0:+e));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:gi(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:gi(+s),o(),a):e},a}function JTe(e){var t=gi(.1),n,r,i;typeof e!="function"&&(e=gi(e==null?0:+e));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:gi(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:gi(+s),o(),a):e},a}const mU={center:hTe,collide:NTe,nbody:ZTe,link:DTe,x:QTe,y:JTe},E0="forces",NM=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],eNe=["static","iterations"],Cie=["x","y","vx","vy"];function SR(e){J.call(this,null,e)}SR.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Cie}]};xe(SR,J,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(NM),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Oie(n,e,0,t)):(this.value=n=nNe(t.source,e),n.on("tick",tNe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(eNe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let s=this._argops,l=0,u=s.length,c;l<u;++l)if(c=s[l],!(c.name!==E0||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,a=r.length,o;i<a;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Cie)}});function tNe(e,t){return()=>e.touch(t).run()}function nNe(e,t){const n=KTe(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),Oie(n,t,!0).on("end",()=>a=!0)}function Oie(e,t,n,r){var i=Ae(t.forces),a,o,s,l;for(a=0,o=NM.length;a<o;++a)s=NM[a],s!==E0&&t.modified(s)&&e[s](t[s]);for(a=0,o=i.length;a<o;++a)l=E0+a,s=n||t.modified(E0,a)?iNe(i[a]):r&&rNe(i[a],r)?e.force(l):null,s&&e.force(l,s);for(o=e.numForces||0;a<o;++a)e.force(E0+a,null);return e.numForces=i.length,e}function rNe(e,t){var n,r;for(n in e)if(et(r=e[n])&&t.modified(Vr(r)))return 1;return 0}function iNe(e){var t,n;ke(mU,e.force)||ee("Unrecognized force: "+e.force),t=mU[e.force]();for(n in e)et(t[n])&&aNe(t[n],e[n],e);return t}function aNe(e,t,n){e(et(t)?r=>t(r,n):t)}const oNe=Object.freeze(Object.defineProperty({__proto__:null,force:SR},Symbol.toStringTag,{value:"Module"}));function sNe(e,t){return e.parent===t.parent?1:2}function lNe(e){return e.reduce(uNe,0)/e.length}function uNe(e,t){return e+t.x}function cNe(e){return 1+e.reduce(fNe,0)}function fNe(e,t){return Math.max(e,t.y)}function dNe(e){for(var t;t=e.children;)e=t[0];return e}function hNe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function pNe(){var e=sNe,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(d){var p=d.children;p?(d.x=lNe(p),d.y=cNe(p)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=dNe(a),u=hNe(a),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return a.eachAfter(r?function(d){d.x=(d.x-a.x)*t,d.y=(a.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(a.y?d.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function mNe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function gNe(){return this.eachAfter(mNe)}function yNe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function vNe(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function xNe(e,t){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function bNe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function _Ne(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function wNe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function SNe(e){for(var t=this,n=ENe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function ENe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function ANe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function kNe(){return Array.from(this)}function CNe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function ONe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*PNe(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function ER(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=NNe)):t===void 0&&(t=TNe);for(var n=new Em(e),r,i=[n],a,o,s,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Em(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Pie)}function $Ne(){return ER(this).eachBefore(MNe)}function TNe(e){return e.children}function NNe(e){return Array.isArray(e)?e[1]:null}function MNe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Pie(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Em(e){this.data=e,this.depth=this.height=0,this.parent=null}Em.prototype=ER.prototype={constructor:Em,count:gNe,each:yNe,eachAfter:xNe,eachBefore:vNe,find:bNe,sum:_Ne,sort:wNe,path:SNe,ancestors:ANe,descendants:kNe,leaves:CNe,links:ONe,copy:$Ne,[Symbol.iterator]:PNe};function cw(e){return e==null?null:$ie(e)}function $ie(e){if(typeof e!="function")throw new Error;return e}function Xf(){return 0}function ep(e){return function(){return e}}const DNe=1664525,jNe=1013904223,gU=4294967296;function INe(){let e=1;return()=>(e=(DNe*e+jNe)%gU)/gU}function LNe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FNe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function RNe(e,t){for(var n=0,r=(e=FNe(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&Tie(o,a)?++n:(o=BNe(i=zNe(i,a)),n=0);return o}function zNe(e,t){var n,r;if(IP(t,e))return[t];for(n=0;n<e.length;++n)if(a_(t,e[n])&&IP(A0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(a_(A0(e[n],e[r]),t)&&a_(A0(e[n],t),e[r])&&a_(A0(e[r],t),e[n])&&IP(Nie(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function a_(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Tie(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function IP(e,t){for(var n=0;n<t.length;++n)if(!Tie(e,t[n]))return!1;return!0}function BNe(e){switch(e.length){case 1:return UNe(e[0]);case 2:return A0(e[0],e[1]);case 3:return Nie(e[0],e[1],e[2])}}function UNe(e){return{x:e.x,y:e.y,r:e.r}}function A0(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,u=o-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+a+l/f*c)/2,y:(r+o+u/f*c)/2,r:(f+i+s)/2}}function Nie(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-o,p=r-u,m=i-s,g=i-c,x=l-a,v=f-a,b=r*r+i*i-a*a,_=b-o*o-s*s+l*l,k=b-u*u-c*c+f*f,E=p*m-d*g,A=(m*k-g*_)/(E*2)-r,C=(g*x-m*v)/E,P=(p*_-d*k)/(E*2)-i,T=(d*v-p*x)/E,D=C*C+T*T-1,j=2*(a+A*C+P*T),I=A*A+P*P-a*a,W=-(Math.abs(D)>1e-6?(j+Math.sqrt(j*j-4*D*I))/(2*D):I/j);return{x:r+A+C*W,y:i+P+T*W,r:W}}function yU(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,l,u=r*r+o*o;u?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function vU(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function xU(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function o_(e){this._=e,this.next=null,this.previous=null}function WNe(e,t){if(!(a=(e=LNe(e)).length))return 0;var n,r,i,a,o,s,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;yU(r,n,i=e[2]),n=new o_(n),r=new o_(r),i=new o_(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){yU(n._,r._,i=e[l]),i=new o_(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(vU(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(vU(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=xU(n);(i=i.next)!==r;)(s=xU(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=RNe(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function HNe(e){return Math.sqrt(e.value)}function qNe(){var e=null,t=1,n=1,r=Xf;function i(a){const o=INe();return a.x=t/2,a.y=n/2,e?a.eachBefore(bU(e)).eachAfter(LP(r,.5,o)).eachBefore(_U(1)):a.eachBefore(bU(HNe)).eachAfter(LP(Xf,1,o)).eachAfter(LP(r,a.r/Math.min(t,n),o)).eachBefore(_U(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=cw(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:ep(+a),i):r},i}function bU(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function LP(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=WNe(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function _U(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Mie(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Ax(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function GNe(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(a(t,s)),r&&o.eachBefore(Mie),o}function a(o,s){return function(l){l.children&&Ax(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var VNe={depth:-1},wU={},FP={};function XNe(e){return e.id}function YNe(e){return e.parentId}function SU(){var e=XNe,t=YNe,n;function r(i){var a=Array.from(i),o=e,s=t,l,u,c,f,d,p,m,g,x=new Map;if(n!=null){const v=a.map((k,E)=>KNe(n(k,E,i))),b=v.map(EU),_=new Set(v).add("");for(const k of b)_.has(k)||(_.add(k),v.push(k),b.push(EU(k)),a.push(FP));o=(k,E)=>v[E],s=(k,E)=>b[E]}for(c=0,l=a.length;c<l;++c)u=a[c],p=a[c]=new Em(u),(m=o(u,c,i))!=null&&(m+="")&&(g=p.id=m,x.set(g,x.has(g)?wU:p)),(m=s(u,c,i))!=null&&(m+="")&&(p.parent=m);for(c=0;c<l;++c)if(p=a[c],m=p.parent){if(d=x.get(m),!d)throw new Error("missing: "+m);if(d===wU)throw new Error("ambiguous: "+m);d.children?d.children.push(p):d.children=[p],p.parent=d}else{if(f)throw new Error("multiple roots");f=p}if(!f)throw new Error("no root");if(n!=null){for(;f.data===FP&&f.children.length===1;)f=f.children[0],--l;for(let v=a.length-1;v>=0&&(p=a[v],p.data===FP);--v)p.data=null}if(f.parent=VNe,f.eachBefore(function(v){v.depth=v.parent.depth+1,--l}).eachBefore(Pie),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=cw(i),r):e},r.parentId=function(i){return arguments.length?(t=cw(i),r):t},r.path=function(i){return arguments.length?(n=cw(i),r):n},r}function KNe(e){e=`${e}`;let t=e.length;return MM(e,t-1)&&!MM(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function EU(e){let t=e.length;if(t<2)return"";for(;--t>1&&!MM(e,t););return e.slice(0,t)}function MM(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function ZNe(e,t){return e.parent===t.parent?1:2}function RP(e){var t=e.children;return t?t[0]:e.t}function zP(e){var t=e.children;return t?t[t.length-1]:e.t}function QNe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function JNe(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function eMe(e,t,n){return e.a.parent===t.parent?e.a:n}function fw(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}fw.prototype=Object.create(Em.prototype);function tMe(e){for(var t=new fw(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new fw(a[o],o)),i.parent=n;return(t.parent=new fw(null,0)).children=[t],t}function nMe(){var e=ZNe,t=1,n=1,r=null;function i(u){var c=tMe(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var f=u,d=u,p=u;u.eachBefore(function(b){b.x<f.x&&(f=b),b.x>d.x&&(d=b),b.depth>p.depth&&(p=b)});var m=f===d?1:e(f,d)/2,g=m-f.x,x=t/(d.x+m+g),v=n/(p.depth||1);u.eachBefore(function(b){b.x=(b.x+g)*x,b.y=b.depth*v})}return u}function a(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){JNe(u);var p=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-p):u.z=p}else d&&(u.z=d.z+e(u._,d._));u.parent.A=s(u,d,u.parent.A||f[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,f){if(c){for(var d=u,p=u,m=c,g=d.parent.children[0],x=d.m,v=p.m,b=m.m,_=g.m,k;m=zP(m),d=RP(d),m&&d;)g=RP(g),p=zP(p),p.a=u,k=m.z+b-d.z-x+e(m._,d._),k>0&&(QNe(eMe(m,u,f),u,k),x+=k,v+=k),b+=m.m,x+=d.m,_+=g.m,v+=p.m;m&&!zP(p)&&(p.t=m,p.m+=b-v),d&&!RP(g)&&(g.t=d,g.m+=x-_,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function GA(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var Die=(1+Math.sqrt(5))/2;function jie(e,t,n,r,i,a){for(var o=[],s=t.children,l,u,c=0,f=0,d=s.length,p,m,g=t.value,x,v,b,_,k,E,A;c<d;){p=i-n,m=a-r;do x=s[f++].value;while(!x&&f<d);for(v=b=x,E=Math.max(m/p,p/m)/(g*e),A=x*x*E,k=Math.max(b/A,A/v);f<d;++f){if(x+=u=s[f].value,u<v&&(v=u),u>b&&(b=u),A=x*x*E,_=Math.max(b/A,A/v),_>k){x-=u;break}k=_}o.push(l={value:x,dice:p<m,children:s.slice(c,f)}),l.dice?Ax(l,n,r,i,g?r+=m*x/g:a):GA(l,n,r,g?n+=p*x/g:i,a),g-=x,c=f}return o}const Iie=function e(t){function n(r,i,a,o,s){jie(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Die);function rMe(){var e=Iie,t=!1,n=1,r=1,i=[0],a=Xf,o=Xf,s=Xf,l=Xf,u=Xf;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(Mie),d}function f(d){var p=i[d.depth],m=d.x0+p,g=d.y0+p,x=d.x1-p,v=d.y1-p;x<m&&(m=x=(m+x)/2),v<g&&(g=v=(g+v)/2),d.x0=m,d.y0=g,d.x1=x,d.y1=v,d.children&&(p=i[d.depth+1]=a(d)/2,m+=u(d)-p,g+=o(d)-p,x-=s(d)-p,v-=l(d)-p,x<m&&(m=x=(m+x)/2),v<g&&(g=v=(g+v)/2),e(d,m,g,x,v))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=$ie(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(a=typeof d=="function"?d:ep(+d),c):a},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:ep(+d),c):o},c.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:ep(+d),c):s},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:ep(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:ep(+d),c):u},c}function iMe(e,t,n,r,i){var a=e.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,e.value,t,n,r,i);function c(f,d,p,m,g,x,v){if(f>=d-1){var b=a[f];b.x0=m,b.y0=g,b.x1=x,b.y1=v;return}for(var _=u[f],k=p/2+_,E=f+1,A=d-1;E<A;){var C=E+A>>>1;u[C]<k?E=C+1:A=C}k-u[E-1]<u[E]-k&&f+1<E&&--E;var P=u[E]-_,T=p-P;if(x-m>v-g){var D=p?(m*T+x*P)/p:x;c(f,E,P,m,g,D,v),c(E,d,T,D,g,x,v)}else{var j=p?(g*T+v*P)/p:v;c(f,E,P,m,g,x,j),c(E,d,T,m,j,x,v)}}}function aMe(e,t,n,r,i){(e.depth&1?GA:Ax)(e,t,n,r,i)}const oMe=function e(t){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,p,m=l.length,g=r.value;++d<m;){for(u=l[d],c=u.children,f=u.value=0,p=c.length;f<p;++f)u.value+=c[f].value;u.dice?Ax(u,i,a,o,g?a+=(s-a)*u.value/g:s):GA(u,i,a,g?i+=(o-i)*u.value/g:o,s),g-=u.value}else r._squarify=l=jie(t,r,i,a,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Die);function DM(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function AR(e){J.call(this,null,e)}AR.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const sMe=e=>e.values;xe(AR,J,{transform(e,t){t.source||ee("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(o=>{o.children&&nA(o.data)&&i.rem.push(o.data)}),this.value=a=ER({values:Ae(e.keys).reduce((o,s)=>(o.key(s),o),lMe()).entries(i.source)},sMe),n&&a.each(o=>{o.children&&(o=Pt(o.data),i.add.push(o),i.source.push(o))}),DM(a,Le,Le)),i.source.root=a,i}});function lMe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const o=i.length,s=e[a++],l={},u={};let c=-1,f,d,p;for(;++c<o;)f=s(d=i[c])+"",(p=l[f])?p.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],a);return u}function r(i,a){if(++a>e.length)return i;const o=[];for(const s in i)o.push({key:s,values:r(i[s],a)});return o}return t}function Eu(e){J.call(this,null,e)}const uMe=(e,t)=>e.parent===t.parent?1:2;xe(Eu,J,{transform(e,t){(!t.source||!t.source.root)&&ee(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(sh(e.sort,o=>o.data)),cMe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?uMe:pg);try{this.value=n(i)}catch(o){ee(o)}return i.each(o=>fMe(o,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function cMe(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function fMe(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const jM=["x","y","r","depth","children"];function kR(e){Eu.call(this,e)}kR.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:jM.length,default:jM}]};xe(kR,Eu,{layout:qNe,params:["radius","size","padding"],fields:jM});const IM=["x0","y0","x1","y1","depth","children"];function CR(e){Eu.call(this,e)}CR.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:IM.length,default:IM}]};xe(CR,Eu,{layout:GNe,params:["size","round","padding"],fields:IM});function OR(e){J.call(this,null,e)}OR.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};xe(OR,J,{transform(e,t){t.source||ee("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?DM(SU().id(e.key).parentId(e.parentKey)(i.source),e.key,so):DM(SU()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const AU={tidy:nMe,cluster:pNe},LM=["x","y","depth","children"];function PR(e){Eu.call(this,e)}PR.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:LM.length,default:LM}]};xe(PR,Eu,{layout(e){const t=e||"tidy";if(ke(AU,t))return AU[t]();ee("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:LM});function $R(e){J.call(this,[],e)}$R.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};xe($R,J,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||ee("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>a[Le(o)]=1),r.each(o=>{const s=o.data,l=o.parent&&o.parent.data;l&&a[Le(s)]&&a[Le(l)]&&i.add.push(Pt({source:l,target:s}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>a[Le(o)]=1),n.forEach(o=>{(a[Le(o.source)]||a[Le(o.target)])&&i.mod.push(o)})),i}});const kU={binary:iMe,dice:Ax,slice:GA,slicedice:aMe,squarify:Iie,resquarify:oMe},FM=["x0","y0","x1","y1","depth","children"];function TR(e){Eu.call(this,e)}TR.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:FM.length,default:FM}]};xe(TR,Eu,{layout(){const e=rMe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{ke(kU,t)?e.tile(kU[t]):ee("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:FM});const dMe=Object.freeze(Object.defineProperty({__proto__:null,nest:AR,pack:kR,partition:CR,stratify:OR,tree:PR,treelinks:$R,treemap:TR},Symbol.toStringTag,{value:"Module"})),BP=4278190080;function hMe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function pMe(e,t,n,r,i){const a=e.width,o=e.height,s=r||i,l=Oc(a,o).getContext("2d"),u=Oc(a,o).getContext("2d"),c=s&&Oc(a,o).getContext("2d");n.forEach(P=>dw(l,P,!1)),dw(u,t,!1),s&&dw(c,t,!0);const f=UP(l,a,o),d=UP(u,a,o),p=s&&UP(c,a,o),m=e.bitmap(),g=s&&e.bitmap();let x,v,b,_,k,E,A,C;for(v=0;v<o;++v)for(x=0;x<a;++x)k=v*a+x,E=f[k]&BP,C=d[k]&BP,A=s&&p[k]&BP,(E||A||C)&&(b=e(x),_=e(v),!i&&(E||C)&&m.set(b,_),s&&(E||A)&&g.set(b,_));return[m,g]}function UP(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function dw(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>dw(e,a.items,n))}):Oa[r].draw(e,{items:n?t.map(mMe):t})}function mMe(e){const t=rA(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Ol=5,ai=31,Yv=32,Zu=new Uint32Array(Yv+1),Io=new Uint32Array(Yv+1);Io[0]=0;Zu[0]=~Io[0];for(let e=1;e<=Yv;++e)Io[e]=Io[e-1]<<1|1,Zu[e]=~Io[e];function gMe(e,t){const n=new Uint32Array(~~((e*t+Yv)/Yv));function r(a,o){n[a]|=o}function i(a,o){n[a]&=o}return{array:n,get:(a,o)=>{const s=o*e+a;return n[s>>>Ol]&1<<(s&ai)},set:(a,o)=>{const s=o*e+a;r(s>>>Ol,1<<(s&ai))},clear:(a,o)=>{const s=o*e+a;i(s>>>Ol,~(1<<(s&ai)))},getRange:(a,o,s,l)=>{let u=l,c,f,d,p;for(;u>=o;--u)if(c=u*e+a,f=u*e+s,d=c>>>Ol,p=f>>>Ol,d===p){if(n[d]&Zu[c&ai]&Io[(f&ai)+1])return!0}else{if(n[d]&Zu[c&ai]||n[p]&Io[(f&ai)+1])return!0;for(let m=d+1;m<p;++m)if(n[m])return!0}return!1},setRange:(a,o,s,l)=>{let u,c,f,d,p;for(;o<=l;++o)if(u=o*e+a,c=o*e+s,f=u>>>Ol,d=c>>>Ol,f===d)r(f,Zu[u&ai]&Io[(c&ai)+1]);else for(r(f,Zu[u&ai]),r(d,Io[(c&ai)+1]),p=f+1;p<d;++p)r(p,4294967295)},clearRange:(a,o,s,l)=>{let u,c,f,d,p;for(;o<=l;++o)if(u=o*e+a,c=o*e+s,f=u>>>Ol,d=c>>>Ol,f===d)i(f,Io[u&ai]|Zu[(c&ai)+1]);else for(i(f,Io[u&ai]),i(d,Zu[(c&ai)+1]),p=f+1;p<d;++p)i(p,0)},outOfBounds:(a,o,s,l)=>a<0||o<0||l>=t||s>=e}}function yMe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),o=s=>~~((s+n)/r);return o.invert=s=>s*r-n,o.bitmap=()=>gMe(i,a),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function vMe(e,t,n,r){const i=e.width,a=e.height;return function(o){const s=o.datum.datum.items[r].items,l=s.length,u=o.datum.fontSize,c=_a.width(o.datum,o.datum.text);let f=0,d,p,m,g,x,v,b;for(let _=0;_<l;++_)d=s[_].x,m=s[_].y,p=s[_].x2===void 0?d:s[_].x2,g=s[_].y2===void 0?m:s[_].y2,x=(d+p)/2,v=(m+g)/2,b=Math.abs(p-d+g-m),b>=f&&(f=b,o.x=x,o.y=v);return x=c/2,v=u/2,d=o.x-x,p=o.x+x,m=o.y-v,g=o.y+v,o.align="center",d<0&&p<=i?o.align="left":0<=d&&i<p&&(o.align="right"),o.baseline="middle",m<0&&g<=a?o.baseline="top":0<=m&&a<g&&(o.baseline="bottom"),!0}}function lS(e,t,n,r,i,a){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>a}function hc(e,t,n,r,i,a,o,s){const l=i*a/(r*2),u=e(t-l),c=e(t+l),f=e(n-(a=a/2)),d=e(n+a);return o.outOfBounds(u,f,c,d)||o.getRange(u,f,c,d)||s&&s.getRange(u,f,c,d)}function xMe(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1];function l(u,c,f,d,p){const m=e.invert(u),g=e.invert(c);let x=f,v=a,b;if(!lS(m,g,d,p,i,a)&&!hc(e,m,g,p,d,x,o,s)&&!hc(e,m,g,p,d,p,o,null)){for(;v-x>=1;)b=(x+v)/2,hc(e,m,g,p,d,b,o,s)?v=b:x=b;if(x>f)return[m,g,x,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,p=_a.width(u.datum,u.datum.text);let m=n?d:0,g=!1,x=!1,v=0,b,_,k,E,A,C,P,T,D,j,I,W,R,M,z,H,B;for(let G=0;G<f;++G){for(b=c[G].x,k=c[G].y,_=c[G].x2===void 0?b:c[G].x2,E=c[G].y2===void 0?k:c[G].y2,b>_&&(B=b,b=_,_=B),k>E&&(B=k,k=E,E=B),D=e(b),I=e(_),j=~~((D+I)/2),W=e(k),M=e(E),R=~~((W+M)/2),P=j;P>=D;--P)for(T=R;T>=W;--T)H=l(P,T,m,p,d),H&&([u.x,u.y,m,g]=H);for(P=j;P<=I;++P)for(T=R;T<=M;++T)H=l(P,T,m,p,d),H&&([u.x,u.y,m,g]=H);!g&&!n&&(z=Math.abs(_-b+E-k),A=(b+_)/2,C=(k+E)/2,z>=v&&!lS(A,C,p,d,i,a)&&!hc(e,A,C,d,p,d,o,null)&&(v=z,u.x=A,u.y=C,x=!0))}return g||x?(A=p/2,C=d/2,o.setRange(e(u.x-A),e(u.y-C),e(u.x+A),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const bMe=[-1,-1,1,1],_Me=[-1,1,-1,1];function wMe(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,p=_a.width(u.datum,u.datum.text),m=[];let g=n?d:0,x=!1,v=!1,b=0,_,k,E,A,C,P,T,D,j,I,W,R;for(let M=0;M<f;++M){for(_=c[M].x,E=c[M].y,k=c[M].x2===void 0?_:c[M].x2,A=c[M].y2===void 0?E:c[M].y2,m.push([e((_+k)/2),e((E+A)/2)]);m.length;)if([T,D]=m.pop(),!(o.get(T,D)||s.get(T,D)||l.get(T,D))){l.set(T,D);for(let z=0;z<4;++z)C=T+bMe[z],P=D+_Me[z],l.outOfBounds(C,P,C,P)||m.push([C,P]);if(C=e.invert(T),P=e.invert(D),j=g,I=a,!lS(C,P,p,d,i,a)&&!hc(e,C,P,d,p,j,o,s)&&!hc(e,C,P,d,p,d,o,null)){for(;I-j>=1;)W=(j+I)/2,hc(e,C,P,d,p,W,o,s)?I=W:j=W;j>g&&(u.x=C,u.y=P,g=j,x=!0)}}!x&&!n&&(R=Math.abs(k-_+A-E),C=(_+k)/2,P=(E+A)/2,R>=b&&!lS(C,P,p,d,i,a)&&!hc(e,C,P,d,p,d,o,null)&&(b=R,u.x=C,u.y=P,v=!0))}return x||v?(C=p/2,P=d/2,o.setRange(e(u.x-C),e(u.y-P),e(u.x+C),e(u.y+P)),u.align="center",u.baseline="middle",!0):!1}}const SMe=["right","center","left"],EMe=["bottom","middle","top"];function AMe(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>a)return!1;let d=u.textWidth??0,p,m,g,x,v,b,_,k,E,A,C,P,T,D,j;for(let I=0;I<l;++I){if(p=(n[I]&3)-1,m=(n[I]>>>2&3)-1,g=p===0&&m===0||r[I]<0,x=p&&m?Math.SQRT1_2:1,v=r[I]<0?-1:1,b=c[1+p]+r[I]*p*x,C=c[4+m]+v*f*m/2+r[I]*m*x,k=C-f/2,E=C+f/2,P=e(b),D=e(k),j=e(E),!d)if(CU(P,P,D,j,o,s,b,b,k,E,c,g))d=_a.width(u.datum,u.datum.text);else continue;if(A=b+v*d*p/2,b=A-d/2,_=A+d/2,P=e(b),T=e(_),CU(P,T,D,j,o,s,b,_,k,E,c,g))return u.x=p?p*v<0?_:b:A,u.y=m?m*v<0?E:k:C,u.align=SMe[p*v+1],u.baseline=EMe[m*v+1],o.setRange(P,D,T,j),!0}return!1}}function CU(e,t,n,r,i,a,o,s,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&a||i).getRange(e,n,t,r))}const WP=0,HP=4,qP=8,GP=0,VP=1,XP=2,kMe={"top-left":WP+GP,top:WP+VP,"top-right":WP+XP,left:HP+GP,middle:HP+VP,right:HP+XP,"bottom-left":qP+GP,bottom:qP+VP,"bottom-right":qP+XP},CMe={naive:vMe,"reduced-search":xMe,floodfill:wMe};function OMe(e,t,n,r,i,a,o,s,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=PMe(r,f),p=$Me(i,f),m=TMe(e[0].datum),g=m==="group"&&e[0].datum.items[l].marktype,x=g==="area",v=NMe(m,g,s,l),b=u===null||u===1/0,_=x&&c==="naive";let k=-1,E=-1;const A=e.map(D=>{const j=b?_a.width(D,D.text):void 0;return k=Math.max(k,j),E=Math.max(E,D.fontSize),{datum:D,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(D),textWidth:j}});u=u===null||u===1/0?Math.max(k,E)+Math.max(...r):u;const C=yMe(t[0],t[1],u);let P;if(!_){n&&A.sort((I,W)=>n(I.datum,W.datum));let D=!1;for(let I=0;I<p.length&&!D;++I)D=p[I]===5||d[I]<0;const j=(m&&o||x)&&e.map(I=>I.datum);P=a.length||j?pMe(C,j||[],a,D,x):hMe(C,o&&A)}const T=x?CMe[c](C,P,o,l):AMe(C,P,p,d);return A.forEach(D=>D.opacity=+T(D)),A}function PMe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function $Me(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=kMe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function TMe(e){return e&&e.mark&&e.mark.marktype}function NMe(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const o=a.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:a=>{const o=a.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const RM=["x","y","opacity","align","baseline"],Lie=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function NR(e){J.call(this,null,e)}NR.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Lie},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:RM.length,default:RM}]};xe(NR,J,{transform(e,t){function n(a){const o=e[a];return et(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ee("Size parameter should be specified as a [width, height] array.");const i=e.as||RM;return OMe(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ae(e.offset==null?1:e.offset),Ae(e.anchor||Lie),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const o=a.datum;o[i[0]]=a.x,o[i[1]]=a.y,o[i[2]]=a.opacity,o[i[3]]=a.align,o[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const MMe=Object.freeze(Object.defineProperty({__proto__:null,label:NR},Symbol.toStringTag,{value:"Module"}));function Fie(e,t){var n=[],r=function(c){return c(s)},i,a,o,s,l,u;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(s);return n}function MR(e){J.call(this,null,e)}MR.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};xe(MR,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Fie(r,e.groupby),a=(e.groupby||[]).map(kn),o=a.length,s=e.as||[kn(e.x),kn(e.y)],l=[];i.forEach(u=>{BJ(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<o;++d)f[a[d]]=u.dims[d];f[s[0]]=c[0],f[s[1]]=c[1],l.push(Pt(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const zM={constant:iL,linear:aL,log:LJ,exp:FJ,pow:RJ,quad:oL,poly:zJ},DMe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function DR(e){J.call(this,null,e)}DR.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(zM)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};xe(DR,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Fie(r,e.groupby),a=(e.groupby||[]).map(kn),o=e.method||"linear",s=e.order==null?3:e.order,l=DMe(o,s),u=e.as||[kn(e.x),kn(e.y)],c=zM[o],f=[];let d=e.extent;ke(zM,o)||ee("Invalid regression method: "+o),d!=null&&o==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(p=>{if(p.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(p,e.x,e.y,s);if(e.params){f.push(Pt({keys:p.dims,coef:g.coef,rSquared:g.rSquared}));return}const x=d||Ys(p,e.x),v=b=>{const _={};for(let k=0;k<a.length;++k)_[a[k]]=p.dims[k];_[u[0]]=b[0],_[u[1]]=b[1],f.push(Pt(_))};o==="linear"||o==="constant"?x.forEach(b=>v([b,g.predict(b)])):cA(g.predict,x,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const jMe=Object.freeze(Object.defineProperty({__proto__:null,loess:MR,regression:DR},Symbol.toStringTag,{value:"Module"})),tu=11102230246251565e-32,Lr=134217729,IMe=(3+8*tu)*tu;function YP(e,t,n,r,i){let a,o,s,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(a=u,u=t[++f]):(a=c,c=r[++d]);let p=0;if(f<e&&d<n)for(c>u==c>-u?(o=u+a,s=a-(o-u),u=t[++f]):(o=c+a,s=a-(o-c),c=r[++d]),a=o,s!==0&&(i[p++]=s);f<e&&d<n;)c>u==c>-u?(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++f]):(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++d]),a=o,s!==0&&(i[p++]=s);for(;f<e;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++f],a=o,s!==0&&(i[p++]=s);for(;d<n;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++d],a=o,s!==0&&(i[p++]=s);return(a!==0||p===0)&&(i[p++]=a),p}function LMe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function kx(e){return new Float64Array(e)}const FMe=(3+16*tu)*tu,RMe=(2+12*tu)*tu,zMe=(9+64*tu)*tu*tu,qh=kx(4),OU=kx(8),PU=kx(12),$U=kx(16),oi=kx(4);function BMe(e,t,n,r,i,a,o){let s,l,u,c,f,d,p,m,g,x,v,b,_,k,E,A,C,P;const T=e-i,D=n-i,j=t-a,I=r-a;k=T*I,d=Lr*T,p=d-(d-T),m=T-p,d=Lr*I,g=d-(d-I),x=I-g,E=m*x-(k-p*g-m*g-p*x),A=j*D,d=Lr*j,p=d-(d-j),m=j-p,d=Lr*D,g=d-(d-D),x=D-g,C=m*x-(A-p*g-m*g-p*x),v=E-C,f=E-v,qh[0]=E-(v+f)+(f-C),b=k+v,f=b-k,_=k-(b-f)+(v-f),v=_-A,f=_-v,qh[1]=_-(v+f)+(f-A),P=b+v,f=P-b,qh[2]=b-(P-f)+(v-f),qh[3]=P;let W=LMe(4,qh),R=RMe*o;if(W>=R||-W>=R||(f=e-T,s=e-(T+f)+(f-i),f=n-D,u=n-(D+f)+(f-i),f=t-j,l=t-(j+f)+(f-a),f=r-I,c=r-(I+f)+(f-a),s===0&&l===0&&u===0&&c===0)||(R=zMe*o+IMe*Math.abs(W),W+=T*c+I*s-(j*u+D*l),W>=R||-W>=R))return W;k=s*I,d=Lr*s,p=d-(d-s),m=s-p,d=Lr*I,g=d-(d-I),x=I-g,E=m*x-(k-p*g-m*g-p*x),A=l*D,d=Lr*l,p=d-(d-l),m=l-p,d=Lr*D,g=d-(d-D),x=D-g,C=m*x-(A-p*g-m*g-p*x),v=E-C,f=E-v,oi[0]=E-(v+f)+(f-C),b=k+v,f=b-k,_=k-(b-f)+(v-f),v=_-A,f=_-v,oi[1]=_-(v+f)+(f-A),P=b+v,f=P-b,oi[2]=b-(P-f)+(v-f),oi[3]=P;const M=YP(4,qh,4,oi,OU);k=T*c,d=Lr*T,p=d-(d-T),m=T-p,d=Lr*c,g=d-(d-c),x=c-g,E=m*x-(k-p*g-m*g-p*x),A=j*u,d=Lr*j,p=d-(d-j),m=j-p,d=Lr*u,g=d-(d-u),x=u-g,C=m*x-(A-p*g-m*g-p*x),v=E-C,f=E-v,oi[0]=E-(v+f)+(f-C),b=k+v,f=b-k,_=k-(b-f)+(v-f),v=_-A,f=_-v,oi[1]=_-(v+f)+(f-A),P=b+v,f=P-b,oi[2]=b-(P-f)+(v-f),oi[3]=P;const z=YP(M,OU,4,oi,PU);k=s*c,d=Lr*s,p=d-(d-s),m=s-p,d=Lr*c,g=d-(d-c),x=c-g,E=m*x-(k-p*g-m*g-p*x),A=l*u,d=Lr*l,p=d-(d-l),m=l-p,d=Lr*u,g=d-(d-u),x=u-g,C=m*x-(A-p*g-m*g-p*x),v=E-C,f=E-v,oi[0]=E-(v+f)+(f-C),b=k+v,f=b-k,_=k-(b-f)+(v-f),v=_-A,f=_-v,oi[1]=_-(v+f)+(f-A),P=b+v,f=P-b,oi[2]=b-(P-f)+(v-f),oi[3]=P;const H=YP(z,PU,4,oi,$U);return $U[H-1]}function s_(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=FMe*u?l:-BMe(e,t,n,r,i,a,u)}const TU=Math.pow(2,-52),l_=new Uint32Array(512);class uS{static from(t,n=GMe,r=VMe){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new uS(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let s=1/0,l=1/0,u=-1/0,c=-1/0;for(let T=0;T<o;T++){const D=t[2*T],j=t[2*T+1];D<s&&(s=D),j<l&&(l=j),D>u&&(u=D),j>c&&(c=j),this._ids[T]=T}const f=(s+u)/2,d=(l+c)/2;let p,m,g;for(let T=0,D=1/0;T<o;T++){const j=KP(f,d,t[2*T],t[2*T+1]);j<D&&(p=T,D=j)}const x=t[2*p],v=t[2*p+1];for(let T=0,D=1/0;T<o;T++){if(T===p)continue;const j=KP(x,v,t[2*T],t[2*T+1]);j<D&&j>0&&(m=T,D=j)}let b=t[2*m],_=t[2*m+1],k=1/0;for(let T=0;T<o;T++){if(T===p||T===m)continue;const D=HMe(x,v,b,_,t[2*T],t[2*T+1]);D<k&&(g=T,k=D)}let E=t[2*g],A=t[2*g+1];if(k===1/0){for(let j=0;j<o;j++)this._dists[j]=t[2*j]-t[0]||t[2*j+1]-t[1];_p(this._ids,this._dists,0,o-1);const T=new Uint32Array(o);let D=0;for(let j=0,I=-1/0;j<o;j++){const W=this._ids[j],R=this._dists[W];R>I&&(T[D++]=W,I=R)}this.hull=T.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(s_(x,v,b,_,E,A)<0){const T=m,D=b,j=_;m=g,b=E,_=A,g=T,E=D,A=j}const C=qMe(x,v,b,_,E,A);this._cx=C.x,this._cy=C.y;for(let T=0;T<o;T++)this._dists[T]=KP(t[2*T],t[2*T+1],C.x,C.y);_p(this._ids,this._dists,0,o-1),this._hullStart=p;let P=3;r[p]=n[g]=m,r[m]=n[p]=g,r[g]=n[m]=p,i[p]=0,i[m]=1,i[g]=2,a.fill(-1),a[this._hashKey(x,v)]=p,a[this._hashKey(b,_)]=m,a[this._hashKey(E,A)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let T=0,D,j;T<this._ids.length;T++){const I=this._ids[T],W=t[2*I],R=t[2*I+1];if(T>0&&Math.abs(W-D)<=TU&&Math.abs(R-j)<=TU||(D=W,j=R,I===p||I===m||I===g))continue;let M=0;for(let N=0,Z=this._hashKey(W,R);N<this._hashSize&&(M=a[(Z+N)%this._hashSize],!(M!==-1&&M!==r[M]));N++);M=n[M];let z=M,H;for(;H=r[z],s_(W,R,t[2*z],t[2*z+1],t[2*H],t[2*H+1])>=0;)if(z=H,z===M){z=-1;break}if(z===-1)continue;let B=this._addTriangle(z,I,r[z],-1,-1,i[z]);i[I]=this._legalize(B+2),i[z]=B,P++;let G=r[z];for(;H=r[G],s_(W,R,t[2*G],t[2*G+1],t[2*H],t[2*H+1])<0;)B=this._addTriangle(G,I,H,i[I],-1,i[G]),i[I]=this._legalize(B+2),r[G]=G,P--,G=H;if(z===M)for(;H=n[z],s_(W,R,t[2*H],t[2*H+1],t[2*z],t[2*z+1])<0;)B=this._addTriangle(H,I,z,-1,i[z],i[H]),this._legalize(B+2),i[H]=B,r[z]=z,P--,z=H;this._hullStart=n[I]=z,r[z]=n[G]=I,r[I]=G,a[this._hashKey(W,R)]=I,a[this._hashKey(t[2*z],t[2*z+1])]=z}this.hull=new Uint32Array(P);for(let T=0,D=this._hullStart;T<P;T++)this.hull[T]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(UMe(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[t],l=t-t%3;if(o=l+(t+2)%3,s===-1){if(a===0)break;t=l_[--a];continue}const u=s-s%3,c=l+(t+1)%3,f=u+(s+2)%3,d=n[o],p=n[t],m=n[c],g=n[f];if(WMe(i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=d;const v=r[f];if(v===-1){let _=this._hullStart;do{if(this._hullTri[_]===f){this._hullTri[_]=t;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(t,v),this._link(s,r[o]),this._link(o,f);const b=u+(s+1)%3;a<l_.length&&(l_[a++]=b)}else{if(a===0)break;t=l_[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function UMe(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function KP(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function WMe(e,t,n,r,i,a,o,s){const l=e-o,u=t-s,c=n-o,f=r-s,d=i-o,p=a-s,m=l*l+u*u,g=c*c+f*f,x=d*d+p*p;return l*(f*x-g*p)-u*(c*x-g*d)+m*(c*p-f*d)<0}function HMe(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,u=a-t,c=o*o+s*s,f=l*l+u*u,d=.5/(o*u-s*l),p=(u*c-s*f)*d,m=(o*f-l*c)*d;return p*p+m*m}function qMe(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,u=a-t,c=o*o+s*s,f=l*l+u*u,d=.5/(o*u-s*l),p=e+(u*c-s*f)*d,m=t+(o*f-l*c)*d;return{x:p,y:m}}function _p(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;Ry(e,i,a),t[e[n]]>t[e[r]]&&Ry(e,n,r),t[e[a]]>t[e[r]]&&Ry(e,a,r),t[e[n]]>t[e[a]]&&Ry(e,n,a);const s=e[a],l=t[s];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;Ry(e,a,o)}e[n+1]=e[o],e[o]=s,r-a+1>=o-n?(_p(e,t,a,r),_p(e,t,n,o-1)):(_p(e,t,n,o-1),_p(e,t,a,r))}}function Ry(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function GMe(e){return e[0]}function VMe(e){return e[1]}const NU=1e-6;class td{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>NU||Math.abs(this._y1-a)>NU)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}let BM=class{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}},XMe=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,x=0,v=r.length,b,_;g<v;g+=3,x+=2){const k=r[g]*2,E=r[g+1]*2,A=r[g+2]*2,C=t[k],P=t[k+1],T=t[E],D=t[E+1],j=t[A],I=t[A+1],W=T-C,R=D-P,M=j-C,z=I-P,H=(W*z-R*M)*2;if(Math.abs(H)<1e-9){if(a===void 0){a=o=0;for(const G of n)a+=t[G*2],o+=t[G*2+1];a/=n.length,o/=n.length}const B=1e9*Math.sign((a-C)*z-(o-P)*M);b=(C+j)/2-B*z,_=(P+I)/2+B*M}else{const B=1/H,G=W*W+R*R,N=M*M+z*z;b=C+(z*G-R*N)*B,_=P+(W*N-M*G)*B}s[x]=b,s[x+1]=_}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],p,m=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,p=m,c=l*4,d=t[2*l],m=t[2*l+1],i[u+2]=i[c]=p-m,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new td:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const p=Math.floor(c/3)*2,m=Math.floor(d/3)*2,g=o[p],x=o[p+1],v=o[m],b=o[m+1];this._renderSegment(g,x,v,b,t)}let l,u=a[a.length-1];for(let c=0;c<a.length;++c){l=u,u=a[c];const f=Math.floor(i[u]/3)*2,d=o[f],p=o[f+1],m=l*4,g=this._project(d,p,s[m+2],s[m+3]);g&&this._renderSegment(d,p,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new td:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new td:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new BM;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const s=this._regioncode(t,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+l-2)%l]&&n[(a+3)%o]===i[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const s=[];let l=o;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],u,c=this._regioncode(s,l),f,d=0;for(let p=0;p<r;p+=2)if(a=s,o=l,s=n[p],l=n[p+1],u=c,c=this._regioncode(s,l),u===0&&c===0)f=d,d=0,i?i.push(s,l):i=[s,l];else{let m,g,x,v,b;if(u===0){if((m=this._clipSegment(a,o,s,l,u,c))===null)continue;[g,x,v,b]=m}else{if((m=this._clipSegment(s,l,a,o,c,u))===null)continue;[v,b,g,x]=m,f=d,d=this._edgecode(g,x),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,x):i=[g,x]}f=d,d=this._edgecode(v,b),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(v,b):i=[v,b]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){const s=a<o;for(s&&([t,n,r,i,a,o]=[r,i,t,n,o,a]);;){if(a===0&&o===0)return s?[r,i,t,n]:[t,n,r,i];if(a&o)return null;let l,u,c=a||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),a?(t=l,n=u,a=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let u=0,c=s.length,f,d=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)f=d,d=this._edgecode(s[u],s[u+1]),f&&d&&(u=this._edge(t,f,d,s,u),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(t,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(t,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const YMe=2*Math.PI,Gh=Math.pow;function KMe(e){return e[0]}function ZMe(e){return e[1]}function QMe(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function JMe(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class jR{static from(t,n=KMe,r=ZMe,i){return new jR("length"in t?eDe(t,n,r,i):Float64Array.from(tDe(t,n,r,i)))}constructor(t){this._delaunator=new uS(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&QMe(t)){this.collinear=Int32Array.from({length:n.length/2},(d,p)=>p).sort((d,p)=>n[2*d]-n[2*p]||n[2*d+1]-n[2*p+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,p=n.length/2;d<p;++d){const m=JMe(n[2*d],n[2*d+1],f);n[2*d]=m[0],n[2*d+1]=m[1]}this._delaunator=new uS(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=a[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new XMe(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=a[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=Gh(n-u[t*2],2)+Gh(r-u[t*2+1],2);const d=i[t];let p=d;do{let m=l[p];const g=Gh(n-u[m*2],2)+Gh(r-u[m*2+1],2);if(g<f&&(f=g,c=m),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=s[p],p===-1){if(p=a[(o[t]+1)%a.length],p!==m&&Gh(n-u[p*2],2)+Gh(r-u[p*2+1],2)<f)return p;break}}while(p!==d);return c}render(t){const n=t==null?t=new td:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const u=a[o]*2,c=a[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new td:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];t.moveTo(s+n,l),t.arc(s,l,n,0,YMe)}return r&&r.value()}renderHull(t){const n=t==null?t=new td:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new BM;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new td:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,s=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new BM;return this.renderTriangle(t,n),n.value()}}function eDe(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=e[o];a[o*2]=t.call(r,s,o,e),a[o*2+1]=n.call(r,s,o,e)}return a}function*tDe(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function IR(e){J.call(this,null,e)}IR.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const nDe=[-1e5,-1e5,1e5,1e5];xe(IR,J,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:nDe;const a=this.value=jR.from(r,e.x,e.y).voronoi(i);for(let o=0,s=r.length;o<s;++o){const l=a.cellPolygon(o);r[o][n]=l&&!iDe(l)?rDe(l):null}return t.reflow(e.modified()).modifies(n)}});function rDe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function iDe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const aDe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:IR},Symbol.toStringTag,{value:"Module"}));var ZP=Math.PI/180,k0=64,hw=2048;function oDe(){var e=[256,256],t,n,r,i,a,o,s,l=Rie,u=[],c=Math.random,f={};f.layout=function(){for(var m=d(Oc()),g=dDe((e[0]>>5)*e[1]),x=null,v=u.length,b=-1,_=[],k=u.map(A=>({text:t(A),font:n(A),style:i(A),weight:a(A),rotate:o(A),size:~~(r(A)+1e-14),padding:s(A),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:A})).sort((A,C)=>C.size-A.size);++b<v;){var E=k[b];E.x=e[0]*(c()+.5)>>1,E.y=e[1]*(c()+.5)>>1,sDe(m,E,k,b),E.hasText&&p(g,E,x)&&(_.push(E),x?uDe(x,E):x=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}return _};function d(m){m.width=m.height=1;var g=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(k0<<5)/g,m.height=hw/g;var x=m.getContext("2d");return x.fillStyle=x.strokeStyle="red",x.textAlign="center",{context:x,ratio:g}}function p(m,g,x){for(var v=g.x,b=g.y,_=Math.hypot(e[0],e[1]),k=l(e),E=c()<.5?1:-1,A=-E,C,P,T;(C=k(A+=E))&&(P=~~C[0],T=~~C[1],!(Math.min(Math.abs(P),Math.abs(T))>=_));)if(g.x=v+P,g.y=b+T,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!x||!lDe(g,m,e[0]))&&(!x||cDe(g,x))){for(var D=g.sprite,j=g.width>>5,I=e[0]>>5,W=g.x-(j<<4),R=W&127,M=32-R,z=g.y1-g.y0,H=(g.y+g.y0)*I+(W>>5),B,G=0;G<z;G++){B=0;for(var N=0;N<=j;N++)m[H+N]|=B<<M|(N<j?(B=D[G*j+N])>>>R:0);H+=I}return g.sprite=null,!0}return!1}return f.words=function(m){return arguments.length?(u=m,f):u},f.size=function(m){return arguments.length?(e=[+m[0],+m[1]],f):e},f.font=function(m){return arguments.length?(n=Sf(m),f):n},f.fontStyle=function(m){return arguments.length?(i=Sf(m),f):i},f.fontWeight=function(m){return arguments.length?(a=Sf(m),f):a},f.rotate=function(m){return arguments.length?(o=Sf(m),f):o},f.text=function(m){return arguments.length?(t=Sf(m),f):t},f.spiral=function(m){return arguments.length?(l=hDe[m]||m,f):l},f.fontSize=function(m){return arguments.length?(r=Sf(m),f):r},f.padding=function(m){return arguments.length?(s=Sf(m),f):s},f.random=function(m){return arguments.length?(c=m,f):c},f}function sDe(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(k0<<5)/a,hw/a);var o=0,s=0,l=0,u=n.length,c,f,d,p,m;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,c=i.measureText(t.text+"m").width*a,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*ZP),x=Math.cos(t.rotate*ZP),v=c*x,b=c*g,_=d*x,k=d*g;c=Math.max(Math.abs(v+k),Math.abs(v-k))+31>>5<<5,d=~~Math.max(Math.abs(b+_),Math.abs(b-_))}else c=c+31>>5<<5;if(d>l&&(l=d),o+c>=k0<<5&&(o=0,s+=l,l=0),s+d>=hw)break;i.translate((o+(c>>1))/a,(s+(d>>1))/a),t.rotate&&i.rotate(t.rotate*ZP),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=o,t.yoff=s,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var E=i.getImageData(0,0,(k0<<5)/a,hw/a).data,A=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,p=0;p<d*f;p++)A[p]=0;if(o=t.xoff,o==null)return;s=t.yoff;var C=0,P=-1;for(m=0;m<d;m++){for(p=0;p<c;p++){var T=f*m+(p>>5),D=E[(s+m)*(k0<<5)+(o+p)<<2]?1<<31-p%32:0;A[T]|=D,C|=D}C?P=m:(t.y0++,d--,m--,s++)}t.y1=t.y0+P,t.sprite=A.slice(0,(t.y1-t.y0)*f)}}}function lDe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*n+(a>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<s|(d<i?(c=r[f*i+d])>>>o:0))&t[u+d])return!0;u+=n}return!1}function uDe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function cDe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Rie(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function fDe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function dDe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Sf(e){return typeof e=="function"?e:function(){return e}}var hDe={archimedean:Rie,rectangular:fDe};const zie=["x","y","font","fontSize","fontStyle","fontWeight","angle"],pDe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function LR(e){J.call(this,oDe(),e)}LR.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:zie}]};xe(LR,J,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ee("Wordcloud size dimensions must be non-zero.");function n(m){const g=e[m];return et(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||pDe.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||zie;let s=e.fontSize||14,l;if(et(s)?l=e.fontSizeRange:s=ti(s),l){const m=s,g=At("sqrt")().domain(Ys(i,m)).range(l);s=x=>g(m(x))}i.forEach(m=>{m[o[0]]=NaN,m[o[1]]=NaN,m[o[3]]=0});const u=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(uo).layout(),c=a.size(),f=c[0]>>1,d=c[1]>>1,p=u.length;for(let m=0,g,x;m<p;++m)g=u[m],x=g.datum,x[o[0]]=g.x+f,x[o[1]]=g.y+d,x[o[2]]=g.font,x[o[3]]=g.size,x[o[4]]=g.style,x[o[5]]=g.weight,x[o[6]]=g.rotate;return t.reflow(r).modifies(o)}});const mDe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:LR},Symbol.toStringTag,{value:"Module"})),gDe=e=>new Uint8Array(e),yDe=e=>new Uint16Array(e),ev=e=>new Uint32Array(e);function vDe(){let e=8,t=[],n=ev(0),r=u_(0,e),i=u_(0,e);return{data:()=>t,seen:()=>n=xDe(n,t.length),add(a){for(let o=0,s=t.length,l=a.length,u;o<l;++o)u=a[o],u._index=s++,t.push(u)},remove(a,o){const s=t.length,l=Array(s-a),u=t;let c,f,d;for(f=0;!o[f]&&f<s;++f)l[f]=t[f],u[f]=f;for(d=f;f<s;++f)c=t[f],o[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,o){r[a]|=o},clear(a,o){r[a]&=~o},resize(a,o){const s=r.length;(a>s||o>e)&&(e=Math.max(o,e),r=u_(a,e,r),i=u_(a,e))}}}function xDe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function u_(e,t,n){const r=(t<257?gDe:t<65537?yDe:ev)(e);return n&&r.set(n),r}function MU(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const o=this,s=o.bisect(o.range,i.value),l=i.index,u=s[0],c=s[1],f=l.length;let d;for(d=0;d<u;++d)a[l[d]]|=r;for(d=c;d<f;++d)a[l[d]]|=r;return o}}}function DU(){let e=ev(0),t=[],n=0;function r(s,l,u){if(!l.length)return[];const c=n,f=l.length,d=ev(f);let p=Array(f),m,g,x;for(x=0;x<f;++x)p[x]=s(l[x]),d[x]=x;if(p=bDe(p,d),c)m=t,g=e,t=Array(c+f),e=ev(c+f),_De(u,m,g,c,p,d,f,t,e);else{if(u>0)for(x=0;x<f;++x)d[x]+=u;t=p,e=d}return n=c+f,{index:d,value:p}}function i(s,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-s}function a(s){for(let l=0,u=n;l<u;++l)e[l]=s[e[l]]}function o(s,l){let u;return l?u=l.length:(l=t,u=n),[Sbe(l,s[0],0,u),hu(l,s[1],0,u)]}return{insert:r,remove:i,bisect:o,reindex:a,index:()=>e,size:()=>n}}function bDe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),kbe(e,t)}function _De(e,t,n,r,i,a,o,s,l){let u=0,c=0,f;for(f=0;u<r&&c<o;++f)t[u]<i[c]?(s[f]=t[u],l[f]=n[u++]):(s[f]=i[c],l[f]=a[c++]+e);for(;u<r;++u,++f)s[f]=t[u],l[f]=n[u];for(;c<o;++c,++f)s[f]=i[c],l[f]=a[c]+e}function FR(e){J.call(this,vDe(),e),this._indices=null,this._dims=null}FR.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};xe(FR,J,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],o=r.length;let s=0,l,u;for(;s<o;++s)l=n[s].fname,u=i[l]||(i[l]=DU()),a.push(MU(u,s,r[s]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,o=this._dims,s=this.value,l=s.curr(),u=s.prev(),c=s.all(),f=n.rem=n.add,d=n.mod,p=i.length,m={};let g,x,v,b,_,k,E,A,C;if(u.set(l),t.rem.length&&(_=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(k={},b=t.mod,E=0,A=b.length;E<A;++E)k[b[E]._index]=1;for(E=0;E<p;++E)C=r[E],(!o[E]||e.modified("fields",E)||t.modified(C.fields))&&(v=C.fname,(g=m[v])||(a[v]=x=DU(),m[v]=g=x.insert(C,t.source,0)),o[E]=MU(x,E,i[E]).onAdd(g,l));for(E=0,A=s.data().length;E<A;++E)_[E]||(u[E]!==l[E]?f.push(E):k[E]&&l[E]!==c&&d.push(E));return s.mask=(1<<p)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,o=this._indices,s=e.fields,l={},u=n.add,c=i.size()+r.length,f=a.length;let d=i.size(),p,m,g;i.resize(c,f),i.add(r);const x=i.curr(),v=i.prev(),b=i.all();for(p=0;p<f;++p)m=s[p].fname,g=l[m]||(l[m]=o[m].insert(s[p],r,d)),a[p].onAdd(g,x);for(;d<c;++d)v[d]=b,x[d]!==b&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),o=e.mod;let s,l,u;for(s=0,l=o.length;s<l;++s)u=o[s]._index,i[u]!==a&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),o=i.prev(),s=i.all(),l={},u=n.rem,c=t.rem;let f,d,p,m;for(f=0,d=c.length;f<d;++f)p=c[f]._index,l[p]=1,o[p]=m=a[p],a[p]=s,m!==s&&u.push(p);for(p in r)r[p].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const o in r)r[o].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,o=r.length;let s=0,l,u;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(l=u,++s);if(s===1)s=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,s=0;u<o;++u)e.modified("query",u)&&(s|=r[u].one,this.incrementAll(r[u],i[u],a,n.add),n.rem=n.add);return s},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),o=i.curr(),s=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],p=u[0],m=u[1],g=e.one;let x,v,b;if(f<p)for(x=f,v=Math.min(p,d);x<v;++x)b=l[x],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(f>p)for(x=p,v=Math.min(f,m);x<v;++x)b=l[x],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;if(d>m)for(x=Math.max(f,m),v=d;x<v;++x)b=l[x],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(d<m)for(x=Math.max(p,d),v=m;x<v;++x)b=l[x],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),o=e.index(),s=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=s[0],d=s[1],p=e.one;let m,g,x;if(u<f)for(m=u,g=Math.min(f,c);m<g;++m)x=o[m],a[x]^=p,n.push(x);else if(u>f)for(m=f,g=Math.min(u,d);m<g;++m)x=o[m],a[x]^=p,r.push(x);if(c>d)for(m=Math.max(u,d),g=c;m<g;++m)x=o[m],a[x]^=p,n.push(x);else if(c<d)for(m=Math.max(f,c),g=d;m<g;++m)x=o[m],a[x]^=p,r.push(x);e.range=t.slice()}});function RR(e){J.call(this,null,e)}RR.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};xe(RR,J,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const a=t.fork(t.ALL),o=r.data(),s=r.curr(),l=r.prev(),u=c=>s[c]&n?null:o[c];return a.filter(a.MOD,u),i&i-1?(a.filter(a.ADD,c=>{const f=s[c]&n;return!f&&f^l[c]&n?o[c]:null}),a.filter(a.REM,c=>{const f=s[c]&n;return f&&!(f^(f^l[c]&n))?o[c]:null})):(a.filter(a.ADD,u),a.filter(a.REM,c=>(s[c]&n)===i?o[c]:null)),a.filter(a.SOURCE,c=>u(c._index))}});const wDe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:FR,resolvefilter:RR},Symbol.toStringTag,{value:"Module"})),SDe="RawCode",Md="Literal",EDe="Property",ADe="Identifier",kDe="ArrayExpression",CDe="BinaryExpression",Bie="CallExpression",ODe="ConditionalExpression",PDe="LogicalExpression",$De="MemberExpression",TDe="ObjectExpression",NDe="UnaryExpression";function rs(e){this.type=e}rs.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=MDe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function MDe(e){switch(e.type){case kDe:return e.elements;case CDe:case PDe:return[e.left,e.right];case Bie:return[e.callee].concat(e.arguments);case ODe:return[e.test,e.consequent,e.alternate];case $De:return[e.object,e.property];case TDe:return e.properties;case EDe:return[e.key,e.value];case NDe:return[e.argument];case ADe:case Md:case SDe:default:return[]}}var ul,$e,te,Yr,jt,VA=1,Cx=2,Dd=3,rf=4,XA=5,ch=6,ji=7,Ox=8,DDe=9;ul={};ul[VA]="Boolean";ul[Cx]="<end>";ul[Dd]="Identifier";ul[rf]="Keyword";ul[XA]="Null";ul[ch]="Numeric";ul[ji]="Punctuator";ul[Ox]="String";ul[DDe]="RegularExpression";var jDe="ArrayExpression",IDe="BinaryExpression",LDe="CallExpression",FDe="ConditionalExpression",Uie="Identifier",RDe="Literal",zDe="LogicalExpression",BDe="MemberExpression",UDe="ObjectExpression",WDe="Property",HDe="UnaryExpression",sr="Unexpected token %0",qDe="Unexpected number",GDe="Unexpected string",VDe="Unexpected identifier",XDe="Unexpected reserved word",YDe="Unexpected end of input",UM="Invalid regular expression",QP="Invalid regular expression: missing /",Wie="Octal literals are not allowed in strict mode.",KDe="Duplicate data property in object literal not allowed in strict mode",kr="ILLEGAL",Kv="Disabled.",ZDe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),QDe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function YA(e,t){if(!e)throw new Error("ASSERT: "+t)}function Ll(e){return e>=48&&e<=57}function zR(e){return"0123456789abcdefABCDEF".includes(e)}function tv(e){return"01234567".includes(e)}function JDe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Zv(e){return e===10||e===13||e===8232||e===8233}function Px(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&ZDe.test(String.fromCharCode(e))}function cS(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&QDe.test(String.fromCharCode(e))}const eje={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Hie(){for(;te<Yr;){const e=$e.charCodeAt(te);if(JDe(e)||Zv(e))++te;else break}}function WM(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)te<Yr&&zR($e[te])?(r=$e[te++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):_t({},sr,kr);return String.fromCharCode(i)}function tje(){var e,t,n,r;for(e=$e[te],t=0,e==="}"&&_t({},sr,kr);te<Yr&&(e=$e[te++],!!zR(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&_t({},sr,kr),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function qie(){var e,t;for(e=$e.charCodeAt(te++),t=String.fromCharCode(e),e===92&&($e.charCodeAt(te)!==117&&_t({},sr,kr),++te,e=WM("u"),(!e||e==="\\"||!Px(e.charCodeAt(0)))&&_t({},sr,kr),t=e);te<Yr&&(e=$e.charCodeAt(te),!!cS(e));)++te,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),$e.charCodeAt(te)!==117&&_t({},sr,kr),++te,e=WM("u"),(!e||e==="\\"||!cS(e.charCodeAt(0)))&&_t({},sr,kr),t+=e);return t}function nje(){var e,t;for(e=te++;te<Yr;){if(t=$e.charCodeAt(te),t===92)return te=e,qie();if(cS(t))++te;else break}return $e.slice(e,te)}function rje(){var e,t,n;return e=te,t=$e.charCodeAt(te)===92?qie():nje(),t.length===1?n=Dd:eje.hasOwnProperty(t)?n=rf:t==="null"?n=XA:t==="true"||t==="false"?n=VA:n=Dd,{type:n,value:t,start:e,end:te}}function JP(){var e=te,t=$e.charCodeAt(te),n,r=$e[te],i,a,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++te,{type:ji,value:String.fromCharCode(t),start:e,end:te};default:if(n=$e.charCodeAt(te+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return te+=2,{type:ji,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:te};case 33:case 61:return te+=2,$e.charCodeAt(te)===61&&++te,{type:ji,value:$e.slice(e,te),start:e,end:te}}}if(o=$e.substr(te,4),o===">>>=")return te+=4,{type:ji,value:o,start:e,end:te};if(a=o.substr(0,3),a===">>>"||a==="<<="||a===">>=")return te+=3,{type:ji,value:a,start:e,end:te};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return te+=2,{type:ji,value:i,start:e,end:te};if(i==="//"&&_t({},sr,kr),"<>=!+-*%&|^/".includes(r))return++te,{type:ji,value:r,start:e,end:te};_t({},sr,kr)}function ije(e){let t="";for(;te<Yr&&zR($e[te]);)t+=$e[te++];return t.length===0&&_t({},sr,kr),Px($e.charCodeAt(te))&&_t({},sr,kr),{type:ch,value:parseInt("0x"+t,16),start:e,end:te}}function aje(e){let t="0"+$e[te++];for(;te<Yr&&tv($e[te]);)t+=$e[te++];return(Px($e.charCodeAt(te))||Ll($e.charCodeAt(te)))&&_t({},sr,kr),{type:ch,value:parseInt(t,8),octal:!0,start:e,end:te}}function jU(){var e,t,n;if(n=$e[te],YA(Ll(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=te,e="",n!=="."){if(e=$e[te++],n=$e[te],e==="0"){if(n==="x"||n==="X")return++te,ije(t);if(tv(n))return aje(t);n&&Ll(n.charCodeAt(0))&&_t({},sr,kr)}for(;Ll($e.charCodeAt(te));)e+=$e[te++];n=$e[te]}if(n==="."){for(e+=$e[te++];Ll($e.charCodeAt(te));)e+=$e[te++];n=$e[te]}if(n==="e"||n==="E")if(e+=$e[te++],n=$e[te],(n==="+"||n==="-")&&(e+=$e[te++]),Ll($e.charCodeAt(te)))for(;Ll($e.charCodeAt(te));)e+=$e[te++];else _t({},sr,kr);return Px($e.charCodeAt(te))&&_t({},sr,kr),{type:ch,value:parseFloat(e),start:t,end:te}}function oje(){var e="",t,n,r,i,a=!1;for(t=$e[te],YA(t==="'"||t==='"',"String literal must starts with a quote"),n=te,++te;te<Yr;)if(r=$e[te++],r===t){t="";break}else if(r==="\\")if(r=$e[te++],!r||!Zv(r.charCodeAt(0)))switch(r){case"u":case"x":$e[te]==="{"?(++te,e+=tje()):e+=WM(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:tv(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),te<Yr&&tv($e[te])&&(a=!0,i=i*8+"01234567".indexOf($e[te++]),"0123".includes(r)&&te<Yr&&tv($e[te])&&(i=i*8+"01234567".indexOf($e[te++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&$e[te]===`
`&&++te;else{if(Zv(r.charCodeAt(0)))break;e+=r}return t!==""&&_t({},sr,kr),{type:Ox,value:e,octal:a,start:n,end:te}}function sje(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";_t({},UM)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{_t({},UM)}try{return new RegExp(e,t)}catch{return null}}function lje(){var e,t,n,r,i;for(e=$e[te],YA(e==="/","Regular expression literal must start with a slash"),t=$e[te++],n=!1,r=!1;te<Yr;)if(e=$e[te++],t+=e,e==="\\")e=$e[te++],Zv(e.charCodeAt(0))&&_t({},QP),t+=e;else if(Zv(e.charCodeAt(0)))_t({},QP);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||_t({},QP),i=t.substr(1,t.length-2),{value:i,literal:t}}function uje(){var e,t,n;for(t="",n="";te<Yr&&(e=$e[te],!!cS(e.charCodeAt(0)));)++te,e==="\\"&&te<Yr?_t({},sr,kr):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&_t({},UM,n),{value:n,literal:t}}function cje(){var e,t,n,r;return jt=null,Hie(),e=te,t=lje(),n=uje(),r=sje(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:te}}function fje(e){return e.type===Dd||e.type===rf||e.type===VA||e.type===XA}function Gie(){if(Hie(),te>=Yr)return{type:Cx,start:te,end:te};const e=$e.charCodeAt(te);return Px(e)?rje():e===40||e===41||e===59?JP():e===39||e===34?oje():e===46?Ll($e.charCodeAt(te+1))?jU():JP():Ll(e)?jU():JP()}function Ri(){const e=jt;return te=e.end,jt=Gie(),te=e.end,e}function Vie(){const e=te;jt=Gie(),te=e}function dje(e){const t=new rs(jDe);return t.elements=e,t}function IU(e,t,n){const r=new rs(e==="||"||e==="&&"?zDe:IDe);return r.operator=e,r.left=t,r.right=n,r}function hje(e,t){const n=new rs(LDe);return n.callee=e,n.arguments=t,n}function pje(e,t,n){const r=new rs(FDe);return r.test=e,r.consequent=t,r.alternate=n,r}function BR(e){const t=new rs(Uie);return t.name=e,t}function C0(e){const t=new rs(RDe);return t.value=e.value,t.raw=$e.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function LU(e,t,n){const r=new rs(BDe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function mje(e){const t=new rs(UDe);return t.properties=e,t}function FU(e,t,n){const r=new rs(WDe);return r.key=t,r.value=n,r.kind=e,r}function gje(e,t){const n=new rs(HDe);return n.operator=e,n.argument=t,n.prefix=!0,n}function _t(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,o)=>(YA(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=te,n.description=i,n}function KA(e){e.type===Cx&&_t(e,YDe),e.type===ch&&_t(e,qDe),e.type===Ox&&_t(e,GDe),e.type===Dd&&_t(e,VDe),e.type===rf&&_t(e,XDe),_t(e,sr,e.value)}function Kr(e){const t=Ri();(t.type!==ji||t.value!==e)&&KA(t)}function rn(e){return jt.type===ji&&jt.value===e}function e$(e){return jt.type===rf&&jt.value===e}function yje(){const e=[];for(te=jt.start,Kr("[");!rn("]");)rn(",")?(Ri(),e.push(null)):(e.push(jd()),rn("]")||Kr(","));return Ri(),dje(e)}function RU(){te=jt.start;const e=Ri();return e.type===Ox||e.type===ch?(e.octal&&_t(e,Wie),C0(e)):BR(e.value)}function vje(){var e,t,n,r;if(te=jt.start,e=jt,e.type===Dd)return n=RU(),Kr(":"),r=jd(),FU("init",n,r);if(e.type===Cx||e.type===ji)KA(e);else return t=RU(),Kr(":"),r=jd(),FU("init",t,r)}function xje(){var e=[],t,n,r,i={},a=String;for(te=jt.start,Kr("{");!rn("}");)t=vje(),t.key.type===Uie?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?_t({},KDe):i[r]=!0,e.push(t),rn("}")||Kr(",");return Kr("}"),mje(e)}function bje(){Kr("(");const e=UR();return Kr(")"),e}const _je={if:1};function wje(){var e,t,n;if(rn("("))return bje();if(rn("["))return yje();if(rn("{"))return xje();if(e=jt.type,te=jt.start,e===Dd||_je[jt.value])n=BR(Ri().value);else if(e===Ox||e===ch)jt.octal&&_t(jt,Wie),n=C0(Ri());else{if(e===rf)throw new Error(Kv);e===VA?(t=Ri(),t.value=t.value==="true",n=C0(t)):e===XA?(t=Ri(),t.value=null,n=C0(t)):rn("/")||rn("/=")?(n=C0(cje()),Vie()):KA(Ri())}return n}function Sje(){const e=[];if(Kr("("),!rn(")"))for(;te<Yr&&(e.push(jd()),!rn(")"));)Kr(",");return Kr(")"),e}function Eje(){te=jt.start;const e=Ri();return fje(e)||KA(e),BR(e.value)}function Aje(){return Kr("."),Eje()}function kje(){Kr("[");const e=UR();return Kr("]"),e}function Cje(){var e,t,n;for(e=wje();;)if(rn("."))n=Aje(),e=LU(".",e,n);else if(rn("("))t=Sje(),e=hje(e,t);else if(rn("["))n=kje(),e=LU("[",e,n);else break;return e}function zU(){const e=Cje();if(jt.type===ji&&(rn("++")||rn("--")))throw new Error(Kv);return e}function pw(){var e,t;if(jt.type!==ji&&jt.type!==rf)t=zU();else{if(rn("++")||rn("--"))throw new Error(Kv);if(rn("+")||rn("-")||rn("~")||rn("!"))e=Ri(),t=pw(),t=gje(e.value,t);else{if(e$("delete")||e$("void")||e$("typeof"))throw new Error(Kv);t=zU()}}return t}function BU(e){let t=0;if(e.type!==ji&&e.type!==rf)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function Oje(){var e,t,n,r,i,a,o,s,l,u;if(e=jt,l=pw(),r=jt,i=BU(r),i===0)return l;for(r.prec=i,Ri(),t=[e,jt],o=pw(),a=[l,r,o];(i=BU(jt))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=IU(s,l,o),a.push(n);r=Ri(),r.prec=i,a.push(r),t.push(jt),n=pw(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=IU(a[u-1].value,a[u-2],n),u-=2;return n}function jd(){var e,t,n;return e=Oje(),rn("?")&&(Ri(),t=jd(),Kr(":"),n=jd(),e=pje(e,t,n)),e}function UR(){const e=jd();if(rn(","))throw new Error(Kv);return e}function Xie(e){$e=e,te=0,Yr=$e.length,jt=null,Vie();const t=UR();if(jt.type!==Cx)throw new Error("Unexpect token after expression.");return t}var Yie={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Kie(e){function t(o,s,l,u){let c=e(s[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(u<0?"":u===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(o,s,l){return u=>t(o,u,s,l)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&ee("Missing arguments to clamp function."),o.length>3&&ee("Too many arguments to clamp function.");const s=o.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:a,test:n("test",a),if:function(o){o.length<3&&ee("Missing arguments to if function."),o.length>3&&ee("Too many arguments to if function.");const s=o.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function Pje(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function Zie(e){e=e||{};const t=e.allowed?Yo(e.allowed):{},n=e.forbidden?Yo(e.forbidden):{},r=e.constants||Yie,i=(e.functions||Kie)(f),a=e.globalvar,o=e.fieldvar,s=et(a)?a:m=>`${a}["${m}"]`;let l={},u={},c=0;function f(m){if(Ee(m))return m;const g=d[m.type];return g==null&&ee("Unsupported type: "+m.type),g(m)}const d={Literal:m=>m.raw,Identifier:m=>{const g=m.name;return c>0?g:ke(n,g)?ee("Illegal identifier: "+g):ke(r,g)?r[g]:ke(t,g)?g:(l[g]=1,s(g))},MemberExpression:m=>{const g=!m.computed,x=f(m.object);g&&(c+=1);const v=f(m.property);return x===o&&(u[Pje(v)]=1),g&&(c-=1),x+(g?"."+v:"["+v+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&ee("Illegal callee type: "+m.callee.type);const g=m.callee.name,x=m.arguments,v=ke(i,g)&&i[g];return v||ee("Unrecognized function: "+g),et(v)?v(x):v+"("+x.map(f).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(f).join(",")+"]",BinaryExpression:m=>"("+f(m.left)+" "+m.operator+" "+f(m.right)+")",UnaryExpression:m=>"("+m.operator+f(m.argument)+")",ConditionalExpression:m=>"("+f(m.test)+"?"+f(m.consequent)+":"+f(m.alternate)+")",LogicalExpression:m=>"("+f(m.left)+m.operator+f(m.right)+")",ObjectExpression:m=>{for(const g of m.properties){const x=g.key.name;m3.has(x)&&ee("Illegal property: "+x)}return"{"+m.properties.map(f).join(",")+"}"},Property:m=>{c+=1;const g=f(m.key);return c-=1,g+":"+f(m.value)}};function p(m){const g={code:f(m),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return p.functions=i,p.constants=r,p}const UU=Symbol("vega_selection_getter");function Qie(e){return(!e.getter||!e.getter[UU])&&(e.getter=oo(e.field),e.getter[UU]=!0),e.getter}const WR="intersect",WU="union",$je="vlMulti",Tje="vlPoint",HU="or",Nje="and",As="_vgsid_",Qv=oo(As),Mje="E",Dje="R",jje="R-E",Ije="R-LE",Lje="R-RE",Fje="E-LT",Rje="E-LTE",zje="E-GT",Bje="E-GTE",Uje="E-VALID",Wje="E-ONE",fS="index:unit";function qU(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,o,s;a<i;++a)if(s=n[a],o=Qie(s)(e),Ac(o)&&(o=qr(o)),Ac(r[a])&&(r[a]=qr(r[a])),ae(r[a])&&Ac(r[a][0])&&(r[a]=r[a].map(qr)),s.type===Mje){if(ae(r[a])?!r[a].includes(o):o!==r[a])return!1}else if(s.type===Dje){if(!gp(o,r[a]))return!1}else if(s.type===Lje){if(!gp(o,r[a],!0,!1))return!1}else if(s.type===jje){if(!gp(o,r[a],!1,!1))return!1}else if(s.type===Ije){if(!gp(o,r[a],!1,!0))return!1}else if(s.type===Fje){if(o>=r[a])return!1}else if(s.type===Rje){if(o>r[a])return!1}else if(s.type===zje){if(o<=r[a])return!1}else if(s.type===Bje){if(o<r[a])return!1}else if(s.type===Uje){if(o===null||isNaN(o))return!1}else if(s.type===Wje&&r[a].indexOf(o)===-1)return!1;return!0}function Hje(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[fS]&&r[fS].value:void 0,o=n===WR,s=i.length,l=0,u,c,f,d,p;l<s;++l)if(u=i[l],a&&o){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(p=qU(t,u),c[d]=p?-1:++f,p&&a.size===1)return!0;if(!p&&f===a.get(d).count)return!1}else if(p=qU(t,u),o^p)return p;return s&&o}const Jie=xg(Qv),qje=Jie.left,Gje=Jie.right;function Vje(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[fS]&&r[fS].value:void 0,o=n===WR,s=Qv(t),l=qje(i,s);if(l===i.length||Qv(i[l])!==s)return!1;if(a&&o){if(a.size===1)return!0;if(Gje(i,s)-l<a.size)return!1}return!0}function Xje(e,t){return ae(e)||ee("First argument to selectionTuples must be an array."),Se(t)||ee("Second argument to selectionTuples must be an object."),e.map(n=>Je(t.fields?{values:t.fields.map(r=>Qie(r)(n.datum))}:{[As]:Qv(n.datum)},t))}function Yje(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],o={},s={},l={},u,c,f,d,p,m,g,x,v,b,_=a.length,k=0,E,A;k<_;++k)if(u=a[k],d=u.unit,c=u.fields,f=u.values,c&&f){for(E=0,A=c.length;E<A;++E)p=c[E],g=o[p.field]||(o[p.field]={}),x=g[d]||(g[d]=[]),l[p.field]=v=p.type.charAt(0),b=t$[`${v}_union`],g[d]=b(x,Ae(f[E]));n&&(x=s[d]||(s[d]=[]),x.push(Ae(f).reduce((C,P,T)=>(C[c[T].field]=P,C),{})))}else p=As,m=Qv(u),g=o[p]||(o[p]={}),x=g[d]||(g[d]=[]),x.push(m),n&&(x=s[d]||(s[d]=[]),x.push({[As]:m}));if(t=t||WU,o[As]?o[As]=t$[`${As}_${t}`](...Object.values(o[As])):Object.keys(o).forEach(C=>{o[C]=Object.keys(o[C]).map(P=>o[C][P]).reduce((P,T)=>P===void 0?T:t$[`${l[C]}_${t}`](P,T))}),a=Object.keys(s),n&&a.length){const C=r?Tje:$je;o[C]=t===WU?{[HU]:a.reduce((P,T)=>(P.push(...s[T]),P),[])}:{[Nje]:a.map(P=>({[HU]:s[P]}))}}return o}var t$={[`${As}_union`]:jbe,[`${As}_intersect`]:Mbe,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=qr(t[0]),r=qr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=qr(t[0]),r=qr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const Kje=":",Zje="@";function HR(e,t,n,r){t[0].type!==Md&&ee("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&pt(t).value,o="unit",s=Zje+o,l=Kje+i;a===WR&&!ke(r,s)&&(r[s]=n.getData(i).indataRef(n,o)),ke(r,l)||(r[l]=n.getData(i).tuplesRef())}function eae(e){const t=this.context.data[e];return t?t.values.value:[]}function Qje(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function Jje(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(so).insert(t)),1}function eIe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const $x=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},tIe=$x("format"),tae=$x("timeFormat"),nIe=$x("utcFormat"),rIe=$x("timeParse"),iIe=$x("utcParse"),c_=new Date(2e3,0,1);function ZA(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(c_.setYear(2e3),c_.setMonth(e),c_.setDate(t),tae.call(this,c_,n))}function aIe(e){return ZA.call(this,e,1,"%B")}function oIe(e){return ZA.call(this,e,1,"%b")}function sIe(e){return ZA.call(this,0,2+e,"%A")}function lIe(e){return ZA.call(this,0,2+e,"%a")}const uIe=":",cIe="@",HM="%",nae="$";function qR(e,t,n,r){t[0].type!==Md&&ee("First argument to data functions must be a string literal.");const i=t[0].value,a=uIe+i;if(!ke(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function fIe(e,t,n,r){t[0].type!==Md&&ee("First argument to indata must be a string literal."),t[1].type!==Md&&ee("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,o=cIe+a;ke(o,r)||(r[o]=n.getData(i).indataRef(n,a))}function wi(e,t,n,r){if(t[0].type===Md)GU(n,r,t[0].value);else for(e in n.scales)GU(n,r,e)}function GU(e,t,n){const r=HM+n;if(!ke(t,r))try{t[r]=e.scaleRef(n)}catch{}}function cl(e,t){if(Ee(e)){const n=t.scales[e];return n&&Y9(n.value)?n.value:void 0}else if(et(e))return Y9(e)?e:void 0}function dIe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=wi,n._range=wi,n._scale=wi;const r=i=>"_["+(i.type===Md?ye(HM+i.value):ye(HM)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function GR(e,t){return function(n,r,i){if(n){const a=cl(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const hIe=GR("area",TPe),pIe=GR("bounds",jPe),mIe=GR("centroid",BPe);function gIe(e,t){const n=cl(e,(t||this).context);return n&&n.scale()}function yIe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function VR(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function vIe(){return VR(this.context.dataflow,"warn",arguments)}function xIe(){return VR(this.context.dataflow,"info",arguments)}function bIe(){return VR(this.context.dataflow,"debug",arguments)}function n$(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qM(e){const t=Lc(e),n=n$(t.r),r=n$(t.g),i=n$(t.b);return .2126*n+.7152*r+.0722*i}function _Ie(e,t){const n=qM(e),r=qM(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function wIe(){const e=[].slice.call(arguments);return e.unshift({}),Je(...e)}function rae(e,t){return e===t||e!==e&&t!==t?!0:ae(e)?ae(t)&&e.length===t.length?SIe(e,t):!1:Se(e)&&Se(t)?iae(e,t):!1}function SIe(e,t){for(let n=0,r=e.length;n<r;++n)if(!rae(e[n],t[n]))return!1;return!0}function iae(e,t){for(const n in e)if(!rae(e[n],t[n]))return!1;return!0}function VU(e){return t=>iae(e,t)}function EIe(e,t,n,r,i,a){const o=this.context.dataflow,s=this.context.data[e],l=s.input,u=o.stamp();let c=s.changes,f,d;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(s.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{s.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(f=n===!0?so:ae(n)||nA(n)?n:VU(n),c.remove(f)),t&&c.insert(t),r&&(f=VU(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in a)c.modify(i,d,a[d]);return 1}function AIe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function kIe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const XU={};function CIe(e,t){const n=XU[t]||(XU[t]=oo(t));return ae(e)?e.map(n):n(e)}function QA(e){return ae(e)||ArrayBuffer.isView(e)?e:null}function XR(e){return QA(e)||(Ee(e)?e:null)}function OIe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return QA(e).join(...n)}function PIe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XR(e).indexOf(...n)}function $Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XR(e).lastIndexOf(...n)}function TIe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XR(e).slice(...n)}function NIe(e,t,n){return et(n)&&ee("Function argument passed to replace."),!Ee(t)&&!E3(t)&&ee("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function MIe(e){return QA(e).slice().reverse()}function DIe(e){return QA(e).slice().sort(yg)}function jIe(e,t,n){return lF(e||0,t||0,n||0)}function IIe(e,t){const n=cl(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function LIe(e,t){const n=cl(e,(t||this).context);return n?n.copy():void 0}function FIe(e,t){const n=cl(e,(t||this).context);return n?n.domain():[]}function RIe(e,t,n){const r=cl(e,(n||this).context);return r?ae(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function zIe(e,t){const n=cl(e,(t||this).context);return n&&n.range?n.range():[]}function BIe(e,t,n){const r=cl(e,(n||this).context);return r?r(t):void 0}function UIe(e,t,n,r,i){e=cl(e,(i||this).context);const a=Vte(t,n);let o=e.domain(),s=o[0],l=pt(o),u=ei;return l-s?u=jte(e,s,l):e=(e.interpolator?At("sequential")().interpolator(e.interpolator()):At("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(o=e.ticks(+r||15),s!==o[0]&&o.unshift(s),l!==pt(o)&&o.push(l)),o.forEach(c=>a.stop(u(c),e(c))),a}function WIe(e,t,n){const r=cl(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function HIe(e){let t=null;return function(n){return n?Uv(n,t=t||ym(e)):e}}const aae=e=>e.data;function oae(e,t){const n=eae.call(t,e);return n.root&&n.root.lookup||{}}function qIe(e,t,n){const r=oae(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(aae):void 0}function GIe(e,t){const n=oae(e,this)[t];return n?n.ancestors().map(aae):void 0}const sae=()=>typeof window<"u"&&window||null;function VIe(){const e=sae();return e?e.screen:{}}function XIe(){const e=sae();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function YIe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function lae(e,t,n){if(!e)return[];const[r,i]=e,a=new zn().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return Hne(o,a,KIe(t))}function KIe(e){let t=null;if(e){const n=Ae(e.marktype),r=Ae(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function ZIe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Ae(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function QIe(e){return Ae(e).reduce((t,n,r)=>{let[i,a]=n;return t+=r==0?`M ${i},${a} `:r===e.length-1?" Z":`L ${i},${a} `},"")}function JIe(e,t,n){const{x:r,y:i,mark:a}=n,o=new zn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),lae([[o.x1,o.y1],[o.x2,o.y2]],e,a).filter(l=>e3e(l.x,l.y,t))}function e3e(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[o,s]=n[a],[l,u]=n[i];u>t!=s>t&&e<(o-l)*(t-u)/(s-u)+l&&r++}return r&1}const Jv={random(){return uo()},cumulativeNormal:sA,cumulativeLogNormal:Q3,cumulativeUniform:nL,densityNormal:V3,densityLogNormal:Z3,densityUniform:tL,quantileNormal:lA,quantileLogNormal:J3,quantileUniform:rL,sampleNormal:oA,sampleLogNormal:K3,sampleUniform:eL,isArray:ae,isBoolean:Qc,isDate:Ac,isDefined(e){return e!==void 0},isNumber:St,isObject:Se,isRegExp:E3,isString:Ee,isTuple:nA,isValid(e){return e!=null&&e===e},toBoolean:k3,toDate(e){return C3(e)},toNumber:qr,toString:O3,indexof:PIe,join:OIe,lastindexof:$Ie,replace:NIe,reverse:MIe,sort:DIe,slice:TIe,flush:cQ,lerp:dQ,merge:wIe,pad:mQ,peek:pt,pluck:CIe,span:ex,inrange:gp,truncate:gQ,rgb:Lc,lab:g2,hcl:y2,hsl:p2,luminance:qM,contrast:_Ie,sequence:Ui,format:tIe,utcFormat:nIe,utcParse:iIe,utcOffset:XQ,utcSequence:ZQ,timeFormat:tae,timeParse:rIe,timeOffset:VQ,timeSequence:KQ,timeUnitSpecifier:IQ,monthFormat:aIe,monthAbbrevFormat:oIe,dayFormat:sIe,dayAbbrevFormat:lIe,quarter:oQ,utcquarter:sQ,week:FQ,utcweek:BQ,dayofyear:LQ,utcdayofyear:zQ,warn:vIe,info:xIe,debug:bIe,extent(e){return Ys(e)},inScope:yIe,intersect:lae,clampRange:lQ,pinchDistance:AIe,pinchAngle:kIe,screen:VIe,containerSize:YIe,windowSize:XIe,bandspace:jIe,setdata:Jje,pathShape:HIe,panLinear:nQ,panLog:rQ,panPow:iQ,panSymlog:aQ,zoomLinear:x3,zoomLog:b3,zoomPow:Qw,zoomSymlog:_3,encode:eIe,modify:EIe,lassoAppend:ZIe,lassoPath:QIe,intersectLasso:JIe},t3e=["view","item","group","xy","x","y"],n3e="event.vega.",uae="this.",YR={},cae={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ye(nae+e)}]`,functions:r3e,constants:Yie,visitors:YR},GM=Zie(cae);function r3e(e){const t=Kie(e);t3e.forEach(n=>t[n]=n3e+n);for(const n in Jv)t[n]=uae+n;return Je(t,dIe(e,Jv,YR)),t}function Mn(e,t,n){return arguments.length===1?Jv[e]:(Jv[e]=t,n&&(YR[e]=n),GM&&(GM.functions[e]=uae+e),this)}Mn("bandwidth",IIe,wi);Mn("copy",LIe,wi);Mn("domain",FIe,wi);Mn("range",zIe,wi);Mn("invert",RIe,wi);Mn("scale",BIe,wi);Mn("gradient",UIe,wi);Mn("geoArea",hIe,wi);Mn("geoBounds",pIe,wi);Mn("geoCentroid",mIe,wi);Mn("geoShape",WIe,wi);Mn("geoScale",gIe,wi);Mn("indata",Qje,fIe);Mn("data",eae,qR);Mn("treePath",qIe,qR);Mn("treeAncestors",GIe,qR);Mn("vlSelectionTest",Hje,HR);Mn("vlSelectionIdTest",Vje,HR);Mn("vlSelectionResolve",Yje,HR);Mn("vlSelectionTuples",Xje);function el(e,t){const n={};let r;try{e=Ee(e)?e:ye(e)+"",r=Xie(e)}catch{ee("Expression parse error: "+e)}r.visit(a=>{if(a.type!==Bie)return;const o=a.callee.name,s=cae.visitors[o];s&&s(o,a.arguments,t,n)});const i=GM(r);return i.globals.forEach(a=>{const o=nae+a;!ke(n,o)&&t.getSignal(a)&&(n[o]=t.signalRef(a))}),{$expr:Je({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function i3e(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const a3e=Yo(["rule"]),YU=Yo(["group","image","rect"]);function o3e(e,t){let n="";return a3e[t]||(e.x2&&(e.x?(YU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(YU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function KR(e){return(e+"").toLowerCase()}function s3e(e){return KR(e)==="operator"}function l3e(e){return KR(e)==="collect"}function zy(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function u3e(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var c3e={operator:(e,t)=>zy(e,["_"],t.code),parameter:(e,t)=>zy(e,["datum","_"],t.code),event:(e,t)=>zy(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return zy(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const o="o["+ye(a)+"]";i+=`$=${r[a].code};if(${o}!==$)${o}=$,m=1;`}return i+=o3e(r,n),i+="return m;",zy(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ye).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(a,o)=>{const s=t[o];let l,u;return a.path?(l=`a${a.path}`,u=`b${a.path}`):((n=n||{})["f"+o]=a,l=`this.f${o}(a)`,u=`this.f${o}(b)`),u3e(l,u,-s,s)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function f3e(e){const t=this;s3e(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function d3e(e){const t=this;if(e.params){const n=t.get(e.id);n||ee("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function h3e(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=ae(i)?i.map(a=>KU(a,n,t)):KU(i,n,t)}return t}function KU(e,t,n){if(!e||!Se(e))return e;for(let r=0,i=ZU.length,a;r<i;++r)if(a=ZU[r],ke(e,a.key))return a.parse(e,t,n);return e}var ZU=[{key:"$ref",parse:p3e},{key:"$key",parse:g3e},{key:"$expr",parse:m3e},{key:"$field",parse:y3e},{key:"$encode",parse:x3e},{key:"$compare",parse:v3e},{key:"$context",parse:b3e},{key:"$subflow",parse:_3e},{key:"$tupleid",parse:w3e}];function p3e(e,t){return t.get(e.$ref)||ee("Operator not defined: "+e.$ref)}function m3e(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=na(t.parameterExpression(e.$expr),e.$fields))}function g3e(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=A3(e.$key,e.$flat,t.expr.codegen))}function y3e(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=oo(e.$field,e.$name,t.expr.codegen))}function v3e(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Ae(e.$compare).map(i=>i&&i.$tupleid?Le:i);return t.fn[n]||(t.fn[n]=w3(r,e.$order,t.expr.codegen))}function x3e(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=na(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function b3e(e,t){return t}function _3e(e,t){const n=e.$subflow;return function(r,i,a){const o=t.fork().parse(n),s=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(a),s.detachSubflow=()=>t.detach(o),s}}function w3e(){return Le}function S3e(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ee("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function E3e(e){var t=this,n=Se(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,o=void 0;r||ee("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(o=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,o)}const A3e={skip:!0};function k3e(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const o=t.signals[a];e.signals(a,o)&&(r[a]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const o=t.data[a];e.data(a,o)&&(i[a]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function C3e(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],A3e)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(so).insert(r[a]))}),(e.subcontext||[]).forEach((a,o)=>{const s=t.subcontext[o];s&&s.setState(a)})}function fae(e,t,n,r){return new dae(e,t,n,r)}function dae(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||c3e,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function QU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}dae.prototype=QU.prototype={fork(){const e=new QU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),l3e(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const o=n.data[a]||(n.data[a]={});e.data[a].forEach(s=>o[s]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[KR(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:i3e,parseOperator:f3e,parseOperatorParameters:d3e,parseParameters:h3e,parseStream:S3e,parseUpdate:E3e,getState:k3e,setState:C3e};function O3e(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),hae(t,e.description()))}function hae(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function P3e(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const r$="default";function $3e(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:r$,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,a=i?Ee(i)?i:i.user:r$,o=r.item&&r.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ee(r)||(i=r.item,r=r.user),VM(e,r&&r!==r$?r:i||r),i},{cursor:t})}function VM(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function dS(e,t){var n=e._runtime.data;return ke(n,t)||ee("Unrecognized data set: "+t),n[t]}function T3e(e,t){return arguments.length<2?dS(this,e).values.value:JA.call(this,e,lh().remove(so).insert(t))}function JA(e,t){EJ(t)||ee("Second argument to changes must be a changeset.");const n=dS(this,e);return n.modified=!0,this.pulse(n.input,t)}function N3e(e,t){return JA.call(this,e,lh().insert(t))}function M3e(e,t){return JA.call(this,e,lh().remove(t))}function pae(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function mae(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function ek(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function D3e(e){var t=ek(e),n=pae(e),r=mae(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function j3e(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,o,s;return i&&(s=ek(e),o=t.changedTouches?t.changedTouches[0]:t,a=RA(o,i),a[0]-=s[0],a[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=I3e(e,n,a),t}function I3e(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var s=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){s=l;break}}return s&&s.mark&&s.mark.interactive?s:{}}function a(o){if(!o)return n;Ee(o)&&(o=i(o));const s=n.slice();for(;o;)s[0]-=o.x||0,s[1]-=o.y||0,o=o.mark&&o.mark.group;return s}return{view:ti(e),item:ti(t||{}),group:i,xy:a,x:o=>a(o)[0],y:o=>a(o)[1]}}const JU="view",L3e="timer",F3e="window",R3e={trap:!1};function z3e(e){const t=Je({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{ae(r[a])&&(r[a]=Yo(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function gae(e,t,n,r){e._eventListeners.push({type:n,sources:Ae(t),handler:r})}function B3e(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function f_(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Se(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function U3e(e,t,n){var r=this,i=new aA(n),a=function(u,c){r.runAsync(null,()=>{e===JU&&B3e(r,t)&&u.preventDefault(),i.receive(j3e(r,u,c))})},o;if(e===L3e)f_(r,"timer",t)&&r.timer(a,t);else if(e===JU)f_(r,"view",t)&&r.addEventListener(t,a,R3e);else if(e===F3e?f_(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&f_(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var s=0,l=o.length;s<l;++s)o[s].addEventListener(t,a);gae(r,o,t,a)}return i}function eW(e){return e.item}function tW(e){return e.item.mark.source}function nW(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function W3e(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",eW),tW,nW(e)),this.on(this.events("view","pointerout",eW),tW,nW(t)),this}function H3e(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,a,o,s,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],a=o.sources.length;--a>=0;)o.sources[a].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,s=n[i].handler,this._handler.off(l,s);return this}function wa(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const q3e="vega-bind",G3e="vega-bind-name",V3e="vega-bind-radio";function X3e(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=S3(r.debounce,i.update))),(r.input==null&&r.element?Y3e:Z3e)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function Y3e(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),gae(r,t,i,a),e.set=o=>{t.value=o,t.dispatchEvent(K3e(i))}}function K3e(e){return typeof Event<"u"?new Event(e):{type:e}}function Z3e(e,t,n,r){const i=r.signal(n.signal),a=wa("div",{class:q3e}),o=n.input==="radio"?a:a.appendChild(wa("label"));o.appendChild(wa("span",{class:G3e},n.name||n.signal)),t.appendChild(a);let s=Q3e;switch(n.input){case"checkbox":s=J3e;break;case"select":s=eLe;break;case"radio":s=tLe;break;case"range":s=nLe;break}s(e,o,n,i)}function Q3e(e,t,n,r){const i=wa("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function J3e(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=wa("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=o=>a.checked=!!o||null}function eLe(e,t,n,r){const i=wa("select",{name:n.signal}),a=n.labels||[];n.options.forEach((o,s)=>{const l={value:o};hS(o,r)&&(l.selected=!0),i.appendChild(wa("option",l,(a[s]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let s=0,l=n.options.length;s<l;++s)if(hS(n.options[s],o)){i.selectedIndex=s;return}}}function tLe(e,t,n,r){const i=wa("span",{class:V3e}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,s)=>{const l={type:"radio",name:n.signal,value:o};hS(o,r)&&(l.checked=!0);const u=wa("input",l);u.addEventListener("change",()=>e.update(o));const c=wa("label",{},(a[s]||o)+"");return c.prepend(u),i.appendChild(c),u}),e.set=o=>{const s=e.elements,l=s.length;for(let u=0;u<l;++u)hS(s[u].value,o)&&(s[u].checked=!0)}}function nLe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||Mc(a,i,100),s=wa("input",{type:"range",name:n.signal,min:a,max:i,step:o});s.value=r;const l=wa("span",{},+r);t.appendChild(s),t.appendChild(l);const u=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",u),s.addEventListener("change",u),e.elements=[s],e.set=c=>{s.value=c,l.textContent=c}}function hS(e,t){return e===t||e+""==t+""}function yae(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,pae(e),mae(e),ek(e),i,a).background(e.background())}function ZR(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function rLe(e,t,n,r){const i=new r(e.loader(),ZR(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,ek(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function iLe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=zA(r);e=n._el=e?i$(n,e,!0):null,O3e(n),a||n.error("Unrecognized renderer type: "+r);const o=a.handler||wx,s=e?a.renderer:a.headless;return n._renderer=s?yae(n,n._renderer,e,s):null,n._handler=rLe(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=i$(n,t,!0):e.appendChild(wa("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=i$(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{X3e(n,l.element||t,l)})),n}function i$(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const By=e=>+e||0,aLe=e=>({top:e,bottom:e,left:e,right:e});function rW(e){return Se(e)?{top:By(e.top),bottom:By(e.bottom),left:By(e.left),right:By(e.right)}:aLe(By(e))}async function QR(e,t,n,r){const i=zA(t),a=i&&i.headless;return a||ee("Unrecognized renderer type: "+t),await e.runAsync(),yae(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function oLe(e,t){e!==uc.Canvas&&e!==uc.SVG&&e!==uc.PNG&&ee("Unrecognized image type: "+e);const n=await QR(this,e,t);return e===uc.SVG?sLe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function sLe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function lLe(e,t){return(await QR(this,uc.Canvas,e,t)).canvas()}async function uLe(e){return(await QR(this,uc.SVG,e)).svg()}function cLe(e,t,n){return fae(e,fm,Jv,n).parse(t)}function fLe(e){var t=this._runtime.scales;return ke(t,e)||ee("Unrecognized scale or projection: "+e),t[e].value}var vae="width",xae="height",JR="padding",iW={skip:!0};function bae(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===JR?r.left+r.right:0)}function _ae(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===JR?r.top+r.bottom:0)}function dLe(e){var t=e._signals,n=t[vae],r=t[xae],i=t[JR];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,s=>{e._width=s.size,e._viewWidth=bae(e,s.size),a()},{size:n}),e._resizeHeight=e.add(null,s=>{e._height=s.size,e._viewHeight=_ae(e,s.size),a()},{size:r});const o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function hLe(e,t,n,r,i,a){this.runAfter(o=>{let s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal(vae,n,iW),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.signal(xae,r,iW),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(l=>l.resize())},!1,1)}function pLe(e){return this._runtime.getState(e||{data:mLe,signals:gLe,recurse:!0})}function mLe(e,t){return t.modified&&ae(t.input.value)&&!e.startsWith("_:vega:_")}function gLe(e,t){return!(e==="parent"||t instanceof fm.proxy)}function yLe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function vLe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(UTe(n,t))}function xLe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",bLe(r))}function bLe(e){return e==null?"":ae(e)?wae(e):Se(e)&&!Ac(e)?_Le(e):e+""}function _Le(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(ae(n)?wae(n):Sae(n))}).join(`
`)}function wae(e){return"["+e.map(Sae).join(", ")+"]"}function Sae(e){return ae(e)?"[]":Se(e)&&!Ac(e)?"{}":e}function wLe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Eae(e,t){const n=this;if(t=t||{},Lp.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=Je({},e.locale,t.locale);n.locale(pJ(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||uc.Canvas,n._scenegraph=new yne;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||xLe,n._redraw=!0,n._handler=new wx().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=z3e(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=cLe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:Je({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=bae(n,n._width),n._viewHeight=_ae(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,dLe(n),P3e(n),$3e(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function d_(e,t){return ke(e._signals,t)?e._signals[t]:ee("Unrecognized signal name: "+ye(t))}function Aae(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function aW(e,t,n,r){let i=Aae(n,r);return i||(i=ZR(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function oW(e,t,n){const r=Aae(t,n);return r&&t._targets.remove(r),e}xe(Eae,Lp,{async evaluate(e,t,n){if(await Lp.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,D3e(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Z_(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&hae(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=d_(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",rW(e)):rW(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(zA(e)||ee("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Lp.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(d_(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:hLe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=ZR(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return aW(this,e,d_(this,e),t)},removeSignalListener(e,t){return oW(this,d_(this,e),t)},addDataListener(e,t){return aW(this,e,dS(this,e).values,t)},removeDataListener(e,t){return oW(this,dS(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=VM(this,null);this._globalCursor=!!e,t&&VM(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:vLe,events:U3e,finalize:H3e,hover:W3e,data:T3e,change:JA,insert:N3e,remove:M3e,scale:fLe,initialize:iLe,toImageURL:oLe,toCanvas:lLe,toSVG:uLe,getState:pLe,setState:yLe,_watchPixelRatio:wLe});const SLe="view",pS="[",mS="]",kae="{",Cae="}",ELe=":",Oae=",",ALe="@",kLe=">",CLe=/[[\]{}]/,OLe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Pae,$ae;function af(e,t,n){return Pae=t||SLe,$ae=n||OLe,Tae(e.trim()).map(XM)}function PLe(e){return $ae[e]}function nv(e,t,n,r,i){const a=e.length;let o=0,s;for(;t<a;++t){if(s=e[t],!o&&s===n)return t;i&&i.indexOf(s)>=0?--o:r&&r.indexOf(s)>=0&&++o}return t}function Tae(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=nv(e,i,Oae,pS+kae,mS+Cae),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function XM(e){return e[0]==="["?$Le(e):TLe(e)}function $Le(e){const t=e.length;let n=1,r;if(n=nv(e,n,mS,pS,mS),n===t)throw"Empty between selector: "+e;if(r=Tae(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==kLe)throw"Expected '>' after between selector: "+e;r=r.map(XM);const i=XM(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function TLe(e){const t={source:Pae},n=[];let r=[0,0],i=0,a=0,o=e.length,s=0,l,u;if(e[o-1]===Cae){if(s=e.lastIndexOf(kae),s>=0){try{r=NLe(e.substring(s+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,s).trim(),o=e.length}else throw"Unmatched right brace: "+e;s=0}if(!o)throw e;if(e[0]===ALe&&(i=++s),l=nv(e,s,ELe),l<o&&(n.push(e.substring(a,l).trim()),a=s=++l),s=nv(e,s,pS),s===o)n.push(e.substring(a,o).trim());else if(n.push(e.substring(a,s).trim()),u=[],a=++s,a===o)throw"Unmatched left bracket: "+e;for(;s<o;){if(s=nv(e,s,mS),s===o)throw"Unmatched left bracket: "+e;if(u.push(e.substring(a,s).trim()),s<o-1&&e[++s]!==pS)throw"Expected left bracket: "+e;a=++s}if(!(o=n.length)||CLe.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):PLe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function NLe(e){const t=e.split(Oae);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function MLe(e){return Se(e)?e:{type:e||"pad"}}const Uy=e=>+e||0,DLe=e=>({top:e,bottom:e,left:e,right:e});function jLe(e){return Se(e)?e.signal?e:{top:Uy(e.top),bottom:Uy(e.bottom),left:Uy(e.left),right:Uy(e.right)}:DLe(Uy(e))}const lr=e=>Se(e)&&!ae(e)?Je({},e):{value:e};function sW(e,t,n,r){return n!=null?(Se(n)&&!ae(n)||ae(n)&&n.length&&Se(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Nr(e,t,n){for(const r in t)sW(e,r,t[r]);for(const r in n)sW(e,r,n[r],"update")}function Pg(e,t,n){for(const r in t)n&&ke(n,r)||(e[r]=Je(e[r]||{},t[r]));return e}function tp(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const e5="mark",t5="frame",n5="scope",ILe="axis",LLe="axis-domain",FLe="axis-grid",RLe="axis-label",zLe="axis-tick",BLe="axis-title",ULe="legend",WLe="legend-band",HLe="legend-entry",qLe="legend-gradient",Nae="legend-label",GLe="legend-symbol",VLe="legend-title",XLe="title",YLe="title-text",KLe="title-subtitle";function ZLe(e,t,n,r,i){const a={},o={};let s,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!tp(l,e)&&a$(a,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===t5?i.group:n===e5?Je({},i.mark,i[t]):null;for(l in c)u=tp(l,e)||(l==="fill"||l==="stroke")&&(tp("fill",e)||tp("stroke",e)),u||a$(a,l,c[l]);Ae(r).forEach(f=>{const d=i.style&&i.style[f];for(const p in d)tp(p,e)||a$(a,p,d[p])}),e=Je({},e);for(l in a)c=a[l],c.signal?(s=s||{})[l]=c:o[l]=c;return e.enter=Je(o,e.enter),s&&(e.update=Je(s,e.update)),e}function a$(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Mae=e=>Ee(e)?ye(e):e.signal?`(${e.signal})`:Dae(e);function tk(e){if(e.gradient!=null)return JLe(e);let t=e.signal?`(${e.signal})`:e.color?QLe(e.color):e.field!=null?Dae(e.field):e.value!==void 0?ye(e.value):void 0;return e.scale!=null&&(t=eFe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${mw(e.exponent)})`),e.mult!=null&&(t+=`*${mw(e.mult)}`),e.offset!=null&&(t+=`+${mw(e.offset)}`),e.round&&(t=`round(${t})`),t}const h_=(e,t,n,r)=>`(${e}(${[t,n,r].map(tk).join(",")})+'')`;function QLe(e){return e.c?h_("hcl",e.h,e.c,e.l):e.h||e.s?h_("hsl",e.h,e.s,e.l):e.l||e.a?h_("lab",e.l,e.a,e.b):e.r||e.g||e.b?h_("rgb",e.r,e.g,e.b):null}function JLe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ye(n));for(;t.length&&pt(t)==null;)t.pop();return t.unshift(Mae(e.gradient)),`gradient(${t.join(",")})`}function mw(e){return Se(e)?"("+tk(e)+")":e}function Dae(e){return jae(Se(e)?e:{datum:e})}function jae(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ee("Invalid field reference: "+ye(e));return e.signal||(r=Ee(r)?al(r).map(ye).join("]["):jae(r)),t+"["+r+"]"}function eFe(e,t){const n=Mae(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+mw(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function tFe(e){let t="";return e.forEach(n=>{const r=tk(n);t+=n.test?`(${n.test})?${r}:`:r}),pt(t)===":"&&(t+="null"),t}function Iae(e,t,n,r,i,a){const o={};a=a||{},a.encoders={$encode:o},e=ZLe(e,t,n,r,i.config);for(const s in e)o[s]=nFe(e[s],t,a,i);return a}function nFe(e,t,n,r){const i={},a={};for(const o in e)e[o]!=null&&(i[o]=iFe(rFe(e[o]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function rFe(e){return ae(e)?tFe(e):tk(e)}function iFe(e,t,n,r){const i=el(e,t);return i.$fields.forEach(a=>r[a]=1),Je(n,i.$params),i.$expr}const aFe="outer",oFe=["value","update","init","react","bind"];function lW(e,t){ee(e+' for "outer" push: '+ye(t))}function Lae(e,t){const n=e.name;if(e.push===aFe)t.signals[n]||lW("No prior signal definition",n),oFe.forEach(r=>{e[r]!==void 0&&lW("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function YM(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function nk(e,t,n,r){return new YM(e,t,n,r)}function gS(e,t){return nk("operator",e,t)}function Ie(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function e1(e,t){return t?{$field:e,$name:t}:{$field:e}}const KM=e1("key");function uW(e,t){return{$compare:e,$order:t}}function sFe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const lFe="ascending",uFe="descending";function cFe(e){return Se(e)?(e.order===uFe?"-":"+")+rk(e.op,e.field):""}function rk(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const r5="scope",ZM="view";function Kn(e){return e&&e.signal}function fFe(e){return e&&e.expr}function gw(e){if(Kn(e))return!0;if(Se(e)){for(const t in e)if(gw(e[t]))return!0}return!1}function No(e,t){return e??t}function fd(e){return e&&e.signal||e}const cW="timer";function t1(e,t){return(e.merge?hFe:e.stream?pFe:e.type?mFe:ee("Invalid stream specification: "+ye(e)))(e,t)}function dFe(e){return e===r5?ZM:e||ZM}function hFe(e,t){const n=e.merge.map(i=>t1(i,t)),r=i5({merge:n},e,t);return t.addStream(r).id}function pFe(e,t){const n=t1(e.stream,t),r=i5({stream:n},e,t);return t.addStream(r).id}function mFe(e,t){let n;e.type===cW?(n=t.event(cW,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(dFe(e.source),e.type);const r=i5({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function i5(e,t,n){let r=t.between;return r&&(r.length!==2&&ee('Stream "between" parameter must have 2 entries: '+ye(t)),e.between=[t1(r[0],n),t1(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(gFe(t.marktype,t.markname,t.markrole)),t.source===r5&&r.push("inScope(event.item)"),r.length&&(e.filter=el("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function gFe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const yFe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function vFe(e,t,n){const r=e.encode,i={target:n};let a=e.events,o=e.update,s=[];a||ee("Signal update missing events specification."),Ee(a)&&(a=af(a,t.isSubscope()?r5:ZM)),a=Ae(a).filter(l=>l.signal||l.scale?(s.push(l),0):1),s.length>1&&(s=[bFe(s)]),a.length&&s.push(a.length>1?{merge:a}:a[0]),r!=null&&(o&&ee("Signal encode and update are mutually exclusive."),o="encode(item(),"+ye(r)+")"),i.update=Ee(o)?el(o,t):o.expr!=null?el(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:yFe,$params:{$value:t.signalRef(o.signal)}}:ee("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach(l=>t.addUpdate(Je(xFe(l,t),i)))}function xFe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):t1(e,t)}}function bFe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function _Fe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ee("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=el(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>vFe(i,t,n.id))}const qt=e=>(t,n,r)=>nk(e,n,t||void 0,r),Fae=qt("aggregate"),wFe=qt("axisticks"),Rae=qt("bound"),is=qt("collect"),fW=qt("compare"),SFe=qt("datajoin"),zae=qt("encode"),EFe=qt("expression"),AFe=qt("facet"),kFe=qt("field"),CFe=qt("key"),OFe=qt("legendentries"),PFe=qt("load"),$Fe=qt("mark"),TFe=qt("multiextent"),NFe=qt("multivalues"),MFe=qt("overlap"),DFe=qt("params"),Bae=qt("prefacet"),jFe=qt("projection"),IFe=qt("proxy"),LFe=qt("relay"),Uae=qt("render"),FFe=qt("scale"),fh=qt("sieve"),RFe=qt("sortitems"),Wae=qt("viewlayout"),zFe=qt("values");let BFe=0;const Hae={min:"min",max:"max",count:"sum"};function UFe(e,t){const n=e.type||"linear";Pte(n)||ee("Unrecognized scale type: "+ye(n)),t.addScale(e.name,{type:n,domain:void 0})}function WFe(e,t){const n=t.getScale(e.name).params;let r;n.domain=qae(e.domain,e,t),e.range!=null&&(n.range=Vae(e,t,n)),e.interpolate!=null&&JFe(e.interpolate,n),e.nice!=null&&(n.nice=QFe(e.nice,t)),e.bins!=null&&(n.bins=ZFe(e.bins,t));for(r in e)ke(n,r)||r==="name"||(n[r]=Qa(e[r],t))}function Qa(e,t){return Se(e)?e.signal?t.signalRef(e.signal):ee("Unsupported object: "+ye(e)):e}function yw(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Qa(n,t))}function ik(e){ee("Can not find data set: "+ye(e))}function qae(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ee("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(ae(e)?HFe:e.fields?GFe:qFe)(e,t,n)}function HFe(e,t,n){return e.map(r=>Qa(r,n))}function qFe(e,t,n){const r=n.getData(e.data);return r||ik(e.data),gm(t.type)?r.valuesRef(n,e.field,Gae(e.sort,!1)):Nte(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function GFe(e,t,n){const r=e.data,i=e.fields.reduce((a,o)=>(o=Ee(o)?{data:r,field:o}:ae(o)||o.signal?VFe(o,n):o,a.push(o),a),[]);return(gm(t.type)?XFe:Nte(t.type)?YFe:KFe)(e,n,i)}function VFe(e,t){const n="_:vega:_"+BFe++,r=is({});if(ae(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ye(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,fh({})]),{data:n,field:"data"}}function XFe(e,t,n){const r=Gae(e.sort,!0);let i,a;const o=n.map(u=>{const c=t.getData(u.data);return c||ik(u.data),c.countsRef(t,u.field,r)}),s={groupby:KM,pulse:o};r&&(i=r.op||"count",a=r.field?rk(i,r.field):"count",s.ops=[Hae[i]],s.fields=[t.fieldRef(a)],s.as=[a]),i=t.add(Fae(s));const l=t.add(is({pulse:Ie(i)}));return a=t.add(zFe({field:KM,sort:t.sortRef(r),pulse:Ie(l)})),Ie(a)}function Gae(e,t){return e&&(!e.field&&!e.op?Se(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ee("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Hae[e.op]&&ee("Multiple domain scales can not be sorted using "+e.op)),e}function YFe(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||ik(i.data),a.domainRef(t,i.field)});return Ie(t.add(NFe({values:r})))}function KFe(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||ik(i.data),a.extentRef(t,i.field)});return Ie(t.add(TFe({extents:r})))}function ZFe(e,t){return e.signal||ae(e)?yw(e,t):t.objectProperty(e)}function QFe(e,t){return e.signal?t.signalRef(e.signal):Se(e)?{interval:Qa(e.interval),step:Qa(e.step)}:Qa(e)}function JFe(e,t){t.interpolate=Qa(e.type||e),e.gamma!=null&&(t.interpolateGamma=Qa(e.gamma))}function Vae(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ee(i)){if(r&&ke(r,i))return e=Je({},e,{range:r[i]}),Vae(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=gm(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ee("Unrecognized scale range value: "+ye(i))}else if(i.scheme){n.scheme=ae(i.scheme)?yw(i.scheme,t):Qa(i.scheme,t),i.extent&&(n.schemeExtent=yw(i.extent,t)),i.count&&(n.schemeCount=Qa(i.count,t));return}else if(i.step){n.rangeStep=Qa(i.step,t);return}else{if(gm(e.type)&&!ae(i))return qae(i,e,t);ae(i)||ee("Unsupported range type: "+ye(i))}return i.map(a=>(ae(a)?yw:Qa)(a,t))}function eRe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=QM(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=QM(n[i],i,t));t.addProjection(e.name,r)}function QM(e,t,n){return ae(e)?e.map(r=>QM(r,t,n)):Se(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ee("Unsupported parameter object: "+ye(e)):e}const as="top",$g="left",Tg="right",Uc="bottom",Xae="center",tRe="vertical",nRe="start",rRe="middle",iRe="end",JM="index",a5="label",aRe="offset",Am="perc",oRe="perc2",to="value",Tx="guide-label",o5="guide-title",sRe="group-title",lRe="group-subtitle",dW="symbol",vw="gradient",eD="discrete",tD="size",uRe="shape",cRe="fill",fRe="stroke",dRe="strokeWidth",hRe="strokeDash",pRe="opacity",s5=[tD,uRe,cRe,fRe,dRe,hRe,pRe],Nx={name:1,style:1,interactive:1},vt={value:0},no={value:1},ak="group",Yae="rect",l5="rule",mRe="symbol",dh="text";function n1(e){return e.type=ak,e.interactive=e.interactive||!1,e}function ra(e,t){const n=(r,i)=>No(e[r],No(t[r],i));return n.isVertical=r=>tRe===No(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>No(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>No(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>No(e.columns,No(t.columns,+n.isVertical(!0))),n}function Kae(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function gRe(e,t,n){const r=t.config.style[n];return r&&r[e]}function ok(e,t,n){return`item.anchor === '${nRe}' ? ${e} : item.anchor === '${iRe}' ? ${t} : ${n}`}const u5=ok(ye($g),ye(Tg),ye(Xae));function yRe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Se(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function Zae(e,t){return t?e?Se(e)?Object.assign({},e,{offset:Zae(e.offset,t)}):{value:e,offset:t}:t:e}function Pa(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Pg(e.encode,t,Nx)):e.interactive=!1,e}function vRe(e,t,n,r){const i=ra(e,n),a=i.isVertical(),o=i.gradientThickness(),s=i.gradientLength();let l,u,c,f,d;a?(u=[0,1],c=[0,0],f=o,d=s):(u=[0,0],c=[1,0],f=s,d=o);const p={enter:l={opacity:vt,x:vt,y:vt,width:lr(f),height:lr(d)},update:Je({},l,{opacity:no,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:vt}};return Nr(p,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Pa({type:Yae,role:qLe,encode:p},r)}function xRe(e,t,n,r,i){const a=ra(e,n),o=a.isVertical(),s=a.gradientThickness(),l=a.gradientLength();let u,c,f,d,p="";o?(u="y",f="y2",c="x",d="width",p="1-"):(u="x",f="x2",c="y",d="height");const m={opacity:vt,fill:{scale:t,field:to}};m[u]={signal:p+"datum."+Am,mult:l},m[c]=vt,m[f]={signal:p+"datum."+oRe,mult:l},m[d]=lr(s);const g={enter:m,update:Je({},m,{opacity:no}),exit:{opacity:vt}};return Nr(g,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),Pa({type:Yae,role:WLe,key:to,from:i,encode:g},r)}const bRe=`datum.${Am}<=0?"${$g}":datum.${Am}>=1?"${Tg}":"${Xae}"`,_Re=`datum.${Am}<=0?"${Uc}":datum.${Am}>=1?"${as}":"${rRe}"`;function hW(e,t,n,r){const i=ra(e,t),a=i.isVertical(),o=lr(i.gradientThickness()),s=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,p="";const m={enter:u={opacity:vt},update:c={opacity:no,text:{field:a5}},exit:{opacity:vt}};return Nr(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:No(e.labelLimit,t.gradientLabelLimit)}),a?(u.align={value:"left"},u.baseline=c.baseline={signal:_Re},f="y",d="x",p="1-"):(u.align=c.align={signal:bRe},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:p+"datum."+Am,mult:s},u[d]=c[d]=o,o.offset=No(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+JM}:void 0,Pa({type:dh,role:Nae,style:Tx,key:to,from:r,encode:m,overlap:l},n)}function wRe(e,t,n,r,i){const a=ra(e,t),o=n.entries,s=!!(o&&o.interactive),l=o?o.name:void 0,u=a("clipHeight"),c=a("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${aRe} : datum.${tD}`,p=u?lr(u):{field:tD},m=`datum.${JM}`,g=`max(1, ${i})`;let x,v,b,_,k;p.mult=.5,x={enter:v={opacity:vt,x:{signal:d,mult:.5,offset:c},y:p},update:b={opacity:no,x:v.x,y:v.y},exit:{opacity:vt}};let E=null,A=null;e.fill||(E=t.symbolBaseFillColor,A=t.symbolBaseStrokeColor),Nr(x,{fill:a("symbolFillColor",E),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",A),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),s5.forEach(D=>{e[D]&&(b[D]=v[D]={scale:e[D],field:to})});const C=Pa({type:mRe,role:GLe,key:to,from:f,clip:u?!0:void 0,encode:x},n.symbols),P=lr(c);P.offset=a("labelOffset"),x={enter:v={opacity:vt,x:{signal:d,offset:P},y:p},update:b={opacity:no,text:{field:a5},x:v.x,y:v.y},exit:{opacity:vt}},Nr(x,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const T=Pa({type:dh,role:Nae,style:Tx,key:to,from:f,encode:x},n.labels);return x={enter:{noBound:{value:!u},width:vt,height:u?lr(u):vt,opacity:vt},exit:{opacity:vt},update:b={opacity:no,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(_=`ceil(item.mark.items.length / ${g})`,b.row.signal=`${m}%${_}`,b.column.signal=`floor(${m} / ${_})`,k={field:["row",m]}):(b.row.signal=`floor(${m} / ${g})`,b.column.signal=`${m} % ${g}`,k={field:m}),b.column.signal=`(${i})?${b.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:JM}},n1({role:n5,from:r,encode:Pg(x,o,Nx),marks:[C,T],name:l,interactive:s,sort:k})}function SRe(e,t){const n=ra(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const c5='item.orient === "left"',f5='item.orient === "right"',sk=`(${c5} || ${f5})`,ERe=`datum.vgrad && ${sk}`,ARe=ok('"top"','"bottom"','"middle"'),kRe=ok('"right"','"left"','"center"'),CRe=`datum.vgrad && ${f5} ? (${kRe}) : (${sk} && !(datum.vgrad && ${c5})) ? "left" : ${u5}`,ORe=`item._anchor || (${sk} ? "middle" : "start")`,PRe=`${ERe} ? (${c5} ? -90 : 90) : 0`,$Re=`${sk} ? (datum.vgrad ? (${f5} ? "bottom" : "top") : ${ARe}) : "top"`;function TRe(e,t,n,r){const i=ra(e,t),a={enter:{opacity:vt},update:{opacity:no,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:vt}};return Nr(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:ORe},angle:{signal:PRe},align:{signal:CRe},baseline:{signal:$Re},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Pa({type:dh,role:VLe,style:o5,from:r,encode:a},n)}function NRe(e,t){let n;return Se(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+pW(e.path)+")":e.sphere&&(n="geoShape("+pW(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function pW(e){return Se(e)&&e.signal?e.signal:ye(e)}function Qae(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===ak?n5:t||e5}function MRe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Qae(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function DRe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function d5(e,t){const n=CJ(e.type);n||ee("Unrecognized transform type: "+ye(e.type));const r=nk(n.type.toLowerCase(),null,Jae(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Jae(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const o=e.params[a];r[o.name]=jRe(o,t,n)}return r}function jRe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return IRe(e,t,n);if(i===void 0){e.required&&ee("Missing required "+ye(t.type)+" parameter: "+ye(e.name));return}else{if(r==="param")return LRe(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Kn(i)?i.map(a=>mW(e,a,n)):mW(e,i,n)}function mW(e,t,n){const r=e.type;if(Kn(t))return yW(r)?ee("Expression references can not be signals."):o$(r)?n.fieldRef(t):vW(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||o$(r);return i&&FRe(t)?n.exprRef(t.expr,t.as):i&&RRe(t)?e1(t.field,t.as):yW(r)?el(t,n):zRe(r)?Ie(n.getData(t).values):o$(r)?e1(t):vW(r)?n.compareRef(t):t}}function IRe(e,t,n){return Ee(t.from)||ee('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function LRe(e,t,n){const r=t[e.name];return e.array?(ae(r)||ee("Expected an array of sub-parameters. Instead: "+ye(r)),r.map(i=>gW(e,i,n))):gW(e,r,n)}function gW(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const s in i.key)if(i.key[s]!==t[s]){i=null;break}if(i)break}i||ee("Unsupported parameter: "+ye(t));const a=Je(Jae(i,t,n),i.key);return Ie(n.add(DFe(a)))}const FRe=e=>e&&e.expr,RRe=e=>e&&e.field,zRe=e=>e==="data",yW=e=>e==="expr",o$=e=>e==="field",vW=e=>e==="compare";function BRe(e,t,n){let r,i,a,o,s;return e?(r=e.facet)&&(t||ee("Only group marks can be faceted."),r.field!=null?o=s=xw(r,n):(e.data?s=Ie(n.getData(e.data).aggregate):(a=d5(Je({type:"aggregate",groupby:Ae(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=xw(r,n),o=s=Ie(n.add(a))),i=n.keyRef(r.groupby,!0))):o=Ie(n.add(is(null,[{}]))),o||(o=xw(e,n)),{key:i,pulse:o,parent:s}}function xw(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Ie(t.getData(e.data).output)}function Id(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Id.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],o=null,s=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=Ie(t[s-1]),e.add(t[s]),t[s].type==="aggregate"&&(o=t[s]);return new Id(e,a,i,r,o)};function eoe(e){return Ee(e)?e:null}function xW(e,t,n){const r=rk(n.op,n.field);let i;if(t.ops){for(let a=0,o=t.as.length;a<o;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Wy(e,t,n,r,i,a,o){const s=t[n]||(t[n]={}),l=cFe(a);let u=eoe(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=s[u]),!c){const d=a?{field:KM,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:Ie(t.output)};l&&(d.sort=e.sortRef(a)),f=e.add(nk(r,void 0,d)),o&&(t.index[i]=f),c=Ie(f),u!=null&&(s[u]=c)}return c}Id.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=eoe(t);let o,s,l;return a!=null&&(e=r.scope,o=i[a]),o?n&&n.field&&xW(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Ie(r.output)},n&&n.field&&xW(e,l,n),s=e.add(Fae(l)),o=e.add(is({pulse:Ie(s)})),o={agg:s,ref:Ie(o)},a!=null&&(i[a]=o)),o.ref},tuplesRef(){return Ie(this.values)},extentRef(e,t){return Wy(e,this,"extent","extent",t,!1)},domainRef(e,t){return Wy(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Wy(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Wy(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Wy(e,this,"indata","tupleindex",t,!0,!0)}};function URe(e,t,n){const r=e.from.facet,i=r.name,a=xw(r,t);let o;r.name||ee("Facet must have a name: "+ye(r)),r.data||ee("Facet must reference a data set: "+ye(r)),r.field?o=t.add(Bae({field:t.fieldRef(r.field),pulse:a})):r.groupby?o=t.add(AFe({key:t.keyRef(r.groupby),group:Ie(t.proxy(n.parent)),pulse:a})):ee("Facet must specify groupby or field: "+ye(r));const s=t.fork(),l=s.add(is()),u=s.add(fh({pulse:Ie(l)}));s.addData(i,new Id(s,l,l,u)),s.addSignal("parent",null),o.params.subflow={$subflow:s.parse(e).toRuntime()}}function WRe(e,t,n){const r=t.add(Bae({pulse:n.pulse})),i=t.fork();i.add(fh()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function toe(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,o=e.modify,s=e.values,l=t.add(gS()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,a,o,s].map(f=>f??"null").join(",")+"),0)",c=el(u,t);l.update=c.$expr,l.params=c.$params}function lk(e,t){const n=Qae(e),r=e.type===ak,i=e.from&&e.from.facet,a=e.overlap;let o=e.layout||n===n5||n===t5,s,l,u,c,f,d,p;const m=n===e5||o||i,g=BRe(e.from,r,t);l=t.add(SFe({key:g.key||(e.key?e1(e.key):void 0),pulse:g.pulse,clean:!r}));const x=Ie(l);l=u=t.add(is({pulse:x})),l=t.add($Fe({markdef:MRe(e),interactive:DRe(e.interactive,t),clip:NRe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Ie(l)}));const v=Ie(l);l=c=t.add(zae(Iae(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(A=>{const C=d5(A,t),P=C.metadata;(P.generates||P.changes)&&ee("Mark transforms should not generate new data."),P.nomod||(c.params.mod=!0),C.params.pulse=Ie(l),t.add(l=C)}),e.sort&&(l=t.add(RFe({sort:t.compareRef(e.sort),pulse:Ie(l)})));const b=Ie(l);(i||o)&&(o=t.add(Wae({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:b})),d=Ie(o));const _=t.add(Rae({mark:v,pulse:d||b}));p=Ie(_),r&&(m&&(s=t.operators,s.pop(),o&&s.pop()),t.pushState(b,d||p,x),i?URe(e,t,g):m?WRe(e,t,g):t.parse(e),t.popState(),m&&(o&&s.push(o),s.push(_))),a&&(p=HRe(a,p,t));const k=t.add(Uae({pulse:p})),E=t.add(fh({pulse:Ie(k)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Id(t,u,k,E)),e.on&&e.on.forEach(A=>{(A.insert||A.remove||A.toggle)&&ee("Marks only support modify triggers."),toe(A,t,f)}))}function HRe(e,t,n){const r=e.method,i=e.bound,a=e.separation,o={separation:Kn(a)?n.signalRef(a.signal):a,method:Kn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const s=i.tolerance;o.boundTolerance=Kn(s)?n.signalRef(s.signal):+s,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return Ie(n.add(MFe(o)))}function qRe(e,t){const n=t.config.legend,r=e.encode||{},i=ra(e,n),a=r.legend||{},o=a.name||void 0,s=a.interactive,l=a.style,u={};let c=0,f,d,p;s5.forEach(_=>e[_]?(u[_]=e[_],c=c||e[_]):0),c||ee("Missing valid scale for legend.");const m=GRe(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:m,vgrad:m!=="symbol"&&i.isVertical()},x=Ie(t.add(is(null,[g]))),v={enter:{x:{value:0},y:{value:0}}},b=Ie(t.add(OFe(d={type:m,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===vw?(p=[vRe(e,c,n,r.gradient),hW(e,n,r.labels,b)],d.count=d.count||t.signalRef(`max(2,2*floor((${fd(i.gradientLength())})/100))`)):m===eD?p=[xRe(e,c,n,r.gradient,b),hW(e,n,r.labels,b)]:(f=SRe(e,n),p=[wRe(e,n,r,b,fd(f.columns))],d.size=YRe(e,t,p[0].marks)),p=[n1({role:HLe,from:x,encode:v,marks:p,layout:f,interactive:s})],g.title&&p.push(TRe(e,n,r.title,x)),lk(n1({role:ULe,from:x,encode:Pg(XRe(i,e,n),a,Nx),marks:p,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:s,style:l}),t)}function GRe(e,t){let n=e.type||dW;return!e.type&&VRe(e)===1&&(e.fill||e.stroke)&&(n=hF(t)?vw:GN(t)?eD:dW),n!==vw?n:GN(t)?eD:vw}function VRe(e){return s5.reduce((t,n)=>t+(e[n]?1:0),0)}function XRe(e,t,n){const r={enter:{},update:{}};return Nr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function YRe(e,t,n){const r=fd(bW("size",e,n)),i=fd(bW("strokeWidth",e,n)),a=fd(KRe(n[1].encode,t,Tx));return el(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function bW(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Kae(e,n[0].encode)}function KRe(e,t,n){return Kae("fontSize",e)||gRe("fontSize",t,n)}const ZRe=`item.orient==="${$g}"?-90:item.orient==="${Tg}"?90:0`;function QRe(e,t){e=Ee(e)?{text:e}:e;const n=ra(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,o=i.interactive,s=i.style,l=[],u={},c=Ie(t.add(is(null,[u])));return l.push(t5e(e,n,JRe(e),c)),e.subtitle&&l.push(n5e(e,n,r.subtitle,c)),lk(n1({role:XLe,from:c,encode:e5e(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:o,style:s}),t)}function JRe(e){const t=e.encode;return t&&t.title||Je({name:e.name,interactive:e.interactive,style:e.style},t)}function e5e(e,t){const n={enter:{},update:{}};return Nr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:u5},angle:{signal:ZRe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Pg(n,t,Nx)}function t5e(e,t,n,r){const i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Nr(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Pa({type:dh,role:YLe,style:sRe,from:r,encode:o},n)}function n5e(e,t,n,r){const i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Nr(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Pa({type:dh,role:KLe,style:lRe,from:r,encode:o},n)}function r5e(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(d5(r,t))}),e.on&&e.on.forEach(r=>{toe(r,t,e.name)}),t.addDataPipeline(e.name,i5e(e,t,n))}function i5e(e,t,n){const r=[];let i=null,a=!1,o=!1,s,l,u,c,f;for(e.values?Kn(e.values)||gw(e.format)?(r.push(_W(t,e)),r.push(i=Ef())):r.push(i=Ef({$ingest:e.values,$format:e.format})):e.url?gw(e.url)||gw(e.format)?(r.push(_W(t,e)),r.push(i=Ef())):r.push(i=Ef({$request:e.url,$format:e.format})):e.source&&(i=s=Ae(e.source).map(d=>Ie(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=Ef()),r.push(c),f.generates&&(o=!0),f.modifies&&!o&&(a=!0),f.source?i=c:f.changes&&(i=null);return s&&(u=s.length-1,r[0]=LFe({derive:a,pulse:u?s:s[0]}),(a||u)&&r.splice(1,0,Ef())),i||r.push(Ef()),r.push(fh({})),r}function Ef(e){const t=is({},e);return t.metadata={source:!0},t}function _W(e,t){return PFe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const noe=e=>e===Uc||e===as,uk=(e,t,n)=>Kn(e)?l5e(e.signal,t,n):e===$g||e===as?t:n,ur=(e,t,n)=>Kn(e)?o5e(e.signal,t,n):noe(e)?t:n,qo=(e,t,n)=>Kn(e)?s5e(e.signal,t,n):noe(e)?n:t,roe=(e,t,n)=>Kn(e)?u5e(e.signal,t,n):e===as?{value:t}:{value:n},a5e=(e,t,n)=>Kn(e)?c5e(e.signal,t,n):e===Tg?{value:t}:{value:n},o5e=(e,t,n)=>ioe(`${e} === '${as}' || ${e} === '${Uc}'`,t,n),s5e=(e,t,n)=>ioe(`${e} !== '${as}' && ${e} !== '${Uc}'`,t,n),l5e=(e,t,n)=>h5(`${e} === '${$g}' || ${e} === '${as}'`,t,n),u5e=(e,t,n)=>h5(`${e} === '${as}'`,t,n),c5e=(e,t,n)=>h5(`${e} === '${Tg}'`,t,n),ioe=(e,t,n)=>(t=t!=null?lr(t):t,n=n!=null?lr(n):n,wW(t)&&wW(n)?(t=t?t.signal||ye(t.value):null,n=n?n.signal||ye(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Je({test:e},t)].concat(n||[])),wW=e=>e==null||Object.keys(e).length===1,h5=(e,t,n)=>({signal:`${e} ? (${wp(t)}) : (${wp(n)})`}),f5e=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${$g}' ? (${wp(r)}) : `:"")+(n!=null?`${e} === '${Uc}' ? (${wp(n)}) : `:"")+(i!=null?`${e} === '${Tg}' ? (${wp(i)}) : `:"")+(t!=null?`${e} === '${as}' ? (${wp(t)}) : `:"")+"(null)"}),wp=e=>Kn(e)?e.signal:e==null?null:ye(e),d5e=(e,t)=>t===0?0:Kn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Bp=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Vh(e,t,n,r){let i;if(t&&ke(t,e))return t[e];if(ke(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[o5][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Tx][i]}return null}function SW(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function h5e(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,s,l,u;if(Kn(o)){const f=SW([n.axisX,n.axisY]),d=SW([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);s={};for(u of f)s[u]=ur(o,Vh(u,n.axisX,i,r),Vh(u,n.axisY,i,r));l={};for(u of d)l[u]=f5e(o.signal,Vh(u,n.axisTop,i,r),Vh(u,n.axisBottom,i,r),Vh(u,n.axisLeft,i,r),Vh(u,n.axisRight,i,r))}else s=o===as||o===Uc?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return s||l||a?Je({},i,s,l,a):i}function p5e(e,t,n,r){const i=ra(e,t),a=e.orient;let o,s;const l={enter:o={opacity:vt},update:s={opacity:no},exit:{opacity:vt}};Nr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=EW(e,0),c=EW(e,1);return o.x=s.x=ur(a,u,vt),o.x2=s.x2=ur(a,c),o.y=s.y=qo(a,u,vt),o.y2=s.y2=qo(a,c),Pa({type:l5,role:LLe,from:r,encode:l},n)}function EW(e,t){return{scale:e.scale,range:t}}function m5e(e,t,n,r,i){const a=ra(e,t),o=e.orient,s=e.gridScale,l=uk(o,1,-1),u=g5e(e.offset,l);let c,f,d;const p={enter:c={opacity:vt},update:d={opacity:no},exit:f={opacity:vt}};Nr(p,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const m={scale:e.scale,field:to,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},g=ur(o,{signal:"height"},{signal:"width"}),x=s?{scale:s,range:0,mult:l,offset:u}:{value:0,offset:u},v=s?{scale:s,range:1,mult:l,offset:u}:Je(g,{mult:l,offset:u});return c.x=d.x=ur(o,m,x),c.y=d.y=qo(o,m,x),c.x2=d.x2=qo(o,v),c.y2=d.y2=ur(o,v),f.x=ur(o,m),f.y=qo(o,m),Pa({type:l5,role:FLe,key:to,from:r,encode:p},n)}function g5e(e,t){if(t!==1)if(!Se(e))e=Kn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Je({},e);for(;n.mult!=null;)if(Se(n.mult))n=n.mult=Je({},n.mult);else return n.mult=Kn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function y5e(e,t,n,r,i,a){const o=ra(e,t),s=e.orient,l=uk(s,-1,1);let u,c,f;const d={enter:u={opacity:vt},update:f={opacity:no},exit:c={opacity:vt}};Nr(d,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const p=lr(i);p.mult=l;const m={scale:e.scale,field:to,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")};return f.y=u.y=ur(s,vt,m),f.y2=u.y2=ur(s,p),c.x=ur(s,m),f.x=u.x=qo(s,vt,m),f.x2=u.x2=qo(s,p),c.y=qo(s,m),Pa({type:l5,role:zLe,key:to,from:r,encode:d},n)}function s$(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function v5e(e,t,n,r,i,a){const o=ra(e,t),s=e.orient,l=e.scale,u=uk(s,-1,1),c=fd(o("labelFlush")),f=fd(o("labelFlushOffset")),d=o("labelAlign"),p=o("labelBaseline");let m=c===0||!!c,g;const x=lr(i);x.mult=u,x.offset=lr(o("labelPadding")||0),x.offset.mult=u;const v={scale:l,field:to,band:.5,offset:Zae(a.offset,o("labelOffset"))},b=ur(s,m?s$(l,c,'"left"','"right"','"center"'):{value:"center"},a5e(s,"left","right")),_=ur(s,roe(s,"bottom","top"),m?s$(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),k=s$(l,c,`-(${f})`,f,0);m=m&&f;const E={opacity:vt,x:ur(s,v,x),y:qo(s,v,x)},A={enter:E,update:g={opacity:no,text:{field:a5},x:E.x,y:E.y,align:b,baseline:_},exit:{opacity:vt,x:E.x,y:E.y}};Nr(A,{dx:!d&&m?ur(s,k):null,dy:!p&&m?qo(s,k):null}),Nr(A,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:d,baseline:p});const C=o("labelBound");let P=o("labelOverlap");return P=P||C?{separation:o("labelSeparation"),method:P,order:"datum.index",bound:C?{scale:l,orient:s,tolerance:C}:null}:void 0,g.align!==b&&(g.align=Bp(g.align,b)),g.baseline!==_&&(g.baseline=Bp(g.baseline,_)),Pa({type:dh,role:RLe,style:Tx,key:to,from:r,encode:A,overlap:P},n)}function x5e(e,t,n,r){const i=ra(e,t),a=e.orient,o=uk(a,-1,1);let s,l;const u={enter:s={opacity:vt,anchor:lr(i("titleAnchor",null)),align:{signal:u5}},update:l=Je({},s,{opacity:no,text:lr(e.title)}),exit:{opacity:vt}},c={signal:`lerp(range("${e.scale}"), ${ok(0,1,.5)})`};return l.x=ur(a,c),l.y=qo(a,c),s.angle=ur(a,vt,d5e(o,90)),s.baseline=ur(a,roe(a,Uc,as),{value:Uc}),l.angle=s.angle,l.baseline=s.baseline,Nr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),b5e(i,a,u,n),u.update.align=Bp(u.update.align,s.align),u.update.angle=Bp(u.update.angle,s.angle),u.update.baseline=Bp(u.update.baseline,s.baseline),Pa({type:dh,role:BLe,style:o5,from:r,encode:u},n)}function b5e(e,t,n,r){const i=(s,l)=>s!=null?(n.update[l]=Bp(lr(s),n.update[l]),!1):!tp(l,r),a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?lr(o):ur(t,lr(o),lr(a))}function _5e(e,t){const n=h5e(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,o=i.interactive,s=i.style,l=ra(e,n),u=yRe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Ie(t.add(is({},[c]))),d=Ie(t.add(wFe({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let m;return c.grid&&p.push(m5e(e,n,r.grid,d,u)),c.ticks&&(m=l("tickSize"),p.push(y5e(e,n,r.ticks,d,m,u))),c.labels&&(m=c.ticks?m:0,p.push(v5e(e,n,r.labels,d,m,u))),c.domain&&p.push(p5e(e,n,r.domain,f)),c.title&&p.push(x5e(e,n,r.title,f)),lk(n1({role:ILe,from:f,encode:Pg(w5e(l,e),i,Nx),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:o,style:s}),t)}function w5e(e,t){const n={enter:{},update:{}};return Nr(n,{orient:e("orient"),offset:e("offset")||0,position:No(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function aoe(e,t,n){const r=Ae(e.signals),i=Ae(e.scales);return n||r.forEach(a=>Lae(a,t)),Ae(e.projections).forEach(a=>eRe(a,t)),i.forEach(a=>UFe(a,t)),Ae(e.data).forEach(a=>r5e(a,t)),i.forEach(a=>WFe(a,t)),(n||r).forEach(a=>_Fe(a,t)),Ae(e.axes).forEach(a=>_5e(a,t)),Ae(e.marks).forEach(a=>lk(a,t)),Ae(e.legends).forEach(a=>qRe(a,t)),e.title&&QRe(e.title,t),t.parseLambdas(),t}const S5e=e=>Pg({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function E5e(e,t){const n=t.config,r=Ie(t.root=t.add(gS())),i=A5e(e,n);i.forEach(u=>Lae(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(is()),o=t.add(zae(Iae(S5e(e.encode),ak,t5,e.style,t,{pulse:Ie(a)}))),s=t.add(Wae({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Ie(o)}));t.operators.pop(),t.pushState(Ie(o),Ie(s),null),aoe(e,t,i),t.operators.push(s);let l=t.add(Rae({mark:r,pulse:Ie(s)}));return l=t.add(Uae({pulse:Ie(l)})),l=t.add(fh({pulse:Ie(l)})),t.addData("root",new Id(t,a,a,l)),t}function Hy(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function A5e(e,t){const n=o=>No(e[o],t[o]),r=[Hy("background",n("background")),Hy("autosize",MLe(n("autosize"))),Hy("padding",jLe(n("padding"))),Hy("width",n("width")||0),Hy("height",n("height")||0)],i=r.reduce((o,s)=>(o[s.name]=s,o),{}),a={};return Ae(e.signals).forEach(o=>{ke(i,o.name)?o=Je(i[o.name],o):r.push(o),a[o.name]=o}),Ae(t.signals).forEach(o=>{!ke(a,o.name)&&!ke(i,o.name)&&r.push(o)}),r}function ooe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function AW(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}ooe.prototype=AW.prototype={parse(e){return aoe(e,this)},fork(){return new AW(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof YM?Ie(e):e;return this.add(IFe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let o,s;r&&(o=r.data||(r.data={}),s=o[i]||(o[i]=[]),s.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Ie(this.add(fh({pulse:e})))),this._parent.push(t),this._lookup.push(n?Ie(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return pt(this._parent)},encode(){return pt(this._encode)},lookup(){return pt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ee(e))return e1(e,t);e.signal||ee("Unsupported field reference: "+ye(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Ie(this.add(kFe(i)))}return r},compareRef(e){let t=!1;const n=a=>Kn(a)?(t=!0,this.signalRef(a.signal)):fFe(a)?(t=!0,this.exprRef(a.expr)):a,r=Ae(e.field).map(n),i=Ae(e.order).map(n);return t?Ie(this.add(fW({fields:r,orders:i}))):uW(r,i)},keyRef(e,t){let n=!1;const r=a=>Kn(a)?(n=!0,Ie(i[a.signal])):a,i=this.signals;return e=Ae(e).map(r),n?Ie(this.add(CFe({fields:e,flat:t}))):sFe(e,t)},sortRef(e){if(!e)return e;const t=rk(e.op,e.field),n=e.order||lFe;return n.signal?Ie(this.add(fW({fields:t,orders:this.signalRef(n.signal)}))):uW(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return ke(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ee("Duplicate signal name: "+ye(e));const n=t instanceof YM?t:this.add(gS(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ee("Unrecognized signal name: "+ye(e)),this.signals[e]},signalRef(e){return this.signals[e]?Ie(this.signals[e]):(ke(this.lambdas,e)||(this.lambdas[e]=this.add(gS(null))),Ie(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=el(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Se(e)?e:this.signalRef(e.signal||p5(e))},exprRef(e,t){const n={expr:el(e,this)};return t&&(n.expr.$name=t),Ie(this.add(EFe(n)))},addBinding(e,t){this.bindings||ee("Nested signals do not support binding: "+ye(e)),this.bindings.push(Je({signal:e},t))},addScaleProj(e,t){ke(this.scales,e)&&ee("Duplicate scale or projection name: "+ye(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,FFe(t))},addProjection(e,t){this.addScaleProj(e,jFe(t))},getScale(e){return this.scales[e]||ee("Unrecognized scale name: "+ye(e)),this.scales[e]},scaleRef(e){return Ie(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return ke(this.data,e)&&ee("Duplicate data set name: "+ye(e)),this.data[e]=t},getData(e){return this.data[e]||ee("Undefined data set name: "+ye(e)),this.data[e]},addDataPipeline(e,t){return ke(this.data,e)&&ee("Duplicate data set name: "+ye(e)),this.addData(e,Id.fromEntries(this,t))}};function p5(e){return(ae(e)?k5e:C5e)(e)}function k5e(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Se(i)?i.signal||p5(i):ye(i))}return n+"]"}function C5e(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ye(r)+":"+(Se(i)?i.signal||p5(i):ye(i));return t+"}"}function O5e(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function P5e(e,t,n){return Se(e)||ee("Input Vega specification must be an object."),t=mg(O5e(),t,e.config),E5e(e,new ooe(t,n)).toRuntime()}var $5e="5.33.1";Je(fm,gSe,YOe,CPe,dTe,oNe,MMe,dMe,jMe,aDe,mDe,wDe);const T5e=Object.freeze(Object.defineProperty({__proto__:null,Bounds:zn,CanvasHandler:wx,CanvasRenderer:$2,DATE:Ki,DAY:Hr,DAYOFYEAR:Qs,Dataflow:Lp,Debug:ZZ,DisallowedObjectProperties:m3,Error:g3,EventStream:aA,Gradient:Vte,GroupItem:NA,HOURS:ka,Handler:FF,HybridHandler:Fne,HybridRenderer:rM,Info:KZ,Item:TA,MILLISECONDS:Ko,MINUTES:Ca,MONTH:Xr,Marks:Oa,MultiPulse:U3,None:YZ,Operator:Gt,Parameters:iA,Pulse:Cc,QUARTER:Yi,RenderType:uc,Renderer:_x,ResourceLoader:ene,SECONDS:lo,SVGHandler:Ane,SVGRenderer:HF,SVGStringRenderer:Lne,Scenegraph:yne,TIME_UNITS:N3,Transform:J,View:Eae,WEEK:Vn,Warn:y3,YEAR:Pr,accessor:na,accessorFields:Vr,accessorName:kn,array:Ae,ascending:yg,bandwidthNRD:G3,bin:$J,bootstrapCI:TJ,boundClip:Xne,boundContext:yx,boundItem:QN,boundMark:hne,boundStroke:Su,changeset:lh,clampRange:lQ,codegenExpression:Zie,compare:w3,constant:ti,cumulativeLogNormal:Q3,cumulativeNormal:sA,cumulativeUniform:nL,dayofyear:LQ,debounce:S3,defaultLocale:L3,definition:CJ,densityLogNormal:Z3,densityNormal:V3,densityUniform:tL,domChild:qn,domClear:Ga,domCreate:sc,domFind:LF,dotbin:NJ,error:ee,expressionFunction:Mn,extend:Je,extent:Ys,extentIndex:uQ,falsy:Uu,fastmap:vg,field:oo,flush:cQ,font:LA,fontFamily:bx,fontSize:sl,format:K_,formatLocale:o2,formats:z3,hasOwnProperty:ke,id:J1,identity:ei,inferType:gJ,inferTypes:yJ,ingest:Pt,inherits:xe,inrange:gp,interpolate:pF,interpolateColors:PA,interpolateRange:Mte,intersect:Hne,intersectBoxLine:vp,intersectPath:wF,intersectPoint:SF,intersectRule:nne,isArray:ae,isBoolean:Qc,isDate:Ac,isFunction:et,isIterable:fQ,isNumber:St,isObject:Se,isRegExp:E3,isString:Ee,isTuple:nA,key:A3,lerp:dQ,lineHeight:Rc,loader:eA,locale:pJ,logger:v3,lruCache:hQ,markup:WF,merge:pQ,mergeConfig:mg,multiLineOffset:DF,one:pg,pad:mQ,panLinear:nQ,panLog:rQ,panPow:iQ,panSymlog:aQ,parse:P5e,parseExpression:Xie,parseSelector:af,path:dA,pathCurves:xF,pathEqual:Yne,pathParse:ym,pathRectangle:Kte,pathRender:Uv,pathSymbols:Yte,pathTrail:Zte,peek:pt,point:RA,projection:uR,quantileLogNormal:J3,quantileNormal:lA,quantileUniform:rL,quantiles:H3,quantizeInterpolator:Dte,quarter:oQ,quartiles:q3,get random(){return uo},randomInteger:b2e,randomKDE:Y3,randomLCG:x2e,randomLogNormal:DJ,randomMixture:jJ,randomNormal:X3,randomUniform:IJ,read:bJ,regressionConstant:iL,regressionExp:FJ,regressionLinear:aL,regressionLoess:BJ,regressionLog:LJ,regressionPoly:zJ,regressionPow:RJ,regressionQuad:oL,renderModule:zA,repeat:s0,resetDefaultLocale:gwe,resetSVGClipId:Jte,resetSVGDefIds:hOe,responseType:xJ,runtimeContext:fae,sampleCurve:cA,sampleLogNormal:K3,sampleNormal:oA,sampleUniform:eL,scale:At,sceneEqual:qF,sceneFromJSON:mne,scenePickVisit:w2,sceneToJSON:pne,sceneVisit:Zo,sceneZOrder:EF,scheme:mF,serializeXML:Mne,setHybridRendererOptions:uOe,setRandom:y2e,span:ex,splitAccessPath:al,stringValue:ye,textMetrics:_a,timeBin:eJ,timeFloor:HQ,timeFormatLocale:Dv,timeInterval:wg,timeOffset:VQ,timeSequence:KQ,timeUnitSpecifier:IQ,timeUnits:M3,toBoolean:k3,toDate:C3,toNumber:qr,toSet:Yo,toString:O3,transform:OJ,transforms:fm,truncate:gQ,truthy:so,tupleid:Le,typeParsers:DN,utcFloor:qQ,utcInterval:Sg,utcOffset:XQ,utcSequence:ZQ,utcdayofyear:zQ,utcquarter:sQ,utcweek:BQ,version:$5e,visitArray:Xu,week:FQ,writeConfig:gg,zero:nc,zoomLinear:x3,zoomLog:b3,zoomPow:Qw,zoomSymlog:_3},Symbol.toStringTag,{value:"Module"}));function N5e(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var M5e={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},D5e={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},j5e={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const I5e=Array.prototype.slice,Af=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,I5e.call(t,1))},L5e=(e,t,n,r,i,a,o)=>new Date(e,t||0,n??1,r||0,i||0,a||0,o||0);var F5e={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:L5e,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Af("join",arguments)},indexof:function(){return Af("indexOf",arguments)},lastindexof:function(){return Af("lastIndexOf",arguments)},slice:function(){return Af("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(yg),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Af("substring",arguments,String)},split:function(){return Af("split",arguments,String)},replace:function(){return Af("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const R5e=["view","item","group","xy","x","y"],nD=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&nD.add(setImmediate);const z5e={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:M5e[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),nD.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||F5e[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>D5e[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>j5e[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);e.memberDepth-=1;const a=e(r.value);return m3.has(i)?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):nD.has(a)?console.error(`Prevented interpretation of method "${a}" which could lead to insecure code execution`):n[i]=a,n},{})};function qy(e,t,n,r,i,a){const o=s=>z5e[s.type](o,s);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=a,R5e.forEach(s=>o.fn[s]=function(){return i.vega[s](...arguments)}),o(e)}var B5e={operator(e,t){const n=t.ast,r=e.functions;return i=>qy(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>qy(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>qy(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const o=a.item&&a.item.datum;return qy(n,r,i,o,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(o,s)=>{const l=o.datum;let u=0,c;for(const f in r)c=qy(r[f].ast,i,s,l,void 0,o),o[f]!==c&&(o[f]=c,u=1);return n!=="rule"&&N5e(o,r,a),u}}};const U5e="5.23.0",W5e={version:U5e};function m5(e){return ce(e,"or")}function g5(e){return ce(e,"and")}function y5(e){return ce(e,"not")}function bw(e,t){if(y5(e))bw(e.not,t);else if(g5(e))for(const n of e.and)bw(n,t);else if(m5(e))for(const n of e.or)bw(n,t);else t(e)}function Up(e,t){return y5(e)?{not:Up(e.not,t)}:g5(e)?{and:e.and.map(n=>Up(n,t))}:m5(e)?{or:e.or.map(n=>Up(n,t))}:t(e)}const Ge=structuredClone;function soe(e){throw new Error(e)}function km(e,t){const n={};for(const r of t)ke(e,r)&&(n[r]=e[r]);return n}function Vi(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Ht(e)).join(",")})`};function dt(e){if(St(e))return e;const t=Ee(e)?e:Ht(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function rD(e){return e===!1||e===null}function lt(e,t){return e.includes(t)}function Cm(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function v5(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function loe(e,...t){for(const n of t)H5e(e,n??{});return e}function H5e(e,t){for(const n of ue(t))gg(e,n,t[n],!0)}function Ts(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function q5e(e,t){const n=ue(e),r=ue(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function uoe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function x5(e,t){for(const n of e)if(t.has(n))return!0;return!1}function iD(e){const t=new Set;for(const n of e){const i=al(n).map((o,s)=>s===0?o:`[${o}]`),a=i.map((o,s)=>i.slice(0,s+1).join(""));for(const o of a)t.add(o)}return t}function b5(e,t){return e===void 0||t===void 0?!0:x5(iD(e),iD(t))}function Wt(e){return ue(e).length===0}const ue=Object.keys,$r=Object.values,Wc=Object.entries;function r1(e){return e===!0||e===!1}function fn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function rv(e,t){return y5(e)?`!(${rv(e.not,t)})`:g5(e)?`(${e.and.map(n=>rv(n,t)).join(") && (")})`:m5(e)?`(${e.or.map(n=>rv(n,t)).join(") || (")})`:t(e)}function yS(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&yS(e[n],t)&&delete e[n],Wt(e)}function Mx(e){return e.charAt(0).toUpperCase()+e.substr(1)}function _5(e,t="datum"){const n=al(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(ye).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function coe(e,t="datum"){return`${t}[${ye(al(e).join("."))}]`}function Dt(e){return`datum['${e.replaceAll("'","\\'")}']`}function G5e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function fo(e){return`${al(e).map(G5e).join("\\.")}`}function Ld(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Ng(e){return`${al(e).join(".")}`}function Om(e){return e?al(e).length:0}function Tn(...e){return e.find(t=>t!==void 0)}let foe=42;function doe(e){const t=++foe;return e?String(e)+t:t}function V5e(){foe=42}function hoe(e){return poe(e)?e:`__${e}`}function poe(e){return e.startsWith("__")}function i1(e){if(e!==void 0)return(e%360+360)%360}function ck(e){return St(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const kW=Object.getPrototypeOf(structuredClone({}));function va(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!va(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;for(const a of e.entries())if(!va(a[1],t.get(a[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==kW.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==kW.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!va(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ht(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,a;if(Array.isArray(r)){for(a="[",i=0;i<r.length;i++)i&&(a+=","),a+=n(r[i])||"null";return a+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,s=Object.keys(r).sort();for(a="",i=0;i<s.length;i++){const l=s[i],u=n(r[l]);u&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u)}return t.splice(o,1),`{${a}}`}(e)}function ce(e,t){return Se(e)&&ke(e,t)&&e[t]!==void 0}const nu="row",ru="column",fk="facet",hn="x",mr="y",os="x2",fl="y2",of="xOffset",Mg="yOffset",ss="radius",Au="radius2",yo="theta",ku="theta2",ls="latitude",us="longitude",cs="latitude2",ho="longitude2",sf="time",Qi="color",dl="fill",hl="stroke",Ji="shape",Cu="size",hh="angle",Ou="opacity",lf="fillOpacity",uf="strokeOpacity",cf="strokeWidth",ff="strokeDash",Dx="text",Pm="order",jx="detail",dk="key",Fd="tooltip",hk="href",pk="url",mk="description",X5e={x:1,y:1,x2:1,y2:1},moe={theta:1,theta2:1,radius:1,radius2:1};function goe(e){return ke(moe,e)}const w5={longitude:1,longitude2:1,latitude:1,latitude2:1};function yoe(e){switch(e){case ls:return"y";case cs:return"y2";case us:return"x";case ho:return"x2"}}function voe(e){return ke(w5,e)}const Y5e=ue(w5),S5={...X5e,...moe,...w5,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Wp(e){return e===Qi||e===dl||e===hl}const xoe={row:1,column:1,facet:1},Ja=ue(xoe),E5={...S5,...xoe},K5e=ue(E5),{order:J0t,detail:evt,tooltip:tvt,...Z5e}=E5,{row:nvt,column:rvt,facet:ivt,...Q5e}=Z5e;function J5e(e){return ke(Q5e,e)}function boe(e){return ke(E5,e)}const e4e=[os,fl,cs,ho,ku,Au];function _oe(e){return ph(e)!==e}function ph(e){switch(e){case os:return hn;case fl:return mr;case cs:return ls;case ho:return us;case ku:return yo;case Au:return ss}return e}function Hc(e){if(goe(e))switch(e){case yo:return"startAngle";case ku:return"endAngle";case ss:return"outerRadius";case Au:return"innerRadius"}return e}function pl(e){switch(e){case hn:return os;case mr:return fl;case ls:return cs;case us:return ho;case yo:return ku;case ss:return Au}}function ea(e){switch(e){case hn:case os:return"width";case mr:case fl:return"height"}}function woe(e){switch(e){case hn:return"xOffset";case mr:return"yOffset";case os:return"x2Offset";case fl:return"y2Offset";case yo:return"thetaOffset";case ss:return"radiusOffset";case ku:return"theta2Offset";case Au:return"radius2Offset"}}function A5(e){switch(e){case hn:return"xOffset";case mr:return"yOffset"}}function t4e(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const n4e=ue(S5),{x:avt,y:ovt,x2:svt,y2:lvt,xOffset:uvt,yOffset:cvt,latitude:fvt,longitude:dvt,latitude2:hvt,longitude2:pvt,theta:mvt,theta2:gvt,radius:yvt,radius2:vvt,...k5}=S5,r4e=ue(k5),C5={x:1,y:1},Pu=ue(C5);function Nn(e){return ke(C5,e)}const O5={theta:1,radius:1},i4e=ue(O5);function gk(e){return e==="width"?hn:mr}const Soe={xOffset:1,yOffset:1};function Ix(e){return ke(Soe,e)}const a4e={time:1};function l$(e){return e in a4e}const{text:xvt,tooltip:bvt,href:_vt,url:wvt,description:Svt,detail:Evt,key:Avt,order:kvt,...Eoe}=k5,o4e=ue(Eoe);function s4e(e){return ke(k5,e)}function l4e(e){switch(e){case Qi:case dl:case hl:case Cu:case Ji:case Ou:case cf:case ff:return!0;case lf:case uf:case hh:case sf:return!1}}const Aoe={...C5,...O5,...Soe,...Eoe},P5=ue(Aoe);function ml(e){return ke(Aoe,e)}function u4e(e,t){return f4e(e)[t]}const koe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Cvt,...c4e}=koe;function f4e(e){switch(e){case Qi:case dl:case hl:case mk:case jx:case dk:case Fd:case hk:case Pm:case Ou:case lf:case uf:case cf:case fk:case nu:case ru:return koe;case hn:case mr:case of:case Mg:case ls:case us:case sf:return c4e;case os:case fl:case cs:case ho:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Cu:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case ff:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ji:return{point:"always",geoshape:"always"};case Dx:return{text:"always"};case hh:return{point:"always",square:"always",text:"always"};case pk:return{image:"always"};case yo:return{text:"always",arc:"always"};case ss:return{text:"always",arc:"always"};case ku:case Au:return{arc:"always"}}}function u$(e){switch(e){case hn:case mr:case yo:case ss:case of:case Mg:case Cu:case hh:case cf:case Ou:case lf:case uf:case sf:case os:case fl:case ku:case Au:return;case fk:case nu:case ru:case Ji:case ff:case Dx:case Fd:case hk:case pk:case mk:return"discrete";case Qi:case dl:case hl:return"flexible";case ls:case us:case cs:case ho:case jx:case dk:case Pm:return}}const d4e={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},h4e={count:1,min:1,max:1};function yu(e){return ce(e,"argmin")}function df(e){return ce(e,"argmax")}function $5(e){return Ee(e)&&ke(d4e,e)}const p4e=new Set(["count","valid","missing","distinct"]);function yk(e){return Ee(e)&&p4e.has(e)}function m4e(e){return Ee(e)&&lt(["min","max"],e)}const g4e=new Set(["count","sum","distinct","valid","missing"]),y4e=new Set(["mean","average","median","q1","q3","min","max"]);function Coe(e){return Qc(e)&&(e=Pk(e,void 0)),"bin"+ue(e).map(t=>vk(e[t])?fn(`_${t}_${Wc(e[t])}`):fn(`_${t}_${e[t]}`)).join("")}function Jt(e){return e===!0||mh(e)&&!e.binned}function br(e){return e==="binned"||mh(e)&&e.binned===!0}function mh(e){return Se(e)}function vk(e){return ce(e,"param")}function CW(e){switch(e){case nu:case ru:case Cu:case Qi:case dl:case hl:case cf:case Ou:case lf:case uf:case Ji:return 6;case ff:return 4;default:return 10}}function Lx(e){return ce(e,"expr")}function _r(e,{level:t}={level:0}){const n=ue(e||{}),r={};for(const i of n)r[i]=t===0?pa(e[i]):_r(e[i],{level:t-1});return r}function Ooe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:o,color:s,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:p,subtitlePadding:m,...g}=e,x={...g,...s?{fill:s}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...a!==void 0?{angle:a}:{},...o!==void 0?{limit:o}:{}},b={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...p?{subtitleLineHeight:p}:{},...m?{subtitlePadding:m}:{}},_=km(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:x,subtitleMarkConfig:_,nonMarkTitleProperties:v,subtitle:b}}function Qu(e){return Ee(e)||ae(e)&&Ee(e[0])}function Ne(e){return ce(e,"signal")}function gh(e){return ce(e,"step")}function v4e(e){return ae(e)?!1:ce(e,"fields")&&!ce(e,"data")}function x4e(e){return ae(e)?!1:ce(e,"fields")&&ce(e,"data")}function Kl(e){return ae(e)?!1:ce(e,"field")&&ce(e,"data")}const b4e={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},_4e=ue(b4e),w4e={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},aD=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Poe(e){const t=ae(e.condition)?e.condition.map(OW):OW(e.condition);return{...pa(e),condition:t}}function pa(e){if(Lx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function OW(e){if(Lx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function an(e){if(Lx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ne(e)?e:e!==void 0?{value:e}:void 0}function S4e(e){return Ne(e)?e.signal:ye(e)}function PW(e){return Ne(e)?e.signal:ye(e.value)}function Bo(e){return Ne(e)?e.signal:e==null?null:ye(e)}function E4e(e,t,n){for(const r of n){const i=tl(r,t.markDef,t.config);i!==void 0&&(e[r]=an(i))}return e}function $oe(e){return[].concat(e.type,e.style??[])}function Ut(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&ce(t,i)?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:tl(e,t,n,r)}function tl(e,t,n,{vgChannel:r}={}){const i=oD(e,t,n.style);return Tn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function oD(e,t,n){return Toe(e,$oe(t),n)}function Toe(e,t,n){t=Ae(t);let r;for(const i of t){const a=n[i];ce(a,e)&&(r=a[e])}return r}function Noe(e,t){return Ae(e).reduce((n,r)=>(n.field.push(_e(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function Moe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(va(i,r))return;n.push(r)}),n}function Doe(e,t){return va(e,t)||!t?e:e?[...Ae(e),...Ae(t)].join(", "):t}function joe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Qu(n)||Ne(n))&&(Qu(r)||Ne(r)))return{explicit:e.explicit,value:Doe(n,r)};if(Qu(n)||Ne(n))return{explicit:e.explicit,value:n};if(Qu(r)||Ne(r))return{explicit:e.explicit,value:r};if(!Qu(n)&&!Ne(n)&&!Qu(r)&&!Ne(r))return{explicit:e.explicit,value:Moe(n,r)};throw new Error("It should never reach here")}function T5(e){return`Invalid specification ${Ht(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const A4e='Autosize "fit" only works for single views and layered views.';function $W(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function TW(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function NW(e){return e?`Dropping "fit-${e}" because spec has discrete ${ea(e)}.`:'Dropping "fit" because spec has discrete size.'}function N5(e){return`Unknown field for ${e}. Cannot calculate view size.`}function MW(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function k4e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function C4e(e){return`The "nearest" transform is not supported for ${e} marks.`}function Ioe(e){return`Selection not supported for ${e} yet.`}function O4e(e){return`Cannot find a selection named "${e}".`}const P4e="Scale bindings are currently only supported for scales with unbinned, continuous domains.",$4e="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",T4e="Legend bindings are only supported for selections over an individual field or encoding channel.";function N4e(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function M4e(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const D4e="The same selection must be used to override scale domains in a layered view.",j4e='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function I4e(e){return`Unknown repeated value "${e}".`}function DW(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const L4e="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",M5="Animation involving facet, layer, or concat is currently unsupported.";function F4e(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ye(e)}.`}function R4e(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${ye(t)} encoding found for selection ${ye(n.param)}. Using "field": ${ye(r)}.`}const z4e="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function B4e(e){return`Unrecognized parse "${e}".`}function jW(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const U4e="Attempt to add the same child twice.";function W4e(e){return`Ignoring an invalid transform: ${Ht(e)}.`}const H4e='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function IW(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function q4e(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Ht(t)} is overridden by a child projection ${Ht(n)}.`}const G4e="Arc marks uses theta channel rather than angle, replacing angle with theta.";function V4e(e){return`${e}Offset dropped because ${e} is continuous`}function X4e(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Ht(n)}}.`}function Loe(e){return`Invalid field type "${e}".`}function Y4e(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function K4e(e){return`Invalid aggregation operator "${e}".`}function Foe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function Z4e(e){return`Position range does not support relative band size for ${e}.`}function sD(e,t){return`Dropping ${Ht(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Q4e="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function xk(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function J4e(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function eze(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function tze(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function nze(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function c$(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function rze(e){return`The ${e} for range marks cannot be an expression`}function ize(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function aze(e,t){return`Specified orient "${e}" overridden with "${t}".`}function oze(e){return`Cannot use the scale property "${e}" with non-color channel.`}function sze(e){return`Cannot use the relative band size with ${e} scale.`}function lze(e){return`Using unaggregated domain with raw field has no effect (${Ht(e)}).`}function uze(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function cze(e){return`Unaggregated domain is currently unsupported for log scale (${Ht(e)}).`}function fze(e){return`Cannot apply size to non-oriented mark "${e}".`}function dze(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function hze(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function Roe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function zoe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function pze(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ht(n)} and ${Ht(r)}). Using ${Ht(n)}.`}function mze(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ht(n)} and ${Ht(r)}). Using the union of the two domains.`}function gze(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function yze(e){return`Dropping sort property ${Ht(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const LW="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",vze="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",xze="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",bze="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function _ze(e){return`Cannot stack "${e}" if there is already "${e}2".`}function wze(e){return`Stack is applied to a non-linear scale (${e}).`}function Sze(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function vS(e,t){return`Invalid ${e}: ${Ht(t)}.`}function Eze(e){return`Dropping day from datetime ${Ht(e)} as day cannot be combined with other units.`}function Aze(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function kze(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function Cze(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function FW(e){return`1D error band does not support ${e}.`}function Boe(e){return`Channel ${e} is required for "binned" bin.`}function Oze(e){return`Channel ${e} should not be used with "binned" bin.`}function Pze(e){return`Domain for ${e} is required for threshold scale.`}const Uoe=v3(y3);let Rd=Uoe;function $ze(e){return Rd=e,Rd}function Tze(){return Rd=Uoe,Rd}function D5(...e){Rd.error(...e)}function fe(...e){Rd.warn(...e)}function Nze(...e){Rd.debug(...e)}function yh(e){if(e&&Se(e)){for(const t of I5)if(ce(e,t))return!0}return!1}const Woe=["january","february","march","april","may","june","july","august","september","october","november","december"],Mze=Woe.map(e=>e.substr(0,3)),Hoe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Dze=Hoe.map(e=>e.substr(0,3));function jze(e){if(ck(e)&&(e=+e),St(e))return e>4&&fe(vS("quarter",e)),e-1;throw new Error(vS("quarter",e))}function Ize(e){if(ck(e)&&(e=+e),St(e))return e-1;{const t=e.toLowerCase(),n=Woe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Mze.indexOf(r);if(i!==-1)return i;throw new Error(vS("month",e))}}function Lze(e){if(ck(e)&&(e=+e),St(e))return e%7;{const t=e.toLowerCase(),n=Hoe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Dze.indexOf(r);if(i!==-1)return i;throw new Error(vS("day",e))}}function j5(e,t){const n=[];if(t&&e.day!==void 0&&ue(e).length>1&&(fe(Eze(e)),e=Ge(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?Ize(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?jze(e.quarter):e.quarter;n.push(St(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?Lze(e.day):e.day;n.push(St(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function zd(e){const n=j5(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Fze(e){const n=j5(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Rze(e){const t=j5(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const qoe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},I5=ue(qoe);function zze(e){return ke(qoe,e)}function vh(e){return Se(e)?e.binned:Goe(e)}function Goe(e){return e&&e.startsWith("binned")}function L5(e){return e.startsWith("utc")}function Bze(e){return e.substring(3)}const Uze={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function bk(e){return I5.filter(t=>Xoe(e,t))}function Voe(e){const t=bk(e);return t[t.length-1]}function Xoe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Wze(e,t,{end:n}={end:!1}){const r=_5(t),i=L5(e)?"utc":"";function a(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const s={};for(const l of I5)Xoe(e,l)&&(s[l]=a(l),o=l);return n&&(s[o]+="+1"),Fze(s)}function Yoe(e){if(!e)return;const t=bk(e);return`timeUnitSpecifier(${Ht(t)}, ${Ht(Uze)})`}function Hze(e,t,n){if(!e)return;const r=Yoe(e);return`${n||L5(e)?"utc":"time"}Format(${t}, ${r})`}function dr(e){if(!e)return;let t;return Ee(e)?Goe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Se(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),L5(t.unit)&&(t.utc=!0,t.unit=Bze(t.unit)),t}function qze(e){const{utc:t,...n}=dr(e);return n.unit?(t?"utc":"")+ue(n).map(r=>fn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+ue(n).map(r=>fn(`_${r}_${n[r]}`)).join("")}function Koe(e,t=n=>n){const n=dr(e),r=Voe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:a,part:o}=Zoe(r,n.step),s={...i,[o]:+i[o]+a};return`${t(zd(s))} - ${t(zd(i))}`}}const Gze={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function Vze(e){return ke(Gze,e)}function Zoe(e,t=1){if(Vze(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function Xze(e){return ce(e,"param")}function F5(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function R5(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function z5(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function B5(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function U5(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function W5(e){if(e!=null&&e.field){if(ae(e.range)&&e.range.length===2)return!0;if(Ne(e.range))return!0}return!1}function H5(e){return!!(e!=null&&e.field)&&(ae(e.oneOf)||ae(e.in))}function Yze(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function Qoe(e){return H5(e)||F5(e)||W5(e)||R5(e)||B5(e)||z5(e)||U5(e)}function xs(e,t){return $k(e,{timeUnit:t,wrapTime:!0})}function Kze(e,t){return e.map(n=>xs(n,t))}function Joe(e,t=!0){const{field:n}=e,r=dr(e.timeUnit),{unit:i,binned:a}=r||{},o=_e(e,{expr:"datum"}),s=i?`time(${a?o:Wze(i,n)})`:o;if(F5(e))return`${s}===${xs(e.equal,i)}`;if(R5(e)){const l=e.lt;return`${s}<${xs(l,i)}`}else if(B5(e)){const l=e.gt;return`${s}>${xs(l,i)}`}else if(z5(e)){const l=e.lte;return`${s}<=${xs(l,i)}`}else if(U5(e)){const l=e.gte;return`${s}>=${xs(l,i)}`}else{if(H5(e))return`indexof([${Kze(e.oneOf,i).join(",")}], ${s}) !== -1`;if(Yze(e))return _k(s,e.valid);if(W5(e)){const{range:l}=_r(e),u=Ne(l)?{signal:`${l.signal}[0]`}:l[0],c=Ne(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+s+", ["+xs(u,i)+", "+xs(c,i)+"])";const f=[];return u!==null&&f.push(`${s} >= ${xs(u,i)}`),c!==null&&f.push(`${s} <= ${xs(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Ht(e)}`)}function _k(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Zze(e){return Qoe(e)&&e.timeUnit?{...e,timeUnit:dr(e.timeUnit)}:e}const Fx={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Qze(e){return e==="quantitative"||e==="temporal"}function ese(e){return e==="ordinal"||e==="nominal"}const Bd=Fx.quantitative,q5=Fx.ordinal,$m=Fx.temporal,G5=Fx.nominal,Dg=Fx.geojson;function Jze(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Bd:return"quantitative";case"t":case $m:return"temporal";case"o":case q5:return"ordinal";case"n":case G5:return"nominal";case Dg:return"geojson"}}const wr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},lD={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function eBe(e,t){const n=lD[e],r=lD[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const tBe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function RW(e){return tBe[e]}const tse=new Set(["linear","log","pow","sqrt","symlog"]),nse=new Set([...tse,"time","utc"]);function rse(e){return tse.has(e)}const ise=new Set(["quantile","quantize","threshold"]),nBe=new Set([...nse,...ise,"sequential","identity"]),rBe=new Set(["ordinal","bin-ordinal","point","band"]);function hr(e){return rBe.has(e)}function Qo(e){return nBe.has(e)}function Ns(e){return nse.has(e)}function Tm(e){return ise.has(e)}const iBe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function aBe(e){return!Ee(e)&&ce(e,"name")}function ase(e){return ce(e,"param")}function oBe(e){return ce(e,"unionWith")}function sBe(e){return Se(e)&&"field"in e}const lBe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Ovt,domain:Pvt,range:$vt,rangeMax:Tvt,rangeMin:Nvt,scheme:Mvt,...uBe}=lBe,cBe=ue(uBe);function uD(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Ns(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Ns(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Ns(e);case"nice":return Ns(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Qo(e)&&!lt(["log","time","utc","threshold","quantile"],e)}}function ose(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Wp(e)?void 0:oze(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function fBe(e,t){return lt([q5,G5],t)?e===void 0||hr(e):t===$m?lt([wr.TIME,wr.UTC,void 0],e):t===Bd?rse(e)||Tm(e)||e===void 0:!0}function dBe(e,t,n=!1){if(!ml(e))return!1;switch(e){case hn:case mr:case of:case Mg:case yo:case ss:return Ns(t)||t==="band"?!0:t==="point"?!n:!1;case sf:return lt(["linear","band"],t);case Cu:case cf:case Ou:case lf:case uf:case hh:return Ns(t)||Tm(t)||lt(["band","point","ordinal"],t);case Qi:case dl:case hl:return t!=="band";case ff:case Ji:return t==="ordinal"||Tm(t)}}function hBe(e){return Se(e)&&"value"in e}const Pi={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},sse=Pi.arc,wk=Pi.area,Sk=Pi.bar,pBe=Pi.image,Ek=Pi.line,Ak=Pi.point,mBe=Pi.rect,xS=Pi.rule,lse=Pi.text,V5=Pi.tick,gBe=Pi.trail,X5=Pi.circle,Y5=Pi.square,use=Pi.geoshape;function hf(e){return["line","area","trail"].includes(e)}function a1(e){return["rect","bar","image","arc","tick"].includes(e)}const yBe=new Set(ue(Pi));function nl(e){return ce(e,"type")}const vBe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],xBe=["fill","fillOpacity"],bBe=[...vBe,...xBe],_Be={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},zW=ue(_Be),f$=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],wBe={area:["line","point"],bar:f$,rect:f$,line:["point"],tick:["bandSize","thickness",...f$]},SBe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},EBe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},cse=ue(EBe);function Ud(e){return ce(e,"band")}const ABe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},kBe=5,K5={binSpacing:0,continuousBandSize:kBe,minBandSize:.25,timeUnitBandPosition:.5},CBe={...K5,binSpacing:1},OBe={...K5,thickness:1};function PBe(e){return nl(e)?e.type:e}function fse(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function Z5({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var s,l;if(!r||!Qo(r)||i)return"always-valid";const a=fse(Ut("invalid",e,t),{isPath:hf(e.type)});return((l=(s=t.scale)==null?void 0:s.invalid)==null?void 0:l[n])!==void 0?"show":a}function $Be(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function dse({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,a=`peek(${r})`,o=t.domainHasZero();return o==="definitely"?{scale:e,value:0}:o==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:a})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:a})`}}function hse({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:a}){var c;const o=n==null?void 0:n.get("type"),s=es(t),l=yk(s==null?void 0:s.aggregate),u=Z5({scaleChannel:e,markDef:i,config:a,scaleType:o,isCountAggregate:l});if(s&&u==="show"){const f=((c=a.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:_k(_e(s,{expr:"datum"}),!1),...TBe(f,n,r)}}}function TBe(e,t,n){if(hBe(e)){const{value:r}=e;return Ne(r)?{signal:r.signal}:{value:r}}return dse({scale:t,scaleName:n,mode:"zeroOrMin"})}function Q5(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:a,config:o}=e,s=ph(t),l=J5(e),u=hse({scaleChannel:s,channelDef:n,scale:i,scaleName:a,markDef:r,config:o});return u!==void 0?[u,l]:l}function NBe(e){const{datum:t}=e;return yh(t)?zd(t):`${Ht(t)}`}function dd(e,t,n,r){const i={};if(t&&(i.scale=t),gl(e)){const{datum:a}=e;yh(a)?i.signal=zd(a):Ne(a)?i.signal=a.signal:Lx(a)?i.signal=a.expr:i.value=a}else i.field=_e(e,n);if(r){const{offset:a,band:o}=r;a&&(i.offset=a),o&&(i.band=o)}return i}function bS({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:a="end",bandPosition:o=.5}){const s=!Ne(o)&&0<o&&o<1?"datum":void 0,l=_e(t,{expr:s,suffix:i}),u=n!==void 0?_e(n,{expr:s}):_e(t,{suffix:a,expr:s}),c={};if(o===0||o===1){c.scale=e;const f=o===0?l:u;c.field=f}else{const f=Ne(o)?`(1-${o.signal}) * ${l} + ${o.signal} * ${u}`:`${1-o} * ${l} + ${o} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function MBe({scaleName:e,fieldDef:t}){const n=_e(t,{expr:"datum"}),r=_e(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function J5({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Ye(t)){const f=o==null?void 0:o.get("type");if(Ai(t)){c??(c=qc({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:p,type:m}=t;if(Jt(d)||c&&p&&m===$m)return s!=null&&s.impute?dd(t,a,{binSuffix:"mid"},{offset:l}):c&&!hr(f)?bS({scaleName:a,fieldOrDatumDef:t,bandPosition:c,offset:l}):dd(t,a,Wx(t,e)?{binSuffix:"range"}:{},{offset:l});if(br(d)){if(de(n))return bS({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});fe(Boe(e===hn?os:fl))}}return dd(t,a,hr(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(Jo(t)){const f=t.value,d=l?{offset:l}:{};return{...iv(e,f),...d}}}return et(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function iv(e,t){return lt(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:lt(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:an(t)}function Wd(e){return e&&e!=="number"&&e!=="time"}function pse(e,t,n){return`${e}(${t}${n?`, ${Ht(n)}`:""})`}const DBe="  ";function e4({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){var l,u;if(Wd(n))return Uo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const o=mse(e,r,i),s=Nm(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(s==="quantitative"){if(i&&a.normalizedNumberFormatType)return Uo({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return Uo({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(s==="temporal"&&a.timeFormatType&&de(e)&&e.timeUnit===void 0)return Uo({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}if(Dm(e)){const c=IBe({field:o,timeUnit:de(e)?(l=dr(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:xh(e)&&((u=e.scale)==null?void 0:u.type)===wr.UTC});return c?{signal:c}:void 0}if(t=cD({type:s,specifiedFormat:t,config:a,normalizeStack:i}),de(e)&&Jt(e.bin)){const c=_e(e,{expr:r,binSuffix:"end"});return{signal:Rx(o,c,t,n,a)}}else return t||Nm(e)==="quantitative"?{signal:`${vse(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function mse(e,t,n){return de(e)?n?`${_e(e,{expr:t,suffix:"end"})}-${_e(e,{expr:t,suffix:"start"})}`:_e(e,{expr:t}):NBe(e)}function Uo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:o}){if(o??(o=mse(e,r,i)),o!=="datum.value"&&de(e)&&Jt(e.bin)){const s=_e(e,{expr:r,binSuffix:"end"});return{signal:Rx(o,s,t,n,a)}}return{signal:pse(n,o,t)}}function gse(e,t,n,r,i,a){var o;if(!(Ee(r)&&Wd(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Nm(e)==="quantitative"&&(i.normalizedNumberFormatType&&Mm(e)&&e.stack==="normalize"||i.numberFormatType))){if(Mm(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return cD({type:"quantitative",config:i,normalizeStack:!0});if(Dm(e)){const s=de(e)?(o=dr(e.timeUnit))==null?void 0:o.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:jBe({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:a})}return cD({type:t,specifiedFormat:n,config:i})}}function yse(e,t,n){var r;if(e&&(Ne(e)||e==="number"||e==="time"))return e;if(Dm(t)&&n!=="time"&&n!=="utc")return de(t)&&((r=dr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function cD({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ee(t))return t;if(e===Bd)return r?n.normalizedNumberFormat:n.numberFormat}function jBe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:Yoe(t)}:r?void 0:n.timeFormat)}function vse(e,t){return`format(${e}, "${t||""}")`}function BW(e,t,n,r){return Wd(n)?pse(n,e,t):vse(e,(Ee(t)?t:void 0)??r.numberFormat)}function Rx(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Rx(e,t,i.numberFormat,i.numberFormatType,i);const a=BW(e,n,r,i),o=BW(t,n,r,i);return`${_k(e,!1)} ? "null" : ${a} + "${DBe}" + ${o}`}function IBe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ee(n)?n:i,`${a?"utc":"time"}Format(${e}, '${n}')`):Hze(t,e,a)}const kk="min",LBe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function UW(e){return ke(LBe,e)}function FBe(e){return ce(e,"encoding")}function iu(e){return e&&(e.op==="count"||ce(e,"field"))}function xse(e){return e&&ae(e)}function zx(e){return ce(e,"row")||ce(e,"column")}function t4(e){return ce(e,"header")}function Ck(e){return ce(e,"facet")}function RBe(e){return ce(e,"param")}function zBe(e){return!Ee(e)&&ce(e,"repeat")}function WW(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function n4(e){return ce(e,"sort")}function qc({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Ye(e)&&e.bandPosition!==void 0)return e.bandPosition;if(de(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return tl("timeUnitBandPosition",n,r);if(Jt(a))return .5}}function bse({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:o}){var u,c,f;const s=ea(e),l=Ut(o?"size":s,r,i,{vgChannel:s});if(l!==void 0)return l;if(de(t)){const{timeUnit:d,bin:p}=t;if(d&&!n)return{band:tl("timeUnitBandSize",r,i)};if(Jt(p)&&!hr(a))return{band:1}}if(a1(r.type))return a?hr(a)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function _se(e,t,n,r){return Jt(e.bin)||e.timeUnit&&Ai(e)&&e.type==="temporal"?qc({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function wse(e){return ce(e,"sort")&&!ce(e,"field")}function Bx(e){return ce(e,"condition")}function Ok(e){const t=e==null?void 0:e.condition;return!!t&&!ae(t)&&de(t)}function Ux(e){const t=e==null?void 0:e.condition;return!!t&&!ae(t)&&Ye(t)}function BBe(e){const t=e==null?void 0:e.condition;return!!t&&(ae(t)||Jo(t))}function de(e){return ce(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Nm(e){return e==null?void 0:e.type}function gl(e){return ce(e,"datum")}function pc(e){return Ai(e)&&!wS(e)||_S(e)}function HW(e){return Ai(e)&&e.type==="quantitative"&&!e.bin||_S(e)}function _S(e){return gl(e)&&St(e.datum)}function Ye(e){return de(e)||gl(e)}function Ai(e){return e&&(ce(e,"field")||e.aggregate==="count")&&ce(e,"type")}function Jo(e){return ce(e,"value")}function xh(e){return ce(e,"scale")||ce(e,"sort")}function Mm(e){return ce(e,"axis")||ce(e,"stack")||ce(e,"impute")}function Sse(e){return ce(e,"legend")}function Ese(e){return ce(e,"format")||ce(e,"formatType")}function UBe(e){return Vi(e,["legend","axis","header","scale"])}function WBe(e){return ce(e,"op")}function _e(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,a="";if(qBe(e))n=hoe("count");else{let o;if(!t.nofn)if(WBe(e))o=e.op;else{const{bin:s,aggregate:l,timeUnit:u}=e;Jt(s)?(o=Coe(s),i=(t.binSuffix??"")+(t.suffix??"")):l?df(l)?(a=`["${n}"]`,n=`argmax_${l.argmax}`):yu(l)?(a=`["${n}"]`,n=`argmin_${l.argmin}`):o=String(l):u&&!vh(u)&&(o=qze(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Ng(n):t.expr?coe(n,t.expr)+a:fo(n)+a}function wS(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return de(e)&&!!e.bin;case"temporal":return!1}throw new Error(Loe(e.type))}function HBe(e){var t;return xh(e)&&Tm((t=e.scale)==null?void 0:t.type)}function qBe(e){return e.aggregate==="count"}function GBe(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:a}=e;if(a==="count")return t.countTitle;if(Jt(r))return`${n} (binned)`;if(i&&!vh(i)){const s=(o=dr(i))==null?void 0:o.unit;if(s)return`${n} (${bk(s).join("-")})`}else if(a)return df(a)?`${n} for max ${a.argmax}`:yu(a)?`${n} for min ${a.argmin}`:`${Mx(a)} of ${n}`;return n}function VBe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(df(t))return`${i} for argmax(${t.argmax})`;if(yu(t))return`${i} for argmin(${t.argmin})`;const a=r&&!vh(r)?dr(r):void 0,o=t||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||Jt(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const Ase=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return VBe(e);default:return GBe(e,t)}};let kse=Ase;function Cse(e){kse=e}function XBe(){Cse(Ase)}function Hp(e,t,{allowDisabling:n,includeDefault:r=!0}){var s;const i=(s=r4(e))==null?void 0:s.title;if(!de(e))return i??e.title;const a=e,o=r?i4(a,t):void 0;return n?Tn(i,a.title,o):i??a.title??o}function r4(e){if(Mm(e)&&e.axis)return e.axis;if(Sse(e)&&e.legend)return e.legend;if(t4(e)&&e.header)return e.header}function i4(e,t){return kse(e,t)}function SS(e){if(Ese(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=r4(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function YBe(e,t){var a;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(n4(e)&&ae(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!df(n)&&!yu(n))return"quantitative";if(xh(e)&&((a=e.scale)!=null&&a.type))switch(lD[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function es(e){if(de(e))return e;if(Ok(e))return e.condition}function Xn(e){if(Ye(e))return e;if(Ux(e))return e.condition}function Ose(e,t,n,r={}){if(Ee(e)||St(e)||Qc(e)){const i=Ee(e)?"string":St(e)?"number":"boolean";return fe(X4e(t,i,e)),{value:e}}return Ye(e)?ES(e,t,n,r):Ux(e)?{...e,condition:ES(e.condition,t,n,r)}:e}function ES(e,t,n,r){if(Ese(e)){const{format:i,formatType:a,...o}=e;if(Wd(a)&&!n.customFormatTypes)return fe(IW(t)),ES(o,t,n,r)}else{const i=Mm(e)?"axis":Sse(e)?"legend":t4(e)?"header":null;if(i&&e[i]){const{format:a,formatType:o,...s}=e[i];if(Wd(o)&&!n.customFormatTypes)return fe(IW(t)),ES({...e,[i]:s},t,n,r)}}return de(e)?a4(e,t,r):KBe(e)}function KBe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=St(n)?"quantitative":Ee(n)?"nominal":yh(n)?"temporal":void 0,{...e,type:t}}function a4(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:o}=e,s={...e};if(!n&&r&&!$5(r)&&!df(r)&&!yu(r)&&(fe(K4e(r)),delete s.aggregate),i&&(s.timeUnit=dr(i)),o&&(s.field=`${o}`),Jt(a)&&(s.bin=Pk(a,t)),br(a)&&!Nn(t)&&fe(Oze(t)),Ai(s)){const{type:l}=s,u=Jze(l);l!==u&&(s.type=u),l!=="quantitative"&&yk(r)&&(fe(Y4e(l,r)),s.type="quantitative")}else if(!_oe(t)){const l=YBe(s,t);s.type=l}if(Ai(s)){const{compatible:l,warning:u}=ZBe(s,t)||{};l===!1&&fe(u)}if(n4(s)&&Ee(s.sort)){const{sort:l}=s;if(UW(l))return{...s,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&UW(u))return{...s,sort:{encoding:u,order:"descending"}}}if(t4(s)){const{header:l}=s;if(l){const{orient:u,...c}=l;if(u)return{...s,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return s}function Pk(e,t){return Qc(e)?{maxbins:CW(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:CW(t)}:e}const Xh={compatible:!0};function ZBe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case nu:case ru:case fk:return wS(e)?Xh:{compatible:!1,warning:eze(t)};case hn:case mr:case of:case Mg:case Qi:case dl:case hl:case Dx:case jx:case dk:case Fd:case hk:case pk:case hh:case yo:case ss:case mk:return Xh;case us:case ho:case ls:case cs:return n!==Bd?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Xh;case Ou:case lf:case uf:case cf:case Cu:case ku:case Au:case os:case fl:case sf:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Xh;case Ji:case ff:return!wS(e)&&!HBe(e)?{compatible:!1,warning:tze(t)}:Xh;case Pm:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Xh}}function Dm(e){const{formatType:t}=SS(e);return t==="time"||!t&&QBe(e)}function QBe(e){return e&&(e.type==="temporal"||de(e)&&!!e.timeUnit)}function $k(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const a=t&&((l=dr(t))==null?void 0:l.unit);let o=a||n==="temporal",s;return Lx(e)?s=e.expr:Ne(e)?s=e.signal:yh(e)?(o=!0,s=zd(e)):(Ee(e)||St(e))&&o&&(s=`datetime(${Ht(e)})`,zze(a)&&(St(e)&&e<1e4||Ee(e)&&isNaN(Date.parse(e)))&&(s=zd({[a]:e}))),s?r&&o?`time(${s})`:s:i?void 0:Ht(e)}function Pse(e,t){const{type:n}=e;return t.map(r=>{const i=de(e)&&!vh(e.timeUnit)?e.timeUnit:void 0,a=$k(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return a!==void 0?{signal:a}:r})}function Wx(e,t){return Jt(e.bin)?ml(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const qW={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Hx(e){return e==null?void 0:e.condition}const $se=["domain","grid","labels","ticks","title"],JBe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Tse={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},e6e={...Tse,style:1,labelExpr:1,encoding:1};function GW(e){return ke(e6e,e)}const t6e={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Nse=ue(t6e);function $u(e){return ce(e,"mark")}class Tk{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return $u(t)?PBe(t.mark)===this.name:!1}}function hd(e,t){const n=e&&e[t];return n?ae(n)?Cm(n,r=>!!r.field):de(n)||Ok(n):!1}function Mse(e,t){const n=e&&e[t];return n?ae(n)?Cm(n,r=>!!r.field):de(n)||gl(n)||Ux(n):!1}function Dse(e,t){if(Nn(t)){const n=e[t];if((de(n)||gl(n))&&(ese(n.type)||de(n)&&n.timeUnit)){const r=A5(t);return Mse(e,r)}}return!1}function jse(e){return Cm(K5e,t=>{if(hd(e,t)){const n=e[t];if(ae(n))return Cm(n,r=>!!r.aggregate);{const r=es(n);return r&&!!r.aggregate}}return!1})}function Ise(e,t){const n=[],r=[],i=[],a=[],o={};return o4(e,(s,l)=>{if(de(s)){const{field:u,aggregate:c,bin:f,timeUnit:d,...p}=s;if(c||d||f){const m=r4(s),g=m==null?void 0:m.title;let x=_e(s,{forAs:!0});const v={...g?[]:{title:Hp(s,t,{allowDisabling:!0})},...p,field:x};if(c){let b;if(df(c)?(b="argmax",x=_e({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${x}.${u}`):yu(c)?(b="argmin",x=_e({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${x}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(b=c),b){const _={op:b,as:x};u&&(_.field=u),a.push(_)}}else if(n.push(x),Ai(s)&&Jt(f)){if(r.push({bin:f,field:u,as:x}),n.push(_e(s,{binSuffix:"end"})),Wx(s,l)&&n.push(_e(s,{binSuffix:"range"})),Nn(l)){const b={field:`${x}_end`};o[`${l}2`]=b}v.bin="binned",_oe(l)||(v.type=Bd)}else if(d&&!vh(d)){i.push({timeUnit:d,field:u,as:x});const b=Ai(s)&&s.type!==$m&&"time";b&&(l===Dx||l===Fd?v.formatType=b:s4e(l)?v.legend={formatType:b,...v.legend}:Nn(l)&&(v.axis={formatType:b,...v.axis}))}o[l]=v}else n.push(u),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function n6e(e,t,n){const r=u4e(t,n);if(r){if(r==="binned"){const i=e[t===os?hn:mr];return!!(de(i)&&de(e[t])&&br(i.bin))}}else return!1;return!0}function r6e(e,t,n,r){const i={};for(const a of ue(e))boe(a)||fe(J4e(a));for(let a of n4e){if(!e[a])continue;const o=e[a];if(Ix(a)){const s=t4e(a),l=i[s];if(de(l)&&Qze(l.type)&&de(o)&&!l.timeUnit){fe(V4e(s));continue}}if(a==="angle"&&t==="arc"&&!e.theta&&(fe(G4e),a=yo),!n6e(e,a,t)){fe(xk(a,t));continue}if(a===Cu&&t==="line"){const s=es(e[a]);if(s!=null&&s.aggregate){fe(Q4e);continue}}if(a===Qi&&(n?"fill"in e:"stroke"in e)){fe(Foe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===jx||a===Pm&&!ae(o)&&!Jo(o)||a===Fd&&ae(o)){if(o){if(a===Pm){const s=e[a];if(wse(s)){i[a]=s;continue}}i[a]=Ae(o).reduce((s,l)=>(de(l)?s.push(a4(l,a)):fe(sD(l,a)),s),[])}}else{if(a===Fd&&o===null)i[a]=null;else if(!de(o)&&!gl(o)&&!Jo(o)&&!Bx(o)&&!Ne(o)){fe(sD(o,a));continue}i[a]=Ose(o,a,r)}}return i}function Nk(e,t){const n={};for(const r of ue(e)){const i=Ose(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function i6e(e){const t=[];for(const n of ue(e))if(hd(e,n)){const r=e[n],i=Ae(r);for(const a of i)de(a)?t.push(a):Ok(a)&&t.push(a.condition)}return t}function o4(e,t,n){if(e)for(const r of ue(e)){const i=e[r];if(ae(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function a6e(e,t,n,r){return e?ue(e).reduce((i,a)=>{const o=e[a];return ae(o)?o.reduce((s,l)=>t.call(r,s,l,a),i):t.call(r,i,o,a)},n):n}function Lse(e,t){return ue(t).reduce((n,r)=>{switch(r){case hn:case mr:case hk:case mk:case pk:case os:case fl:case of:case Mg:case yo:case ku:case ss:case Au:case sf:case ls:case us:case cs:case ho:case Dx:case Ji:case hh:case Fd:return n;case Pm:if(e==="line"||e==="trail")return n;case jx:case dk:{const i=t[r];if(ae(i)||de(i))for(const a of Ae(i))a.aggregate||n.push(_e(a,{}));return n}case Cu:if(e==="trail")return n;case Qi:case dl:case hl:case Ou:case lf:case uf:case ff:case cf:{const i=es(t[r]);return i&&!i.aggregate&&n.push(_e(i,{})),n}}},[])}function o6e(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(ae(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return ae(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function fD(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:s})=>{const l=r?` of ${s4(t)}`:"";return{field:o+t.field,type:t.type,title:Ne(s)?{signal:`${s}"${escape(l)}"`}:s+l}}),a=i6e(n).map(UBe);return{tooltip:[...i,...Ts(a,dt)]}}function s4(e){const{title:t,field:n}=e;return Tn(t,n)}function l4(e,t,n,r,i){const{scale:a,axis:o}=n;return({partName:s,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=s4(n);return Fse(e,s,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...a!==void 0?{scale:a}:{},...o!==void 0?{axis:o}:{}},...Ee(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function Fse(e,t,n,r){const{clip:i,color:a,opacity:o}=e,s=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...a?{color:a}:{},...o?{opacity:o}:{},...nl(r.mark)?r.mark:{type:r.mark},style:`${s}-${String(t)}`,...Qc(e[t])?{}:e[t]}}]:[]}function Rse(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],o=r[`${i}2`],s=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:p_(a,n),continuousAxisChannelDef2:p_(o,n),continuousAxisChannelDefError:p_(s,n),continuousAxisChannelDefError2:p_(l,n),continuousAxis:i}}function p_(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&fe(Cze(n,t)),r}else return e}function zse(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(nl(n)&&n.orient)return n.orient;if(pc(i)){if(pc(a)){const o=de(i)&&i.aggregate,s=de(a)&&a.aggregate;if(!o&&s===t)return"vertical";if(!s&&o===t)return"horizontal";if(o===t&&s===t)throw new Error("Both x and y cannot have aggregate");return Dm(a)&&!Dm(i)?"horizontal":"vertical"}return"horizontal"}else{if(pc(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const AS="boxplot",s6e=["box","median","outliers","rule","ticks"],l6e=new Tk(AS,Use);function Bse(e){return St(e)?"tukey":e}function Use(e,{config:t}){e={...e,encoding:Nk(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:a,...o}=e,s=nl(n)?n:{type:n};i&&fe(Ioe("boxplot"));const l=s.extent??t.boxplot.extent,u=Ut("size",s,t),c=s.invalid,f=Bse(l),{bins:d,timeUnits:p,transform:m,continuousAxisChannelDef:g,continuousAxis:x,groupby:v,aggregate:b,encodingWithoutContinuousAxis:_,ticksOrient:k,boxOrient:E,customTooltipWithoutAggregatedField:A}=u6e(e,l,t),C=Ng(g.field),{color:P,size:T,...D}=_,j=gr=>l4(s,x,g,gr,t.boxplot),I=j(D),W=j(_),R=(Se(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",M=j({...D,...T?{size:T}:{},color:{condition:{test:`${Dt(`lower_box_${g.field}`)} >= ${Dt(`upper_box_${g.field}`)}`,...P||{value:R}}}}),z=fD([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,_),H={type:"tick",color:"black",opacity:1,orient:k,invalid:c,aria:!1},B=f==="min-max"?z:fD([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,_),G=[...I({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:B}),...I({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:B}),...I({partName:"ticks",mark:H,positionPrefix:"lower_whisker",extraEncoding:B}),...I({partName:"ticks",mark:H,positionPrefix:"upper_whisker",extraEncoding:B})],N=[...f!=="tukey"?G:[],...W({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:E,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:z}),...M({partName:"median",mark:{type:"tick",invalid:c,...Se(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:k,aria:!1},positionPrefix:"mid_box",extraEncoding:z})];if(f==="min-max")return{...o,transform:(o.transform??[]).concat(m),layer:N};const Z=Dt(`lower_box_${g.field}`),Y=Dt(`upper_box_${g.field}`),U=`(${Y} - ${Z})`,me=`${Z} - ${l} * ${U}`,le=`${Y} + ${l} * ${U}`,ve=Dt(g.field),mt={joinaggregate:Wse(g.field),groupby:v},it={transform:[{filter:`(${me} <= ${ve}) && (${ve} <= ${le})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${C}`},{op:"max",field:g.field,as:`upper_whisker_${C}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${C}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${C}`},...b],groupby:v}],layer:G},{tooltip:be,...De}=D,{scale:Re,axis:oe}=g,Ct=s4(g),nt=Vi(oe,["title"]),zt=Fse(s,"outliers",t.boxplot,{transform:[{filter:`(${ve} < ${me}) || (${ve} > ${le})`}],mark:"point",encoding:{[x]:{field:g.field,type:g.type,...Ct!==void 0?{title:Ct}:{},...Re!==void 0?{scale:Re}:{},...Wt(nt)?{}:{axis:nt}},...De,...P?{color:P}:{},...A?{tooltip:A}:{}}})[0];let Tt;const ln=[...d,...p,mt];return zt?Tt={transform:ln,layer:[zt,it]}:(Tt=it,Tt.transform.unshift(...ln)),{...o,layer:[Tt,{transform:m,layer:N}]}}function Wse(e){const t=Ng(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function u6e(e,t,n){const r=zse(e,AS),{continuousAxisChannelDef:i,continuousAxis:a}=Rse(e,r,AS),o=i.field,s=Ng(o),l=Bse(t),u=[...Wse(o),{op:"median",field:o,as:`mid_box_${s}`},{op:"min",field:o,as:(l==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:o,as:(l==="min-max"?"upper_whisker_":"max_")+s}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${Dt(`upper_box_${s}`)} - ${Dt(`lower_box_${s}`)}`,as:`iqr_${s}`},{calculate:`min(${Dt(`upper_box_${s}`)} + ${Dt(`iqr_${s}`)} * ${t}, ${Dt(`max_${s}`)})`,as:`upper_whisker_${s}`},{calculate:`max(${Dt(`lower_box_${s}`)} - ${Dt(`iqr_${s}`)} * ${t}, ${Dt(`min_${s}`)})`,as:`lower_whisker_${s}`}],{[a]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:p,filteredEncoding:m}=o6e(d),{bins:g,timeUnits:x,aggregate:v,groupby:b,encoding:_}=Ise(m,n),k=r==="vertical"?"horizontal":"vertical",E=r,A=[...g,...x,{aggregate:[...v,...u],groupby:b},...c];return{bins:g,timeUnits:x,transform:A,groupby:b,aggregate:v,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:_,ticksOrient:k,boxOrient:E,customTooltipWithoutAggregatedField:p}}const u4="errorbar",c6e=["ticks","rule"],f6e=new Tk(u4,Hse);function Hse(e,{config:t}){e={...e,encoding:Nk(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:o,markDef:s,outerSpec:l,tooltipEncoding:u}=qse(e,u4,t);delete a.size;const c=l4(s,i,r,a,t.errorbar),f=s.thickness,d=s.size,p={type:"tick",orient:o,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},m=[...c({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...m.length>1?{layer:m}:{...m[0]}}}function d6e(e,t){const{encoding:n}=e;if(h6e(n))return{orient:zse(e,t),inputType:"raw"};const r=p6e(n),i=m6e(n),a=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const s=n.x2,l=n.y2;if(Ye(s)&&Ye(l))throw new Error(`${t} cannot have both x2 and y2`);if(Ye(s)){if(pc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Ye(l)){if(pc(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const s=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Ye(l)&&!Ye(s))throw new Error(`${t} cannot have xError2 without xError`);if(Ye(c)&&!Ye(u))throw new Error(`${t} cannot have yError2 without yError`);if(Ye(s)&&Ye(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Ye(s)){if(pc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Ye(u)){if(pc(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function h6e(e){return(Ye(e.x)||Ye(e.y))&&!Ye(e.x2)&&!Ye(e.y2)&&!Ye(e.xError)&&!Ye(e.xError2)&&!Ye(e.yError)&&!Ye(e.yError2)}function p6e(e){return Ye(e.x2)||Ye(e.y2)}function m6e(e){return Ye(e.xError)||Ye(e.xError2)||Ye(e.yError)||Ye(e.yError2)}function qse(e,t,n){const{mark:r,encoding:i,params:a,projection:o,...s}=e,l=nl(r)?r:{type:r};a&&fe(Ioe(t));const{orient:u,inputType:c}=d6e(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:m,continuousAxis:g}=Rse(e,u,t),{errorBarSpecificAggregate:x,postAggregateCalculates:v,tooltipSummary:b,tooltipTitleWithFieldName:_}=g6e(l,f,d,p,m,c,t,n),{[g]:k,[g==="x"?"x2":"y2"]:E,[g==="x"?"xError":"yError"]:A,[g==="x"?"xError2":"yError2"]:C,...P}=i,{bins:T,timeUnits:D,aggregate:j,groupby:I,encoding:W}=Ise(P,n),R=[...j,...x],M=c!=="raw"?[]:I,z=fD(b,f,W,_);return{transform:[...s.transform??[],...T,...D,...R.length===0?[]:[{aggregate:R,groupby:M}],...v],groupby:M,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:W,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:s,tooltipEncoding:z}}function g6e(e,t,n,r,i,a,o,s){let l=[],u=[];const c=t.field;let f,d=!1;if(a==="raw"){const p=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":s.errorbar.center,m=e.extent?e.extent:p==="mean"?"stderr":"iqr";if(p==="median"!=(m==="iqr")&&fe(kze(p,m,o)),m==="stderr"||m==="stdev")l=[{op:m,field:c,as:`extent_${c}`},{op:p,field:c,as:`center_${c}`}],u=[{calculate:`${Dt(`center_${c}`)} + ${Dt(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${Dt(`center_${c}`)} - ${Dt(`extent_${c}`)}`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:Mx(p)},{fieldPrefix:"upper_",titlePrefix:VW(p,m,"+")},{fieldPrefix:"lower_",titlePrefix:VW(p,m,"-")}],d=!0;else{let g,x,v;m==="ci"?(g="mean",x="ci0",v="ci1"):(g="median",x="q1",v="q3"),l=[{op:x,field:c,as:`lower_${c}`},{op:v,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Hp({field:c,aggregate:v,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Hp({field:c,aggregate:x,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Hp({field:c,aggregate:g,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&fe(Aze(e.center,e.extent)),a==="aggregated-upper-lower"?(f=[],u=[{calculate:Dt(n.field),as:`upper_${c}`},{calculate:Dt(c),as:`lower_${c}`}]):a==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${Dt(c)} + ${Dt(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${Dt(c)} + ${Dt(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${Dt(c)} - ${Dt(r.field)}`,as:`lower_${c}`}));for(const p of u)f.push({fieldPrefix:p.as.substring(0,6),titlePrefix:Ld(Ld(p.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function VW(e,t,n){return`${Mx(e)} ${n} ${t}`}const c4="errorband",y6e=["band","borders"],v6e=new Tk(c4,Gse);function Gse(e,{config:t}){e={...e,encoding:Nk(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:o,outerSpec:s,tooltipEncoding:l}=qse(e,c4,t),u=o,c=l4(u,i,r,a,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},p={type:f?"line":"rule"};const m={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...m,ariaRoleDescription:"errorband"},p={...p,...m,aria:!1}):u.interpolate?fe(FW("interpolate")):u.tension&&fe(FW("tension")),{...s,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:l})]}}const Vse={};function f4(e,t,n){const r=new Tk(e,t);Vse[e]={normalizer:r,parts:n}}function x6e(){return ue(Vse)}f4(AS,Use,s6e);f4(u4,Hse,c6e);f4(c4,Gse,y6e);const b6e=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Xse={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Yse={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},_6e=ue(Xse),w6e=ue(Yse),S6e={header:1,headerRow:1,headerColumn:1,headerFacet:1},Kse=ue(S6e),Zse=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],E6e={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},A6e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},ts="_vgsid_",k6e={point:{on:"click",fields:[ts],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function d4(e){return e==="legend"||!!(e!=null&&e.legend)}function d$(e){return d4(e)&&Se(e)}function h4(e){return!!(e!=null&&e.select)}function Qse(e){const t=[];for(const n of e||[]){if(h4(n))continue;const{expr:r,bind:i,...a}=n;if(i&&r){const o={...a,bind:i,init:r};t.push(o)}else{const o={...a,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function C6e(e){return Mk(e)||m4(e)||p4(e)}function p4(e){return ce(e,"concat")}function Mk(e){return ce(e,"vconcat")}function m4(e){return ce(e,"hconcat")}function Jse({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function rl(e){return ce(e,"step")}function XW(e){return ce(e,"view")||ce(e,"width")||ce(e,"height")}const YW=20,O6e={align:1,bounds:1,center:1,columns:1,spacing:1},P6e=ue(O6e);function $6e(e,t,n){const r=n[t],i={},{spacing:a,columns:o}=r;a!==void 0&&(i.spacing=a),o!==void 0&&(Ck(e)&&!zx(e.facet)||p4(e))&&(i.columns=o),Mk(e)&&(i.columns=1);for(const s of P6e)if(e[s]!==void 0)if(s==="spacing"){const l=e[s];i[s]=St(l)?l:{row:l.row??a,column:l.column??a}}else i[s]=e[s];return i}function dD(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function hD(e,t){const n=kS(e,t);return rl(n)?n.step:ele}function kS(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Tn(n,{step:e.step})}const ele=20,T6e={continuousWidth:200,continuousHeight:200,step:ele},N6e={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:T6e,mark:SBe,arc:{},area:{},bar:CBe,circle:{},geoshape:{},image:{},line:{},point:{},rect:K5,rule:{color:"black"},square:{},text:{color:"black"},tick:OBe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:iBe,projection:{},legend:E6e,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:k6e,style:{},title:{},facet:{spacing:YW},concat:{spacing:YW},normalizedNumberFormat:".0%"},Pl=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],KW={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},ZW={blue:Pl[0],orange:Pl[1],red:Pl[2],teal:Pl[3],green:Pl[4],yellow:Pl[5],purple:Pl[6],pink:Pl[7],brown:Pl[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function M6e(e={}){return{signals:[{name:"color",value:Se(e)?{...ZW,...e}:ZW}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function D6e(e){return{signals:[{name:"fontSize",value:Se(e)?{...KW,...e}:KW}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function j6e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function tle(e){const t=ue(e||{}),n={};for(const r of t){const i=e[r];n[r]=Hx(i)?Poe(i):pa(i)}return n}function I6e(e){const t=ue(e),n={};for(const r of t)n[r]=tle(e[r]);return n}const L6e=[...cse,...Nse,...Kse,"background","padding","legend","lineBreak","scale","style","title","view"];function nle(e={}){const{color:t,font:n,fontSize:r,selection:i,...a}=e,o=mg({},Ge(N6e),n?j6e(n):{},t?M6e(t):{},r?D6e(r):{},a||{});i&&gg(o,"selection",i,!0);const s=Vi(o,L6e);for(const l of["background","lineBreak","padding"])o[l]&&(s[l]=pa(o[l]));for(const l of cse)o[l]&&(s[l]=_r(o[l]));for(const l of Nse)o[l]&&(s[l]=tle(o[l]));for(const l of Kse)o[l]&&(s[l]=_r(o[l]));if(o.legend&&(s.legend=_r(o.legend)),o.scale){const{invalid:l,...u}=o.scale,c=_r(l,{level:1});s.scale={..._r(u),...ue(c).length>0?{invalid:c}:{}}}return o.style&&(s.style=I6e(o.style)),o.title&&(s.title=_r(o.title)),o.view&&(s.view=_r(o.view)),s}const F6e=new Set(["view",...yBe]),R6e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],z6e={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...wBe};function B6e(e){e=Ge(e);for(const t of R6e)delete e[t];if(e.axis)for(const t in e.axis)Hx(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of b6e)delete e.legend[t];if(e.mark){for(const t of zW)delete e.mark[t];e.mark.tooltip&&Se(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Qse(e.params)),delete e.params);for(const t of F6e){for(const r of zW)delete e[t][r];const n=z6e[t];if(n)for(const r of n)delete e[t][r];W6e(e,t)}for(const t of x6e())delete e[t];U6e(e);for(const t in e)Se(e[t])&&Wt(e[t])&&delete e[t];return Wt(e)?void 0:e}function U6e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Ooe(e.title);Wt(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Wt(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Wt(r)?delete e.title:e.title=r}function W6e(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const a={...i,...e.style[n??t]};Wt(a)||(e.style[n??t]=a),delete e[t]}function Dk(e){return ce(e,"layer")}function H6e(e){return ce(e,"repeat")}function q6e(e){return!ae(e.repeat)&&ce(e.repeat,"layer")}class g4{map(t,n){return Ck(t)?this.mapFacet(t,n):H6e(t)?this.mapRepeat(t,n):m4(t)?this.mapHConcat(t,n):Mk(t)?this.mapVConcat(t,n):p4(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Dk(t))return this.mapLayer(t,n);if($u(t))return this.mapUnit(t,n);throw new Error(T5(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(a=>this.map(a,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const G6e={zero:1,center:1,normalize:1};function V6e(e){return ke(G6e,e)}const X6e=new Set([sse,Sk,wk,xS,Ak,X5,Y5,Ek,lse,V5]),Y6e=new Set([Sk,wk,sse]);function Yh(e){return de(e)&&Nm(e)==="quantitative"&&!e.bin}function QW(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",a=t==="x"&&["bar","area"].includes(r),o=e[t],s=e[i];if(de(o)&&de(s))if(Yh(o)&&Yh(s)){if(o.stack)return t;if(s.stack)return i;const l=de(o)&&!!o.aggregate,u=de(s)&&!!s.aggregate;if(l!==u)return l?t:i;if(a){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Yh(o))return t;if(Yh(s))return i}else{if(Yh(o))return a&&n==="vertical"?void 0:t;if(Yh(s))return a&&n==="horizontal"?void 0:i}}function K6e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function rle(e,t){var g,x;const n=nl(e)?e:{type:e},r=n.type;if(!X6e.has(r))return null;const i=QW(t,"x",n)||QW(t,"theta",n);if(!i)return null;const a=t[i],o=de(a)?_e(a,{}):void 0,s=K6e(i),l=[],u=new Set;if(t[s]){const v=t[s],b=de(v)?_e(v,{}):void 0;b&&b!==o&&(l.push(s),u.add(b))}const c=s==="x"?"xOffset":"yOffset",f=t[c],d=de(f)?_e(f,{}):void 0;d&&d!==o&&(l.push(c),u.add(d));const p=r4e.reduce((v,b)=>{if(b!=="tooltip"&&hd(t,b)){const _=t[b];for(const k of Ae(_)){const E=es(k);if(E.aggregate)continue;const A=_e(E,{});(!A||!u.has(A))&&v.push({channel:b,fieldDef:E})}}return v},[]);let m;return a.stack!==void 0?Qc(a.stack)?m=a.stack?"zero":null:m=a.stack:Y6e.has(r)&&(m="zero"),!m||!V6e(m)||jse(t)&&p.length===0?null:((g=a==null?void 0:a.scale)!=null&&g.type&&((x=a==null?void 0:a.scale)==null?void 0:x.type)!==wr.LINEAR&&a!=null&&a.stack&&fe(wze(a.scale.type)),Ye(t[pl(i)])?(a.stack!==void 0&&fe(_ze(i)),null):(de(a)&&a.aggregate&&!g4e.has(a.aggregate)&&fe(Sze(a.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:a.impute===null?!1:hf(r),stackBy:p,offset:m}))}function ile(e,t,n){const r=_r(e),i=Ut("orient",r,n);if(r.orient=e8e(r.type,t,i),i!==void 0&&i!==r.orient&&fe(aze(r.orient,i)),r.type==="bar"&&r.orient){const l=Ut("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:ABe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const a=Ut("opacity",r,n),o=Ut("fillOpacity",r,n);return a===void 0&&o===void 0&&(r.opacity=Q6e(r.type,t)),Ut("cursor",r,n)===void 0&&(r.cursor=Z6e(r,t,n)),r}function Z6e(e,t,n){return t.href||e.href||Ut("href",e,n)?"pointer":e.cursor}function Q6e(e,t){if(lt([Ak,V5,X5,Y5],e)&&!jse(t))return .7}function J6e(e,t,{graticule:n}){if(n)return!1;const r=tl("filled",e,t),i=e.type;return Tn(r,i!==Ak&&i!==Ek&&i!==xS)}function e8e(e,t,n){switch(e){case Ak:case X5:case Y5:case lse:case mBe:case pBe:return}const{x:r,y:i,x2:a,y2:o}=t;switch(e){case Sk:if(de(r)&&(br(r.bin)||de(i)&&i.aggregate&&!r.aggregate))return"vertical";if(de(i)&&(br(i.bin)||de(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a)return(de(r)&&r.type===Bd&&!Jt(r.bin)||_S(r))&&de(i)&&br(i.bin)?"horizontal":"vertical";if(!o)return(de(i)&&i.type===Bd&&!Jt(i.bin)||_S(i))&&de(r)&&br(r.bin)?"vertical":"horizontal"}case xS:if(a&&!(de(r)&&br(r.bin))&&o&&!(de(i)&&br(i.bin)))return;case wk:if(o)return de(i)&&br(i.bin)?"horizontal":"vertical";if(a)return de(r)&&br(r.bin)?"vertical":"horizontal";if(e===xS){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Ek:case V5:{const s=HW(r),l=HW(i);if(n)return n;if(s&&!l)return e!=="tick"?"horizontal":"vertical";if(!s&&l)return e!=="tick"?"vertical":"horizontal";if(s&&l)return"vertical";{const u=Ai(r)&&r.type===$m,c=Ai(i)&&i.type===$m;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function t8e(e){const{point:t,line:n,...r}=e;return ue(r).length>1?r:r.type}function n8e(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Vi(e[t],["point","line"])});return e}function h$(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Se(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Se(t.point)?t.point:{}:void 0}function JW(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class r8e{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if($u(t)){const{mark:r,encoding:i}=t,a=nl(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!h$(a,n[a.type],i);case"area":return!!h$(a,n[a.type],i)||!!JW(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:o,mark:s,name:l,encoding:u,...c}=t,f=Nk(u,i),d=nl(s)?s:{type:s},p=h$(d,i[d.type],f),m=d.type==="area"&&JW(d,i[d.type]),g=[{name:l,...a?{params:a}:{},mark:t8e({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:Vi(f,["shape"])}],x=rle(ile(d,f,i),f);let v=f;if(x){const{fieldChannel:b,offset:_}=x;v={...f,[b]:{...f[b],..._?{stack:_}:{}}}}return v=Vi(v,["y2","x2"]),m&&g.push({...o?{projection:o}:{},mark:{type:"line",...km(d,["clip","interpolate","tension","tooltip"]),...m},encoding:v}),p&&g.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...km(d,["clip","tooltip"]),...p},encoding:v}),r({...c,layer:g},{...n,config:n8e(i)})}}function i8e(e,t){return t?zx(e)?ole(e,t):ale(e,t):e}function p$(e,t){return t?ole(e,t):e}function pD(e,t,n){const r=t[e];if(zBe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};fe(I4e(r.repeat));return}return t}function ale(e,t){if(e=pD("field",e,t),e!==void 0){if(e===null)return null;if(n4(e)&&iu(e.sort)){const n=pD("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function eH(e,t){if(de(e))return ale(e,t);{const n=pD("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function tH(e,t){if(Ye(e)){const n=eH(e,t);if(n)return n;if(Bx(e))return{condition:e.condition}}else{if(Ux(e)){const n=eH(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function ole(e,t){const n={};for(const r in e)if(ce(e,r)){const i=e[r];if(ae(i))n[r]=i.map(a=>tH(a,t)).filter(a=>a);else{const a=tH(i,t);a!==void 0&&(n[r]=a)}}return n}class a8e{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if($u(t)){const{encoding:n,mark:r}=t;if(r==="line"||nl(r)&&r.type==="line")for(const i of e4e){const a=ph(i),o=n[a];if(n[i]&&(de(o)&&!br(o.bin)||gl(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return fe(ize(!!i.x2,!!i.y2)),r({...t,mark:Se(a)?{...a,type:"rule"}:"rule"},n)}}class o8e extends g4{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[l6e,f6e,v6e,new r8e,new a8e]}map(t,n){if($u(t)){const r=hd(t.encoding,nu),i=hd(t.encoding,ru),a=hd(t.encoding,fk);if(r||i||a)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,a=p$(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...a?{encoding:a}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const s=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,s);return o}mapRepeat(t,n){return q6e(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...a}=t,{row:o,column:s,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return o||s?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...s?{column:s}:{}},spec:{repeat:{layer:l},spec:i}},n):{...a,layer:l.map(f=>{const d={...u,layer:f},p=`${(i.name?`${i.name}_`:"")+c}child__layer_${fn(f)}`,m=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:p});return m.name=p,m})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:a,...o}=t;!ae(r)&&t.columns&&(t=Vi(t,["columns"]),fe(DW("repeat")));const s=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!ae(r)&&r.row||[l?l.row:null],f=!ae(r)&&r.column||[l?l.column:null],d=ae(r)&&r||[l?l.repeat:null];for(const m of d)for(const g of c)for(const x of f){const v={repeat:m,row:g,column:x,layer:l.layer},b=(i.name?`${i.name}_`:"")+u+"child__"+(ae(r)?`${fn(m)}`:(r.row?`row_${fn(g)}`:"")+(r.column?`column_${fn(x)}`:"")),_=this.map(i,{...n,repeater:v,repeaterPrefix:b});_.name=b,s.push(Vi(_,["data"]))}const p=ae(r)?t.columns:r.column?r.column.length:1;return{data:i.data??a,align:"all",...o,columns:p,concat:s}}mapFacet(t,n){const{facet:r}=t;return zx(r)&&t.columns&&(t=Vi(t,["columns"]),fe(DW("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:a,parentProjection:o,config:s}=n,l=rH({parentProjection:o,projection:i}),u=nH({parentEncoding:a,encoding:p$(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:s})}mapFacetedUnit(t,n){const{row:r,column:i,facet:a,...o}=t.encoding,{mark:s,width:l,projection:u,height:c,view:f,params:d,encoding:p,...m}=t,{facetMapping:g,layout:x}=this.getFacetMappingAndLayout({row:r,column:i,facet:a},n),v=p$(o,n.repeater);return this.mapFacet({...m,...x,facet:g,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:s,encoding:v,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:a}=t;if(r||i){a&&fe(nze([...r?[nu]:[],...i?[ru]:[]]));const o={},s={};for(const l of[nu,ru]){const u=t[l];if(u){const{align:c,center:f,spacing:d,columns:p,...m}=u;o[l]=m;for(const g of["align","center","spacing"])u[g]!==void 0&&(s[g]??(s[g]={}),s[g][l]=u[g])}}return{facetMapping:o,layout:s}}else{const{align:o,center:s,spacing:l,columns:u,...c}=a;return{facetMapping:i8e(c,n.repeater),layout:{...o?{align:o}:{},...s?{center:s}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:a,projection:o,...s}=t,l={...i,parentEncoding:nH({parentEncoding:n,encoding:a,layer:!0}),parentProjection:rH({parentProjection:r,projection:o})};return super.mapLayer({...s,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function nH({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...ue(e),...ue(t)]);for(const a of i){const o=t[a],s=e[a];if(Ye(o)){const l={...s,...o};r[a]=l}else Ux(o)?r[a]={...o,condition:{...s,...o.condition}}:o||o===null?r[a]=o:(n||Jo(s)||Ne(s)||Ye(s)||ae(s))&&(r[a]=s)}}else r=t;return!r||Wt(r)?void 0:r}function rH(e){const{parentProjection:t,projection:n}=e;return t&&n&&fe(q4e({parentProjection:t,projection:n})),n??t}function y4(e){return ce(e,"filter")}function s8e(e){return ce(e,"stop")}function sle(e){return ce(e,"lookup")}function l8e(e){return ce(e,"data")}function u8e(e){return ce(e,"param")}function c8e(e){return ce(e,"pivot")}function f8e(e){return ce(e,"density")}function d8e(e){return ce(e,"quantile")}function h8e(e){return ce(e,"regression")}function p8e(e){return ce(e,"loess")}function m8e(e){return ce(e,"sample")}function g8e(e){return ce(e,"window")}function y8e(e){return ce(e,"joinaggregate")}function v8e(e){return ce(e,"flatten")}function x8e(e){return ce(e,"calculate")}function lle(e){return ce(e,"bin")}function b8e(e){return ce(e,"impute")}function _8e(e){return ce(e,"timeUnit")}function w8e(e){return ce(e,"aggregate")}function S8e(e){return ce(e,"stack")}function E8e(e){return ce(e,"fold")}function A8e(e){return ce(e,"extent")&&!ce(e,"density")&&!ce(e,"regression")}function k8e(e){return e.map(t=>y4(t)?{filter:Up(t.filter,Zze)}:t)}class C8e extends g4{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=iH(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=iH(t,n),t.encoding){const r={};for(const[i,a]of Wc(t.encoding))r[i]=ule(a,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Wc(r).map(([a,o])=>{const{init:s,bind:l,empty:u,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[a]=u!=="none";for(const f of $r(n.selectionPredicates[a]??{}))f.empty=u!=="none";return{name:a,value:s,select:c,bind:l}})}:t}}function iH(e,t){const{transform:n,...r}=e;if(n){const i=n.map(a=>{if(y4(a))return{filter:mD(a,t)};if(lle(a)&&mh(a.bin))return{...a,bin:cle(a.bin)};if(sle(a)){const{selection:o,...s}=a.from;return o?{...a,from:{param:o,...s}}:a}return a});return{...r,transform:i}}return e}function ule(e,t){var r,i;const n=Ge(e);if(de(n)&&mh(n.bin)&&(n.bin=cle(n.bin)),xh(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:a,...o}=n.scale.domain;n.scale.domain={...o,...a?{param:a}:{}}}if(Bx(n))if(ae(n.condition))n.condition=n.condition.map(a=>{const{selection:o,param:s,test:l,...u}=a;return s?a:{...u,test:mD(a,t)}});else{const{selection:a,param:o,test:s,...l}=ule(n.condition,t);n.condition=o?n.condition:{...l,test:mD(n.condition,t)}}return n}function cle(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function mD(e,t){const n=r=>Up(r,i=>{var a;const o=t.emptySelections[i]??!0,s={param:i,empty:o};return(a=t.selectionPredicates)[i]??(a[i]=[]),t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):Up(e.test||e.filter,r=>r.selection?n(r.selection):r)}class gD extends g4{map(t,n){const r=n.selections??[];if(t.params&&!$u(t)){const i=[];for(const a of t.params)h4(a)?r.push(a):i.push(a);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),a=[];for(const o of r)if(!o.views||!o.views.length)a.push(o);else for(const s of o.views)(Ee(s)&&(s===t.name||i.includes(s))||ae(s)&&s.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&a.push(o);return a.length&&(t.params=a),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=gD.prototype[e];gD.prototype[e]=function(n,r){return t.call(this,n,O8e(n,r))}}function O8e(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function fle(e,t){t===void 0&&(t=nle(e.config));const n=N8e(e,t),{width:r,height:i}=e,a=M8e(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...a?{autosize:a}:{}}}const P8e=new o8e,$8e=new C8e,T8e=new gD;function N8e(e,t={}){const n={config:t};return T8e.map(P8e.map($8e.map(e,n),n),n)}function aH(e){return Ee(e)?{type:e}:e??{}}function M8e(e,t,n){let{width:r,height:i}=t;const a=$u(e)||Dk(e),o={};a?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(fe($W("width")),r=void 0),i=="container"&&(fe($W("height")),i=void 0));const s={type:"pad",...o,...n?aH(n.autosize):{},...aH(e.autosize)};if(s.type==="fit"&&!a&&(fe(A4e),s.type="pad"),r=="container"&&!(s.type=="fit"||s.type=="fit-x")&&fe(TW("width")),i=="container"&&!(s.type=="fit"||s.type=="fit-y")&&fe(TW("height")),!va(s,{type:"pad"}))return s}function D8e(e){return["fit","fit-x","fit-y"].includes(e)}function j8e(e){return e?`fit-${gk(e)}`:"fit"}const I8e=["background","padding"];function oH(e,t){const n={};for(const r of I8e)e&&e[r]!==void 0&&(n[r]=pa(e[r]));return t&&(n.params=e.params),n}class Tu{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Tu(Ge(this.explicit),Ge(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Tn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of ue(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Es(e){return{explicit:!0,value:e}}function sa(e){return{explicit:!1,value:e}}function dle(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:jk(t,n,r,i)}}function jk(e,t,n,r){return e.explicit&&t.explicit&&fe(pze(n,r,e.value,t.value)),e}function Gc(e,t,n,r,i=jk){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:va(e.value,t.value)?e:i(e,t,n,r)}class L8e extends Tu{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function jm(e){return ce(e,"url")}function o1(e){return ce(e,"values")}function hle(e){return ce(e,"name")&&!jm(e)&&!o1(e)&&!$c(e)}function $c(e){return e&&(ple(e)||mle(e)||v4(e))}function ple(e){return ce(e,"sequence")}function mle(e){return ce(e,"sphere")}function v4(e){return ce(e,"graticule")}var vn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(vn||(vn={}));function gle({invalid:e,isPath:t}){switch(fse(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function F8e(e){const{marks:t,scales:n}=gle(e);return t===n?vn.Main:n==="include-invalid-values"?vn.PreFilterInvalid:vn.PostFilterInvalid}class Ft{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){fe(U4e);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Xi extends Ft{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${doe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function m$(e){return e.as!==void 0}function sH(e){return`${e}_end`}class Bs extends Ft{clone(){return new Bs(null,Ge(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,o)=>{const{field:s,timeUnit:l}=a;if(l){let u;if(vh(l)){if(yn(n)){const{mark:c,markDef:f,config:d}=n,p=qc({fieldDef:a,markDef:f,config:d});(a1(c)||p)&&(u={timeUnit:dr(l),field:s})}}else u={as:_e(a,{forAs:!0}),field:s,timeUnit:l};if(yn(n)){const{mark:c,markDef:f,config:d}=n,p=qc({fieldDef:a,markDef:f,config:d});a1(c)&&Nn(o)&&p!==.5&&(u.rectBandPosition=p)}u&&(i[dt(u)]=u)}return i},{});return Wt(r)?null:new Bs(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},a=dr(r),o={...i,timeUnit:a};return new Bs(t,{[dt(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Wc(this.timeUnits)){const a=m$(i)?i.as:`${i.field}_end`;t.has(a)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set($r(this.timeUnits).map(t=>m$(t)?t.as:sH(t.field)))}dependentFields(){return new Set($r(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${dt(this.timeUnits)}`}assemble(){const t=[];for(const n of $r(this.timeUnits)){const{rectBandPosition:r}=n,i=dr(n.timeUnit);if(m$(n)){const{field:a,as:o}=n,{unit:s,utc:l,...u}=i,c=[o,`${o}_end`];t.push({field:fo(a),type:"timeunit",...s?{units:bk(s)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...lH(c,r,i))}else if(n){const{field:a}=n,o=a.replaceAll("\\.","."),s=yle({timeUnit:i,field:o}),l=sH(o);t.push({type:"formula",expr:s,as:l}),t.push(...lH([o,l],r,i))}}return t}}const Ik="offsetted_rect_start",Lk="offsetted_rect_end";function yle({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,a=Voe(r),{part:o,step:s}=Zoe(a,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', ${Dt(t)}, ${n?-s:s})`}function lH([e,t],n,r){if(n!==void 0&&n!==.5){const i=Dt(e),a=Dt(t);return[{type:"formula",expr:uH([yle({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${Ik}`},{type:"formula",expr:uH([i,a],n+.5),as:`${e}_${Lk}`}]}return[]}function uH([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const qx="_tuple_fields";class R8e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const z8e={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new R8e),a={},o={},s=new Set,l=(m,g)=>{const x=g==="visual"?m.channel:m.field;let v=fn(`${r}_${x}`);for(let b=1;s.has(v);b++)v=fn(`${r}_${x}_${b}`);return s.add(v),{[g]:v}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?Ae(n.value):null;let{fields:d,encodings:p}=Se(n.select)?n.select:{};if(!d&&!p&&f){for(const m of f)if(Se(m))for(const g of ue(m))J5e(g)?(p||(p=[])).push(g):u==="interval"?(fe(j4e),p=c.encodings):(d??(d=[])).push(g)}!d&&!p&&(p=c.encodings,"fields"in c&&(d=c.fields));for(const m of p??[]){const g=e.fieldDef(m);if(g){let x=g.field;if(g.aggregate){fe(k4e(m,g.aggregate));continue}else if(!x){fe(MW(m));continue}if(g.timeUnit&&!vh(g.timeUnit)){x=e.vgField(m);const v={timeUnit:g.timeUnit,as:x,field:g.field};o[dt(v)]=v}if(!a[x]){const v=u==="interval"&&ml(m)&&Qo(e.getScaleComponent(m).get("type"))?"R":g.bin?"R-RE":"E",b={field:x,channel:m,type:v,index:i.items.length};b.signals={...l(b,"data"),...l(b,"visual")},i.items.push(a[x]=b),i.hasField[x]=a[x],i.hasSelectionId=i.hasSelectionId||x===ts,voe(m)?(b.geoChannel=m,b.channel=yoe(m),i.hasChannel[b.channel]=a[x]):i.hasChannel[m]=a[x]}}else fe(MW(m))}for(const m of d??[]){if(i.hasField[m])continue;const g={type:"E",field:m,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[m]=g,i.hasSelectionId=i.hasSelectionId||m===ts}f&&(t.init=f.map(m=>i.items.map(g=>Se(m)?m[g.geoChannel||g.channel]!==void 0?m[g.geoChannel||g.channel]:m[g.field]:m))),Wt(o)||(i.timeUnit=new Bs(null,o))},signals:(e,t,n)=>{const r=t.name+qx;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(_le)})}},vle="_curr",_w="anim_value",np="anim_clock",yD="eased_anim_clock",xle="min_extent",ble="max_range_extent",g$="last_tick_at",y$="is_playing",B8e=1/60*1e3,U8e=(e,t)=>[{name:yD,update:np},{name:`${e}_domain`,init:`domain('${t}')`},{name:xle,init:`extent(${e}_domain)[0]`},{name:ble,init:`extent(range('${t}'))[1]`},{name:_w,update:`invert('${t}', ${yD})`}],W8e={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Us(t)&&(n=n.concat([{name:np,init:"0",on:[{events:{type:"timer",throttle:B8e},update:`${y$} ? (${np} + (now() - ${g$}) > ${ble} ? 0 : ${np} + (now() - ${g$})) : ${np}`}]},{name:g$,init:"now()",on:[{events:[{signal:np},{signal:y$}],update:"now()"}]},{name:y$,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+qx,a=t.project,o="(item().isVoronoi ? datum.datum : datum)",s=$r(e.component.selection??{}).reduce((c,f)=>f.type==="interval"?c.concat(f.name+qp):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${s?` && ${s}`:""}`;let u=`unit: ${pd(e)}, `;if(t.project.hasSelectionId)u+=`${ts}: ${o}[${ye(ts)}]`;else if(Us(t))u+=`fields: ${i}, values: [${_w} ? ${_w} : ${xle}]`;else{const c=a.items.map(f=>{const d=e.fieldDef(f.channel);return d!=null&&d.bin?`[${o}[${ye(e.vgField(f.channel,{}))}], ${o}[${ye(e.vgField(f.channel,{binSuffix:"end"}))}]]`:`${o}[${ye(f.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(Us(t))return n.concat(U8e(t.name,e.scaleName(sf)),[{name:r+xu,on:[{events:[{signal:yD},{signal:_w}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+xu,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function _le(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=fo(i.field),i}function Hd(e,t=!0,n=ei){if(ae(e)){const r=e.map(i=>Hd(i,t,n));return t?`[${r.join(", ")}]`:r}else if(yh(e))return n(t?zd(e):Rze(e));return t?n(Ht(e)):e}function H8e(e,t){for(const n of $r(e.component.selection??{})){const r=n.name;let i=`${r}${xu}, ${n.resolve==="global"?"true":`{unit: ${pd(e)}}`}`;for(const a of Rk)a.defined(n)&&(a.signals&&(t=a.signals(e,n,t)),a.modifyExpr&&(i=a.modifyExpr(e,n,i)));t.push({name:r+y9e,on:[{events:{signal:n.name+xu},update:`modify(${ye(n.name+qd)}, ${i})`}]})}return x4(t)}function q8e(e,t){if(e.component.selection&&ue(e.component.selection).length){const n=ye(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:af("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return x4(t)}function G8e(e,t){let n=!1;for(const r of $r(e.component.selection??{})){const i=r.name,a=ye(i+qd);if(t.filter(s=>s.name===i).length===0){const s=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${Fle}(${a}, ${ye(s)}${l}`})}n=!0;for(const s of Rk)s.defined(r)&&s.topLevelSignals&&(t=s.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),x4(t)}function V8e(e,t){const n=[],r=[],i=pd(e,{escape:!1});for(const a of $r(e.component.selection??{})){const o={name:a.name+qd};if(a.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:ts}}]),a.init){const l=a.project.items.map(_le);o.values=a.project.hasSelectionId?a.init.map(u=>({unit:i,[ts]:Hd(u,!1)[0]})):a.init.map(u=>({unit:i,fields:l,values:Hd(u,!1)}))}if([...n,...t].filter(l=>l.name===a.name+qd).length||n.push(o),Us(a)&&t.length){const l=e.lookupDataSource(e.getDataName(vn.Main)),u=t.find(f=>f.name===l),c=u.transform.find(f=>f.type==="filter"&&f.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(d=>d!==c);const f={name:u.name+vle,source:u.name,transform:[c]};r.push(f)}}}return n.concat(t,r)}function wle(e,t){for(const n of $r(e.component.selection??{}))for(const r of Rk)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function X8e(e,t){for(const n of e.children)yn(n)&&(t=wle(n,t));return t}function Y8e(e,t,n,r){const i=Yle(e,t.param,t);return{signal:Qo(n.get("type"))&&ae(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function x4(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const au={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!ml(i))continue;const a=e.getScaleComponent(i),o=a?a.get("type"):void 0;if(o=="sequential"&&fe($4e),!a||!Qo(o)){fe(P4e);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(s=>s.name===o.signals.data).length===0);if(!e.parent||xD(e)||r.length===0)return n;const i=n.find(o=>o.name===t.name);let a=i.update;if(a.includes(Fle))i.update=`{${r.map(o=>`${ye(fo(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const s=`${ye(fo(o.field))}: ${o.signals.data}`;a.includes(s)||(a=`${a.substring(0,a.length-1)}, ${s}}`)}i.update=a}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!xD(e))for(const r of t.scales){const i=n.find(a=>a.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function vD(e,t){return`domain(${ye(e.scaleName(t))})`}function xD(e){return e.parent&&Rg(e.parent)&&(!e.parent.parent||xD(e.parent.parent))}const qp="_brush",Sle="_scale_trigger",Gy="geo_interval_init_tick",Ele="_init",K8e="_center",Z8e={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Se(n.select)?n.select:{}};i.fields=[ts],i.encodings||(i.encodings=n.value?ue(n.value):[us,ls]),n.select={type:"interval",...i}}if(t.translate&&!au.defined(t)){const i=`!event.item || event.item.mark.name !== ${ye(t.name+qp)}`;for(const a of t.events){if(!a.between){fe(`${a} is not an ordered event stream for interval selections.`);continue}const o=Ae((r=a.between[0]).filter??(r.filter=[]));o.includes(i)||o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+xu,a=$r(t.project.hasChannel).filter(s=>s.channel===hn||s.channel===mr),o=t.init?t.init[0]:null;if(n.push(...a.reduce((s,l)=>s.concat(Q8e(e,t,l,o&&o[l.index])),[])),e.hasProjection){const s=ye(e.projectionName()),l=e.projectionName()+K8e,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,d=c&&c.signals.visual,p=u?o&&o[u.index]:`${l}[0]`,m=c?o&&o[c.index]:`${l}[1]`,g=E=>e.getSizeSignalRef(E).signal,x=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;o&&(n.unshift({name:r+Ele,init:`[scale(${s}, [${u?p[0]:p}, ${c?m[0]:m}]), scale(${s}, [${u?p[1]:p}, ${c?m[1]:m}])]`}),(!u||!c)&&(n.find(A=>A.name===l)||n.unshift({name:l,update:`invert(${s}, [${g("width")}/2, ${g("height")}/2])`})));const v=`intersect(${x}, {markname: ${ye(e.getName("marks"))}}, unit.mark)`,b=`{unit: ${pd(e)}}`,_=`vlSelectionTuples(${v}, ${b})`,k=a.map(E=>E.signals.visual);return n.concat({name:i,on:[{events:[...k.length?[{signal:k.join(" || ")}]:[],...o?[{signal:Gy}]:[]],update:_}]})}else{if(!au.defined(t)){const u=r+Sle,c=a.map(f=>{const d=f.channel,{data:p,visual:m}=f.signals,g=ye(e.scaleName(d)),x=e.getScaleComponent(d).get("type"),v=Qo(x)?"+":"";return`(!isArray(${p}) || (${v}invert(${g}, ${m})[0] === ${v}${p}[0] && ${v}invert(${g}, ${m})[1] === ${v}${p}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:a.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const s=a.map(u=>u.signals.data),l=`unit: ${pd(e)}, fields: ${r+qx}, values`;return n.concat({name:i,...o?{init:`{${l}: ${Hd(o)}}`}:{},...s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${l}: [${s}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(yn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Gy).length||n.unshift({name:Gy,value:null,on:[{events:"timer{1}",update:`${Gy} === null ? {} : ${Gy}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,s=a==null?void 0:a.signals.visual,l=`data(${ye(t.name+qd)})`;if(au.defined(t)||!i&&!a)return n;const u={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:a!==void 0?{signal:`${s}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${s}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const x of ue(u))u[x]=[{test:`${l}.length && ${l}[0].unit === ${pd(e)}`,...u[x]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...p}=t.mark,m=ue(p).reduce((x,v)=>(x[v]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,a!==void 0&&`${s}[0] !== ${s}[1]`].filter(b=>b).join(" && "),value:p[v]},{value:null}],x),{}),g=d??(t.translate?"move":null);return[{name:`${r+qp}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+qp,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...m}}}]}};function Q8e(e,t,n,r){const i=!e.hasProjection,a=n.channel,o=n.signals.visual,s=ye(i?e.scaleName(a):e.projectionName()),l=d=>`scale(${s}, ${d})`,u=e.getSizeSignalRef(a===hn?"width":"height").signal,c=`${a}(unit)`,f=t.events.reduce((d,p)=>[...d,{events:p.between[0],update:`[${c}, ${c}]`},{events:p,update:`[${o}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,p=au.defined(t),m=e.getScaleComponent(a),g=m?m.get("type"):void 0,x=r?{init:Hd(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+Sle},update:Qo(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),p?[{name:d,on:[]}]:[{name:o,...x,on:f},{name:d,...r?{init:Hd(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${s}, ${o})`}]}]}else{const d=a===hn?0:1,p=t.name+Ele,m=r?{init:`[${p}[0][${d}], ${p}[1][${d}]]`}:{value:[]};return[{name:o,...m,on:f}]}}function jg({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const a=Bx(t)&&t.condition;let o=[];a&&(o=Ae(a).map(u=>{const c=i(u);if(RBe(u)){const{param:f,empty:d}=u;return{test:Xle(e,{param:f,empty:d}),...c}}else return{test:$S(e,u.test),...c}})),r!==void 0&&o.push(r);const s=i(t);return s!==void 0&&o.push(s),o.length>1||o.length===1&&o[0].test?{[n]:o}:o.length===1?{[n]:o[0]}:{}}function b4(e,t="text"){const n=e.encoding[t];return jg({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>Fk(r,e.config),invalidValueRef:void 0})}function Fk(e,t,n="datum"){if(e){if(Jo(e))return an(e.value);if(Ye(e)){const{format:r,formatType:i}=SS(e);return e4({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Ale(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,o=n.tooltip;if(ae(o))return{tooltip:cH({tooltip:o},a,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return jg({model:e,channelDef:o,vgChannel:"tooltip",mainRefFn:u=>{const c=Fk(u,i,s);if(c)return c;if(u===null)return;let f=Ut("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),Ee(f))return{value:f};if(Se(f))return Ne(f)?f:f.content==="encoding"?cH(n,a,i,t):{signal:s}},invalidValueRef:void 0})}}function kle(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},a=new Set,o=r?"datum.datum":"datum",s=[];function l(c,f){const d=ph(f),p=Ai(c)?c:{...c,type:e[d].type},m=p.title||i4(p,i),g=Ae(m).join(", ").replaceAll(/"/g,'\\"');let x;if(Nn(f)){const v=f==="x"?"x2":"y2",b=es(e[v]);if(br(p.bin)&&b){const _=_e(p,{expr:o}),k=_e(b,{expr:o}),{format:E,formatType:A}=SS(p);x=Rx(_,k,E,A,i),a.add(v)}}if((Nn(f)||f===yo||f===ss)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:v,formatType:b}=SS(p);x=e4({fieldOrDatumDef:p,format:v,formatType:b,expr:o,config:i,normalizeStack:!0}).signal}x??(x=Fk(p,i,o).signal),s.push({channel:f,key:g,value:x})}o4(e,(c,f)=>{de(c)?l(c,f):Ok(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of s)!a.has(c)&&!u[f]&&(u[f]=d);return u}function cH(e,t,n,{reactiveGeom:r}={}){const i=kle(e,t,n,{reactiveGeom:r}),a=Wc(i).map(([o,s])=>`"${o}": ${s}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function J8e(e){const{markDef:t,config:n}=e,r=Ut("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...e9e(e),...t9e(e)}}function e9e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Ut("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:ke(w4e,t)?{}:{ariaRoleDescription:{value:t}}}function t9e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return jg({model:e,channelDef:a,vgChannel:"description",mainRefFn:l=>Fk(l,e.config),invalidValueRef:void 0});const o=Ut("description",n,r);if(o!=null)return{description:an(o)};if(r.aria===!1)return{};const s=kle(t,i,r);if(!Wt(s))return{description:{signal:Wc(s).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Sr(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:o}=n;let{defaultRef:s,defaultValue:l}=n;const u=i[e];s===void 0&&(l??(l=Ut(e,r,a,{vgChannel:o,ignoreVgConfig:!Bx(u)})),l!==void 0&&(s=an(l)));const c={markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=hse({...c,scaleChannel:e,channelDef:u});return jg({model:t,channelDef:u,vgChannel:o??e,invalidValueRef:f,mainRefFn:p=>J5({...c,channel:e,channelDef:p,stack:null,defaultRef:s})})}function Cle(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:a}=n,o=t.filled??Ut("filled",n,i),s=lt(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,l=Ut(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??s,u=Ut(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",f={...l?{fill:an(l)}:{},...u?{stroke:an(u)}:{}};return n.color&&(o?n.fill:n.stroke)&&fe(Foe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Sr("color",e,{vgChannel:c,defaultValue:o?l:u}),...Sr("fill",e,{defaultValue:r.fill?l:void 0}),...Sr("stroke",e,{defaultValue:r.stroke?u:void 0})}}function n9e(e){const{encoding:t,mark:n}=e,r=t.order;return!hf(n)&&Jo(r)?jg({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>an(i.value),invalidValueRef:void 0}):{}}function Im({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,o=t[a],s=n[a];if((a==="xOffset"||a==="yOffset")&&s)return{offsetType:"encoding",offset:J5({channel:a,channelDef:s,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:an(o),bandPosition:i})};const l=t[a];return l?{offsetType:"visual",offset:l}:{}}function yi(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:o,stack:s}=t,l=i[e],u=i[pl(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:p}=Im({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),m=_4({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&Nn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:r9e({channel:e,channelDef:l,channel2Def:u,markDef:a,config:o,scaleName:c,scale:f,stack:s,offset:d,defaultRef:m,bandPosition:p==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function r9e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:o}=e;if(Ye(n)&&i&&t===i.fieldChannel){if(de(n)){let s=n.bandPosition;if(s===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(s=.5),s!==void 0)return bS({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:s,offset:a})}return dd(n,r,{suffix:"end"},{offset:a})}return Q5(e)}function _4({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:o}=e;return()=>{const s=ph(n),l=Hc(n),u=Ut(n,a,o,{vgChannel:l});if(u!==void 0)return iv(n,u);switch(t){case"zeroOrMin":return fH({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:s,config:o});case"zeroOrMax":return fH({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:s,config:o});case"mid":return{...e[ea(n)],mult:.5}}}}function fH({mainChannel:e,config:t,...n}){const r=dse(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:a,heightSignal:o}=i.zeroOrMax;return{signal:`min(${a},${o})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const i9e={left:"x",center:"xc",right:"x2"},a9e={top:"y",middle:"yc",bottom:"y2"};function Ole(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Hc(e);const i=e==="x"?"align":"baseline",a=Ut(i,t,n);let o;return Ne(a)?(fe(rze(i)),o=void 0):o=a,e==="x"?i9e[o||(r==="top"?"left":"center")]:a9e[o||r]}function CS(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Ple(e,t,{defaultPos:n,defaultPos2:r}):yi(e,t,{defaultPos:n})}function Ple(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,o=pl(e),s=ea(e),l=o9e(t,r,o),u=l[s]?Ole(e,i,a):Hc(e);return{...yi(e,t,{defaultPos:n,vgChannel:u}),...l}}function o9e(e,t,n){const{encoding:r,mark:i,markDef:a,stack:o,config:s}=e,l=ph(n),u=ea(n),c=Hc(n),f=r[l],d=e.scaleName(l),p=e.getScaleComponent(l),{offset:m}=n in r||n in a?Im({channel:n,markDef:a,encoding:r,model:e}):Im({channel:l,markDef:a,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const x=ea(n),v=e.markDef[x];return v!=null?{[x]:{value:v}}:{[c]:{field:e.getName(n)}}}const g=s9e({channel:n,channelDef:f,channel2Def:r[n],markDef:a,config:s,scaleName:d,scale:p,stack:o,offset:m,defaultRef:void 0});return g!==void 0?{[c]:g}:m_(n,a)||m_(n,{[n]:oD(n,a,s.style),[u]:oD(u,a,s.style)})||m_(n,s[i])||m_(n,s.mark)||{[c]:_4({model:e,defaultPos:t,channel:n,scaleName:d,scale:p})()}}function s9e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:u}){return Ye(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0)?dd(t,a,{suffix:"start"},{offset:l}):Q5({channel:e,channelDef:n,scaleName:a,scale:o,stack:s,markDef:r,config:i,offset:l,defaultRef:u})}function m_(e,t){const n=ea(e),r=Hc(e);if(t[r]!==void 0)return{[r]:iv(e,t[r])};if(t[e]!==void 0)return{[r]:iv(e,t[e])};if(t[n]){const i=t[n];if(Ud(i))fe(Z4e(n));else return{[n]:iv(e,i)}}}function vu(e,t){const{config:n,encoding:r,markDef:i}=e,a=i.type,o=pl(t),s=ea(t),l=r[t],u=r[o],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,p=r[s]??r.size??Ut("size",i,n,{vgChannel:s}),m=woe(t),g=a==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||a==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return de(l)&&(Jt(l.bin)||br(l.bin)||l.timeUnit&&!u)&&!(p&&!Ud(p))&&!r[m]&&!hr(f)?c9e({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Ye(l)&&hr(f)||g)&&!u?u9e(l,t,e):Ple(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function l9e(e,t,n,r,i,a,o){if(Ud(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=tl("minBandSize",{type:o},r);return{signal:c?`max(${Bo(c)}, ${u})`:u}}else i.band!==1&&(fe(sze(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Ne(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(gh(l)&&St(l.step))return{value:l.step-2}}if(!a){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=Tn(l,o==="tick"?f:o==="bar"?u:c);if(Ne(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(St(d))return{signal:`${1-d} * ${e}`}}return{value:hD(r.view,e)-2}}function u9e(e,t,n){var T,D;const{markDef:r,encoding:i,config:a,stack:o}=n,s=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=ea(t),f=pl(t),d=woe(t),p=n.scaleName(d),m=n.getScaleComponent(A5(t)),g=r.type==="tick"||s==="horizontal"&&t==="y"||s==="vertical"&&t==="x";let x;(i.size||r.size)&&(g?x=Sr("size",n,{vgChannel:c,defaultRef:an(r.size)}):fe(fze(r.type)));const v=!!x,b=bse({channel:t,fieldDef:e,markDef:r,config:a,scaleType:(T=u||m)==null?void 0:T.get("type"),useVlSizeChannel:g});x=x||{[c]:l9e(c,p||l,m||u,a,b,!!e,r.type)};const _=((D=u||m)==null?void 0:D.get("type"))==="band"&&Ud(b)&&!v?"top":"middle",k=Ole(t,r,a,_),E=k==="xc"||k==="yc",{offset:A,offsetType:C}=Im({channel:t,markDef:r,encoding:i,model:n,bandPosition:E?.5:0}),P=Q5({channel:t,channelDef:e,markDef:r,config:a,scaleName:l,scale:u,stack:o,offset:A,defaultRef:_4({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:E?C==="encoding"?0:.5:Ne(b)?{signal:`(1-${b})/2`}:Ud(b)?(1-b.band)/2:0});if(c)return{[k]:P,...x};{const j=Hc(f),I=x[c],W=A?{...I,offset:A}:I;return{[k]:P,[j]:ae(P)?[P[0],{...P[1],offset:W}]:{...P,offset:W}}}}function dH(e,t,n,r,i,a,o){if(goe(e))return 0;const s=e==="x"||e==="y2",l=s?-t/2:t/2;if(Ne(n)||Ne(i)||Ne(r)||a){const u=Bo(n),c=Bo(i),f=Bo(r),d=Bo(a),m=a?`(${o} < ${d} ? ${s?"":"-"}0.5 * (${d} - (${o})) : ${l})`:l,g=f?`${f} + `:"",x=u?`(${u} ? -1 : 1) * `:"",v=c?`(${c} + ${m})`:m;return{signal:g+x+v}}else return i=i||0,r+(n?-i-l:+i+l)}function c9e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var D;const{config:i,markDef:a,encoding:o}=r,s=r.getScaleComponent(n),l=r.scaleName(n),u=s?s.get("type"):void 0,c=s.get("reverse"),f=bse({channel:n,fieldDef:e,markDef:a,config:i,scaleType:u}),d=(D=r.component.axes[n])==null?void 0:D[0],p=(d==null?void 0:d.get("translate"))??.5,m=Nn(n)?Ut("binSpacing",a,i)??0:0,g=pl(n),x=Hc(n),v=Hc(g),b=tl("minBandSize",a,i),{offset:_}=Im({channel:n,markDef:a,encoding:o,model:r,bandPosition:0}),{offset:k}=Im({channel:g,markDef:a,encoding:o,model:r,bandPosition:0}),E=MBe({fieldDef:e,scaleName:l}),A=dH(n,m,c,p,_,b,E),C=dH(g,m,c,p,k??_,b,E),P=Ne(f)?{signal:`(1-${f.signal})/2`}:Ud(f)?(1-f.band)/2:.5,T=qc({fieldDef:e,fieldDef2:t,markDef:a,config:i});if(Jt(e.bin)||e.timeUnit){const j=e.timeUnit&&T!==.5;return{[v]:hH({fieldDef:e,scaleName:l,bandPosition:P,offset:C,useRectOffsetField:j}),[x]:hH({fieldDef:e,scaleName:l,bandPosition:Ne(P)?{signal:`1-${P.signal}`}:1-P,offset:A,useRectOffsetField:j})}}else if(br(e.bin)){const j=dd(e,l,{},{offset:C});if(de(t))return{[v]:j,[x]:dd(t,l,{},{offset:A})};if(mh(e.bin)&&e.bin.step)return{[v]:j,[x]:{signal:`scale("${l}", ${_e(e,{expr:"datum"})} + ${e.bin.step})`,offset:A}}}fe(Boe(g))}function hH({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return bS({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:Ik,endSuffix:Lk}:{}})}const f9e=new Set(["aria","width","height"]);function vo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Cle(e):{};return{...d9e(e.markDef,t),...pH("fill",n),...pH("stroke",r),...Sr("opacity",e),...Sr("fillOpacity",e),...Sr("strokeOpacity",e),...Sr("strokeWidth",e),...Sr("strokeDash",e),...n9e(e),...Ale(e),...b4(e,"href"),...J8e(e)}}function pH(e,t){return t?{[e]:t}:{}}function d9e(e,t){return _4e.reduce((n,r)=>(!f9e.has(r)&&ce(e,r)&&t[r]!=="ignore"&&(n[r]=an(e[r])),n),{})}function w4(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,a)=>{var u;let o;if(!ml(a)||!(o=e.getScaleType(a)))return;const s=yk(i.aggregate),l=Z5({scaleChannel:a,markDef:n,config:t,scaleType:o,isCountAggregate:s});if($Be(l)){const c=e.vgField(a,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(a=>_k(a,!0)).join(" && ")}}}function mH(e,t){if(t!==void 0)return{[e]:an(t)}}const v$="voronoi",$le={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(v$)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if(hf(a))return fe(C4e(a)),n;const o={name:e.getName(v$),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Ale(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?s=c:f.includes(v$)&&(l=!0)}),l||n.splice(s+1,0,o),n}},Tle={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!d4(e.bind),parse:(e,t,n)=>Rle(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],s=$le.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=fn(`${r}_${l.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...o?{init:Hd(o[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${ye(l.field)}] : null`}]:[],bind:a[l.field]??a[l.channel]??a})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(u=>u.name===r+xu),o=r+qx,s=i.items.map(u=>fn(`${r}_${u.field}`)),l=s.map(u=>`${u} !== null`).join(" && ");return s.length&&(a.update=`${l} ? {fields: ${o}, values: [${s.join(", ")}]} : null`),delete a.value,delete a.on,n}},OS="_toggle",Nle={defined:e=>e.type==="point"&&!Us(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+OS,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+xu,r=t.name+OS;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${pd(e)}}, `)+`${r} ? ${n} : null`}},h9e={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Us(e),parse:(e,t)=>{t.clear&&(t.clear=Ee(t.clear)?af(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Tle.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===fn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(o=>o.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const o=n.findIndex(s=>s.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(a=>a.name===t.name+xu);r(i,"null"),Nle.defined(t)&&(i=n.findIndex(a=>a.name===t.name+OS),r(i,"false"))}return n}},Mle={defined:e=>{const t=e.resolve==="global"&&e.bind&&d4(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==ts;return t&&!n&&fe(T4e),t&&n},parse:(e,t,n)=>{const r=Ge(n);if(r.select=Ee(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Rle(t,r),Se(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const s of t.events)s.filter=Ae(s.filter??[]),s.filter.includes(o)||s.filter.push(o)}const i=d$(t.bind)?t.bind.legend:"click",a=Ee(i)?af(i,"view"):Ae(i);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=d$(t.bind)&&t.bind.legend,a=o=>s=>{const l=Ge(s);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const s=`${fn(o.field)}_legend`,l=`${r}_${s}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(a(`${s}_symbols`)).concat(i.merge.map(a(`${s}_labels`))).concat(i.merge.map(a(`${s}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(d=>d.name===r+xu),o=r+qx,s=i.items.filter(d=>d.hasLegend).map(d=>fn(`${r}_${fn(d.field)}_legend`)),u=`${s.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${o}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?a.on.push({events:s.map(d=>({signal:d})),update:u}):s.length>0&&(a.update=u,delete a.value,delete a.on);const c=n.find(d=>d.name===r+OS),f=d$(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function p9e(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const a of $r(e.component.selection??{})){const o=a.project.hasField[r]??a.project.hasChannel[t];if(o&&Mle.defined(a)){const s=n.get("selections")??[];s.push(a.name),n.set("selections",s,!1),o.hasLegend=!0}}}const Dle="_translate_anchor",jle="_translate_delta",m9e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=au.defined(t),a=r+Dle,{x:o,y:s}=t.project.hasChannel;let l=af(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+qp,u))),n.push({name:a,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?vD(e,hn):`slice(${o.signals.visual})`}`:"")+(s!==void 0?`, extent_y: ${i?vD(e,mr):`slice(${s.signals.visual})`}`:"")+"}"}]},{name:r+jle,value:{},on:[{events:l,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),o!==void 0&&gH(e,t,o,"width",n),s!==void 0&&gH(e,t,s,"height",n),n}};function gH(e,t,n,r,i){const a=t.name,o=a+Dle,s=a+jle,l=n.channel,u=au.defined(t),c=i.find(E=>E.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),p=d&&d.get("type"),m=d&&d.get("reverse"),g=u?l===hn?m?"":"-":m?"-":"":"",x=`${o}.extent_${l}`,v=`${g}${s}.${l} / ${u?`${f}`:`span(${x})`}`,b=!u||!d?"panLinear":p==="log"?"panLog":p==="symlog"?"panSymlog":p==="pow"?"panPow":"panLinear",_=u?p==="pow"?`, ${d.get("exponent")??1}`:p==="symlog"?`, ${d.get("constant")??1}`:"":"",k=`${b}(${x}, ${v}${_})`;c.on.push({events:{signal:s},update:u?k:`clampRange(${k}, 0, ${f})`})}const Ile="_zoom_anchor",Lle="_zoom_delta",g9e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=au.defined(t),a=r+Lle,{x:o,y:s}=t.project.hasChannel,l=ye(e.scaleName(hn)),u=ye(e.scaleName(mr));let c=af(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+qp,f))),n.push({name:r+Ile,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&yH(e,t,o,"width",n),s!==void 0&&yH(e,t,s,"height",n),n}};function yH(e,t,n,r,i){const a=t.name,o=n.channel,s=au.defined(t),l=i.find(b=>b.name===n.signals[s?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),f=c&&c.get("type"),d=s?vD(e,o):l.name,p=a+Lle,m=`${a}${Ile}.${o}`,g=!s||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",x=s?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",v=`${g}(${d}, ${m}, ${p}${x})`;l.on.push({events:{signal:p},update:s?v:`clampRange(${v}, 0, ${u})`})}const qd="_store",xu="_tuple",y9e="_modify",Fle="vlSelectionResolve",Rk=[W8e,Z8e,z8e,Nle,Tle,au,Mle,h9e,m9e,g9e,$le];function v9e(e){let t=e.parent;for(;t&&!Sa(t);)t=t.parent;return t}function pd(e,{escape:t}={escape:!0}){let n=t?ye(e.name):e.name;const r=v9e(e);if(r){const{facet:i}=r;for(const a of Ja)i[a]&&(n+=` + '__facet_${a}_' + (facet[${ye(r.vgField(a))}])`)}return n}function S4(e){return $r(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function Rle(e,t){(Ee(t.select)||!t.select.on)&&delete e.events,(Ee(t.select)||!t.select.clear)&&delete e.clear,(Ee(t.select)||!t.select.toggle)&&delete e.toggle}function Us(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const x9e="RawCode",b9e="Literal",_9e="Property",w9e="Identifier",S9e="ArrayExpression",E9e="BinaryExpression",A9e="CallExpression",k9e="ConditionalExpression",C9e="LogicalExpression",O9e="MemberExpression",P9e="ObjectExpression",$9e="UnaryExpression";function fs(e){this.type=e}fs.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=T9e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function T9e(e){switch(e.type){case S9e:return e.elements;case E9e:case C9e:return[e.left,e.right];case A9e:return[e.callee].concat(e.arguments);case k9e:return[e.test,e.consequent,e.alternate];case O9e:return[e.object,e.property];case P9e:return e.properties;case _9e:return[e.key,e.value];case $9e:return[e.argument];case w9e:case b9e:case x9e:default:return[]}}var yl,Te,ne,Zr,It,zk=1,Gx=2,Gd=3,pf=4,Bk=5,bh=6,Ii=7,Vx=8,N9e=9;yl={};yl[zk]="Boolean";yl[Gx]="<end>";yl[Gd]="Identifier";yl[pf]="Keyword";yl[Bk]="Null";yl[bh]="Numeric";yl[Ii]="Punctuator";yl[Vx]="String";yl[N9e]="RegularExpression";var M9e="ArrayExpression",D9e="BinaryExpression",j9e="CallExpression",I9e="ConditionalExpression",zle="Identifier",L9e="Literal",F9e="LogicalExpression",R9e="MemberExpression",z9e="ObjectExpression",B9e="Property",U9e="UnaryExpression",cr="Unexpected token %0",W9e="Unexpected number",H9e="Unexpected string",q9e="Unexpected identifier",G9e="Unexpected reserved word",V9e="Unexpected end of input",bD="Invalid regular expression",x$="Invalid regular expression: missing /",Ble="Octal literals are not allowed in strict mode.",X9e="Duplicate data property in object literal not allowed in strict mode",Cr="ILLEGAL",s1="Disabled.",Y9e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),K9e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Uk(e,t){if(!e)throw new Error("ASSERT: "+t)}function Fl(e){return e>=48&&e<=57}function E4(e){return"0123456789abcdefABCDEF".includes(e)}function av(e){return"01234567".includes(e)}function Z9e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function l1(e){return e===10||e===13||e===8232||e===8233}function Xx(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&Y9e.test(String.fromCharCode(e))}function PS(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&K9e.test(String.fromCharCode(e))}const Q9e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Ule(){for(;ne<Zr;){const e=Te.charCodeAt(ne);if(Z9e(e)||l1(e))++ne;else break}}function _D(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ne<Zr&&E4(Te[ne])?(r=Te[ne++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):wt({},cr,Cr);return String.fromCharCode(i)}function J9e(){var e,t,n,r;for(e=Te[ne],t=0,e==="}"&&wt({},cr,Cr);ne<Zr&&(e=Te[ne++],!!E4(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&wt({},cr,Cr),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Wle(){var e,t;for(e=Te.charCodeAt(ne++),t=String.fromCharCode(e),e===92&&(Te.charCodeAt(ne)!==117&&wt({},cr,Cr),++ne,e=_D("u"),(!e||e==="\\"||!Xx(e.charCodeAt(0)))&&wt({},cr,Cr),t=e);ne<Zr&&(e=Te.charCodeAt(ne),!!PS(e));)++ne,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Te.charCodeAt(ne)!==117&&wt({},cr,Cr),++ne,e=_D("u"),(!e||e==="\\"||!PS(e.charCodeAt(0)))&&wt({},cr,Cr),t+=e);return t}function e7e(){var e,t;for(e=ne++;ne<Zr;){if(t=Te.charCodeAt(ne),t===92)return ne=e,Wle();if(PS(t))++ne;else break}return Te.slice(e,ne)}function t7e(){var e,t,n;return e=ne,t=Te.charCodeAt(ne)===92?Wle():e7e(),t.length===1?n=Gd:Q9e.hasOwnProperty(t)?n=pf:t==="null"?n=Bk:t==="true"||t==="false"?n=zk:n=Gd,{type:n,value:t,start:e,end:ne}}function b$(){var e=ne,t=Te.charCodeAt(ne),n,r=Te[ne],i,a,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ne,{type:Ii,value:String.fromCharCode(t),start:e,end:ne};default:if(n=Te.charCodeAt(ne+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ne+=2,{type:Ii,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ne};case 33:case 61:return ne+=2,Te.charCodeAt(ne)===61&&++ne,{type:Ii,value:Te.slice(e,ne),start:e,end:ne}}}if(o=Te.substr(ne,4),o===">>>=")return ne+=4,{type:Ii,value:o,start:e,end:ne};if(a=o.substr(0,3),a===">>>"||a==="<<="||a===">>=")return ne+=3,{type:Ii,value:a,start:e,end:ne};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ne+=2,{type:Ii,value:i,start:e,end:ne};if(i==="//"&&wt({},cr,Cr),"<>=!+-*%&|^/".includes(r))return++ne,{type:Ii,value:r,start:e,end:ne};wt({},cr,Cr)}function n7e(e){let t="";for(;ne<Zr&&E4(Te[ne]);)t+=Te[ne++];return t.length===0&&wt({},cr,Cr),Xx(Te.charCodeAt(ne))&&wt({},cr,Cr),{type:bh,value:parseInt("0x"+t,16),start:e,end:ne}}function r7e(e){let t="0"+Te[ne++];for(;ne<Zr&&av(Te[ne]);)t+=Te[ne++];return(Xx(Te.charCodeAt(ne))||Fl(Te.charCodeAt(ne)))&&wt({},cr,Cr),{type:bh,value:parseInt(t,8),octal:!0,start:e,end:ne}}function vH(){var e,t,n;if(n=Te[ne],Uk(Fl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ne,e="",n!=="."){if(e=Te[ne++],n=Te[ne],e==="0"){if(n==="x"||n==="X")return++ne,n7e(t);if(av(n))return r7e(t);n&&Fl(n.charCodeAt(0))&&wt({},cr,Cr)}for(;Fl(Te.charCodeAt(ne));)e+=Te[ne++];n=Te[ne]}if(n==="."){for(e+=Te[ne++];Fl(Te.charCodeAt(ne));)e+=Te[ne++];n=Te[ne]}if(n==="e"||n==="E")if(e+=Te[ne++],n=Te[ne],(n==="+"||n==="-")&&(e+=Te[ne++]),Fl(Te.charCodeAt(ne)))for(;Fl(Te.charCodeAt(ne));)e+=Te[ne++];else wt({},cr,Cr);return Xx(Te.charCodeAt(ne))&&wt({},cr,Cr),{type:bh,value:parseFloat(e),start:t,end:ne}}function i7e(){var e="",t,n,r,i,a=!1;for(t=Te[ne],Uk(t==="'"||t==='"',"String literal must starts with a quote"),n=ne,++ne;ne<Zr;)if(r=Te[ne++],r===t){t="";break}else if(r==="\\")if(r=Te[ne++],!r||!l1(r.charCodeAt(0)))switch(r){case"u":case"x":Te[ne]==="{"?(++ne,e+=J9e()):e+=_D(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:av(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),ne<Zr&&av(Te[ne])&&(a=!0,i=i*8+"01234567".indexOf(Te[ne++]),"0123".includes(r)&&ne<Zr&&av(Te[ne])&&(i=i*8+"01234567".indexOf(Te[ne++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Te[ne]===`
`&&++ne;else{if(l1(r.charCodeAt(0)))break;e+=r}return t!==""&&wt({},cr,Cr),{type:Vx,value:e,octal:a,start:n,end:ne}}function a7e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";wt({},bD)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{wt({},bD)}try{return new RegExp(e,t)}catch{return null}}function o7e(){var e,t,n,r,i;for(e=Te[ne],Uk(e==="/","Regular expression literal must start with a slash"),t=Te[ne++],n=!1,r=!1;ne<Zr;)if(e=Te[ne++],t+=e,e==="\\")e=Te[ne++],l1(e.charCodeAt(0))&&wt({},x$),t+=e;else if(l1(e.charCodeAt(0)))wt({},x$);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||wt({},x$),i=t.substr(1,t.length-2),{value:i,literal:t}}function s7e(){var e,t,n;for(t="",n="";ne<Zr&&(e=Te[ne],!!PS(e.charCodeAt(0)));)++ne,e==="\\"&&ne<Zr?wt({},cr,Cr):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&wt({},bD,n),{value:n,literal:t}}function l7e(){var e,t,n,r;return It=null,Ule(),e=ne,t=o7e(),n=s7e(),r=a7e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ne}}function u7e(e){return e.type===Gd||e.type===pf||e.type===zk||e.type===Bk}function Hle(){if(Ule(),ne>=Zr)return{type:Gx,start:ne,end:ne};const e=Te.charCodeAt(ne);return Xx(e)?t7e():e===40||e===41||e===59?b$():e===39||e===34?i7e():e===46?Fl(Te.charCodeAt(ne+1))?vH():b$():Fl(e)?vH():b$()}function zi(){const e=It;return ne=e.end,It=Hle(),ne=e.end,e}function qle(){const e=ne;It=Hle(),ne=e}function c7e(e){const t=new fs(M9e);return t.elements=e,t}function xH(e,t,n){const r=new fs(e==="||"||e==="&&"?F9e:D9e);return r.operator=e,r.left=t,r.right=n,r}function f7e(e,t){const n=new fs(j9e);return n.callee=e,n.arguments=t,n}function d7e(e,t,n){const r=new fs(I9e);return r.test=e,r.consequent=t,r.alternate=n,r}function A4(e){const t=new fs(zle);return t.name=e,t}function O0(e){const t=new fs(L9e);return t.value=e.value,t.raw=Te.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function bH(e,t,n){const r=new fs(R9e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function h7e(e){const t=new fs(z9e);return t.properties=e,t}function _H(e,t,n){const r=new fs(B9e);return r.key=t,r.value=n,r.kind=e,r}function p7e(e,t){const n=new fs(U9e);return n.operator=e,n.argument=t,n.prefix=!0,n}function wt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,o)=>(Uk(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=ne,n.description=i,n}function Wk(e){e.type===Gx&&wt(e,V9e),e.type===bh&&wt(e,W9e),e.type===Vx&&wt(e,H9e),e.type===Gd&&wt(e,q9e),e.type===pf&&wt(e,G9e),wt(e,cr,e.value)}function Qr(e){const t=zi();(t.type!==Ii||t.value!==e)&&Wk(t)}function on(e){return It.type===Ii&&It.value===e}function _$(e){return It.type===pf&&It.value===e}function m7e(){const e=[];for(ne=It.start,Qr("[");!on("]");)on(",")?(zi(),e.push(null)):(e.push(Vd()),on("]")||Qr(","));return zi(),c7e(e)}function wH(){ne=It.start;const e=zi();return e.type===Vx||e.type===bh?(e.octal&&wt(e,Ble),O0(e)):A4(e.value)}function g7e(){var e,t,n,r;if(ne=It.start,e=It,e.type===Gd)return n=wH(),Qr(":"),r=Vd(),_H("init",n,r);if(e.type===Gx||e.type===Ii)Wk(e);else return t=wH(),Qr(":"),r=Vd(),_H("init",t,r)}function y7e(){var e=[],t,n,r,i={},a=String;for(ne=It.start,Qr("{");!on("}");)t=g7e(),t.key.type===zle?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?wt({},X9e):i[r]=!0,e.push(t),on("}")||Qr(",");return Qr("}"),h7e(e)}function v7e(){Qr("(");const e=k4();return Qr(")"),e}const x7e={if:1};function b7e(){var e,t,n;if(on("("))return v7e();if(on("["))return m7e();if(on("{"))return y7e();if(e=It.type,ne=It.start,e===Gd||x7e[It.value])n=A4(zi().value);else if(e===Vx||e===bh)It.octal&&wt(It,Ble),n=O0(zi());else{if(e===pf)throw new Error(s1);e===zk?(t=zi(),t.value=t.value==="true",n=O0(t)):e===Bk?(t=zi(),t.value=null,n=O0(t)):on("/")||on("/=")?(n=O0(l7e()),qle()):Wk(zi())}return n}function _7e(){const e=[];if(Qr("("),!on(")"))for(;ne<Zr&&(e.push(Vd()),!on(")"));)Qr(",");return Qr(")"),e}function w7e(){ne=It.start;const e=zi();return u7e(e)||Wk(e),A4(e.value)}function S7e(){return Qr("."),w7e()}function E7e(){Qr("[");const e=k4();return Qr("]"),e}function A7e(){var e,t,n;for(e=b7e();;)if(on("."))n=S7e(),e=bH(".",e,n);else if(on("("))t=_7e(),e=f7e(e,t);else if(on("["))n=E7e(),e=bH("[",e,n);else break;return e}function SH(){const e=A7e();if(It.type===Ii&&(on("++")||on("--")))throw new Error(s1);return e}function ww(){var e,t;if(It.type!==Ii&&It.type!==pf)t=SH();else{if(on("++")||on("--"))throw new Error(s1);if(on("+")||on("-")||on("~")||on("!"))e=zi(),t=ww(),t=p7e(e.value,t);else{if(_$("delete")||_$("void")||_$("typeof"))throw new Error(s1);t=SH()}}return t}function EH(e){let t=0;if(e.type!==Ii&&e.type!==pf)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function k7e(){var e,t,n,r,i,a,o,s,l,u;if(e=It,l=ww(),r=It,i=EH(r),i===0)return l;for(r.prec=i,zi(),t=[e,It],o=ww(),a=[l,r,o];(i=EH(It))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=xH(s,l,o),a.push(n);r=zi(),r.prec=i,a.push(r),t.push(It),n=ww(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=xH(a[u-1].value,a[u-2],n),u-=2;return n}function Vd(){var e,t,n;return e=k7e(),on("?")&&(zi(),t=Vd(),Qr(":"),n=Vd(),e=d7e(e,t,n)),e}function k4(){const e=Vd();if(on(","))throw new Error(s1);return e}function C7e(e){Te=e,ne=0,Zr=Te.length,It=null,qle();const t=k4();if(It.type!==Gx)throw new Error("Unexpect token after expression.");return t}function wD(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...wD(e.object)),t.push(...wD(e.property))),t)}function Gle(e){return e.object.type==="MemberExpression"?Gle(e.object):e.object.name==="datum"}function Vle(e){const t=C7e(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&Gle(r)&&n.add(wD(r).slice(1).join("."))}),n}class Ig extends Ft{clone(){return new Ig(null,this.model,Ge(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=$S(this.model,this.filter,this),this._dependentFields=Vle(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function O7e(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const a of t){const o=fn(a.name),s=a.select,l=Ee(s)?s:s.type,u=Se(s)?Ge(s):{type:l},c=r[l];for(const p in c)p==="fields"||p==="encodings"||(p==="mark"&&(u.mark={...c.mark,...u.mark}),(u[p]===void 0||u[p]===!0)&&(u[p]=Ge(c[p]??u[p])));const f=n[o]={...u,name:o,type:l,init:a.value,bind:a.bind,events:Ee(u.on)?af(u.on,"scope"):Ae(Ge(u.on))};if(Us(f)&&(i++,i>1)){delete n[o];continue}const d=Ge(a);for(const p of Rk)p.defined(f)&&p.parse&&p.parse(e,f,d)}return i>1&&fe(L4e),n}function Xle(e,t,n,r="datum"){const i=Ee(t)?t:t.param,a=fn(i),o=ye(a+qd);let s;try{s=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(s.project.timeUnit){const d=n??e.component.data.raw,p=s.project.timeUnit.clone();d.parent?p.insertAsParentOf(d):d.parent=p}const l=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=s.resolve==="global"?")":`, ${ye(s.resolve)})`,c=`${l}${o}, ${r}${u}`,f=`length(data(${o}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function Yle(e,t,n){const r=fn(t),i=n.encoding;let a=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=o.project.items[0].field,o.project.items.length>1&&fe(F4e(a));else if(i&&!a){const s=o.project.items.filter(l=>l.channel===i);!s.length||s.length>1?(a=o.project.items[0].field,fe(R4e(s,i,n,a))):a=s[0].field}return`${o.name}[${ye(fo(a))}]`}function P7e(e,t){for(const[n,r]of Wc(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Xi(new Ig(t,e,{param:n}),i,vn.Lookup,e.component.data.outputNodeRefCounts)}}function $S(e,t,n){return rv(t,r=>Ee(r)?r:Xze(r)?Xle(e,r,n):Joe(r))}function $7e(e,t){if(e)return ae(e)&&!Qu(e)?e.map(n=>i4(n,t)).join(", "):e}function w$(e,t,n,r){var i,a;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[n]=r}function P0(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:a,scale:o,labelExpr:s,title:l,zindex:u,...c}=e.combine();if(!i){for(const p in c){const m=p,g=JBe[m],x=c[m];if(g&&g!==t&&g!=="both")delete c[m];else if(Hx(x)){const{condition:v,...b}=x,_=Ae(v),k=qW[m];if(k){const{vgProp:E,part:A}=k,C=[..._.map(P=>{const{test:T,...D}=P;return{test:$S(null,T),...D}}),b];w$(c,A,E,C),delete c[m]}else if(k===null){const E={signal:_.map(A=>{const{test:C,...P}=A;return`${$S(null,C)} ? ${PW(P)} : `}).join("")+PW(b)};c[m]=E}}else if(Ne(x)){const v=qW[m];if(v){const{vgProp:b,part:_}=v;w$(c,_,b,x),delete c[m]}}lt(["labelAlign","labelBaseline"],m)&&c[m]===null&&delete c[m]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:p}=c.encode;c.encode={...p?{grid:p}:{}},Wt(c.encode)&&delete c.encode}return{scale:o,orient:a,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Tn(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(s!==void 0){let m=s;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Ne(c.encode.labels.update.text)&&(m=Ld(s,"datum.label",c.encode.labels.update.text.signal)),w$(c,"labels","text",{signal:m})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const m of $se)e.hasAxisPart(m)||delete c.encode[m];Wt(c.encode)&&delete c.encode}const p=$7e(l,n);return{scale:o,orient:a,grid:!1,...p?{title:p}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Tn(u,0)}}}}function Kle(e){const{axes:t}=e.component,n=[];for(const r of Pu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",o=e.getSizeSignalRef(a).signal;a!==o&&n.push({name:a,update:o})}}return n}function T7e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>P0(i,"grid",t)),...r.map(i=>P0(i,"grid",t)),...n.map(i=>P0(i,"main",t)),...r.map(i=>P0(i,"main",t))].filter(i=>i)}function AH(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},s=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...ue(o),...ue(s)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${a}" ? ${Bo(o[c])} : ${Bo(s[c])}`};return u}return t[i]})])}function N7e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:rse(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",o=Ne(n)?"axisOrient":`axis${Mx(n)}`,s=[...i,...i.map(u=>a+u.substr(4))],l=["axis",o,a];return{vlOnlyAxisConfig:AH(s,r,e,n),vgAxisConfig:AH(l,r,e,n),axisConfigStyle:M7e([...l,...s],r)}}function M7e(e,t){var r;const n=[{}];for(const i of e){let a=(r=t[i])==null?void 0:r.style;if(a){a=Ae(a);for(const o of a)n.push(t.style[o])}}return Object.assign.apply(null,n)}function SD(e,t,n,r={}){var a;const i=Toe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((a=r[o])==null?void 0:a[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const kH={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??D7e(n,e),gridScale:({model:e,channel:t})=>j7e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||Qle(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||Zle(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??L7e(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??F7e(t.type,n,de(t)&&!!t.timeUnit,de(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const a=e==="x"?"width":e==="y"?"height":void 0,o=a?t.getSizeSignalRef(a):void 0;return n.tickCount??z7e({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:B7e,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=Jle(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",o=t.fieldDef(a);return Moe(i?[WW(i)]:[],de(o)?[WW(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>U7e(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??W7e(n,t)};function D7e(e,t){return!hr(e)&&de(t)&&!Jt(t==null?void 0:t.bin)&&!br(t==null?void 0:t.bin)}function j7e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function I7e(e,t,n,r,i){const a=t==null?void 0:t.labelAngle;if(a!==void 0)return Ne(a)?a:i1(a);{const{configValue:o}=SD("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?i1(o):n===hn&&lt([G5,q5],e.type)&&!(de(e)&&e.timeUnit)?270:void 0}}function ED(e){return`(((${e.signal} % 360) + 360) % 360)`}function Zle(e,t,n,r){if(e!==void 0)if(n==="x"){if(Ne(e)){const i=ED(e),a=Ne(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ne(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ne(e)){const i=ED(e),a=Ne(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Ne(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function Qle(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(Ne(e)){const o=ED(e),s=Ne(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${s} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Ne(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function L7e(e,t){if(t==="x"&&lt(["quantitative","temporal"],e))return!0}function F7e(e,t,n,r){if(n&&!Se(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function R7e(e){return e==="x"?"bottom":"left"}function z7e({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!hr(t)&&t!=="log"){if(de(e)){if(Jt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&lt(["month","hours","day","quarter"],(i=dr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function B7e({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(de(t)){const{timeUnit:n}=t;if(n){const r=Koe(n);if(r)return{signal:r}}}}function Jle(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;if(a&&o)return Doe(a,o);if(a)return a;if(o)return o;if(a!==void 0)return a;if(o!==void 0)return o}function U7e(e,t){const n=e.values;if(ae(n))return Pse(t,n);if(Ne(n))return n}function W7e(e,t){return e==="rect"&&wS(t)?1:0}class Lm extends Ft{clone(){return new Lm(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=Vle(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(xh(r)&&xse(r.sort)){const{field:a,timeUnit:o}=r,s=r.sort,l=s.map((u,c)=>`${Joe({field:a,timeUnit:o,equal:u})} ? ${c} : `).join("")+s.length;t=new Lm(t,{calculate:l,as:Fm(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${dt(this.transform)}`}}function Fm(e,t,n){return _e(e,{prefix:t,suffix:"sort_index",...n})}function Hk(e,t){return lt(["top","bottom"],t)?"column":lt(["left","right"],t)||e==="row"?"row":"column"}function Rm(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Tn((t||{})[e],i[e],n.header[e])}function qk(e,t,n,r){const i={};for(const a of e){const o=Rm(a,t||{},n,r);o!==void 0&&(i[a]=o)}return i}const C4=["row","column"],O4=["header","footer"];function H7e(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:o,titleOrient:s}=qk(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=Hk(t,s),u=i1(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...tue(u,l),...eue(l,u,a),...nue(r,i,t,_6e,Xse)}}}function eue(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=Qle(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function tue(e,t){const n=Zle(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function q7e(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of O4)if(n[i])for(const a of n[i]){const o=V7e(e,t,i,n,a);o!=null&&r.push(o)}return r}function G7e(e,t){const{sort:n}=e;return iu(n)?{field:_e(n,{expr:"datum"}),order:n.order??"ascending"}:ae(n)?{field:Fm(e,t,{expr:"datum"}),order:"ascending"}:{field:_e(e,{expr:"datum"}),order:n??"ascending"}}function AD(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:o,labelOrient:s,labelExpr:l}=qk(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=e4({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=Hk(t,s);return{text:{signal:l?Ld(Ld(l,"datum.label",u),"datum.value",_e(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...tue(a,c),...eue(c,a,o),...nue(n,e,t,w6e,Yse)}}function V7e(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:o}=r,s=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:f}=qk(["labelOrient"],o.header,s,t);(t==="row"&&!lt(["top","bottom"],f)||t==="column"&&!lt(["left","right"],f))&&(a=AD(o,t,s))}const l=Sa(e)&&!zx(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(a||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:G7e(o,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...a?{title:a}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const X7e={column:{start:0,end:1},row:{start:1,end:0}};function Y7e(e,t){return X7e[t][e]}function K7e(e,t){const n={};for(const r of Ja){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:a,titleOrient:o}=qk(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),s=Hk(r,o),l=Y7e(a,s);l!==void 0&&(n[s]=l)}}return Wt(n)?void 0:n}function nue(e,t,n,r,i){const a={};for(const o of r){if(!i[o])continue;const s=Rm(o,t==null?void 0:t.header,e,n);s!==void 0&&(a[i[o]]=s)}return a}function P4(e){return[...g_(e,"width"),...g_(e,"height"),...g_(e,"childWidth"),...g_(e,"childHeight")]}function g_(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const o=a.get("type"),s=a.get("range");if(hr(o)&&gh(s)){const l=e.scaleName(n);return Sa(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[CH(l,s)]:[CH(l,s),{name:i,update:rue(l,a,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),o=a?"containerSize()[0]":"containerSize()[1]",s=dD(e.config.view,a?"width":"height"),l=`isFinite(${o}) ? ${o} : ${s}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function CH(e,t){const n=`${e}_step`;return Ne(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function rue(e,t,n){const r=t.get("type"),i=t.get("padding"),a=Tn(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${Bo(o)}, ${Bo(a)}) * ${e}_step`}function iue(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function aue(e,t){return ue(e).reduce((n,r)=>({...n,...jg({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>an(i.value),invalidValueRef:void 0})}),{})}function oue(e,t){if(Sa(t))return e==="theta"?"independent":"shared";if(Rg(t))return"shared";if(I4(t))return Nn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function $4(e,t){const n=e.scale[t],r=Nn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&fe(gze(t)),"independent"):e[r][t]||"shared"}const Z7e={...A6e,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},sue=ue(Z7e);class Q7e extends Tu{}const OH={symbols:J7e,gradient:eUe,labels:tUe,entries:nUe};function J7e(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){if(a!=="symbol")return;const{markDef:o,encoding:s,config:l,mark:u}=n,c=o.filled&&u!=="trail";let f={...E4e({},n,bBe),...Cle(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,p=i.get("symbolFillColor")??l.legend.symbolFillColor,m=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?lue(s.opacity)??o.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===Qi)delete f.fill;else if(ce(f.fill,"field"))p?delete f.fill:(f.fill=an(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=an(g??1));else if(ae(f.fill)){const x=kD(s.fill??s.color)??o.fill??(c&&o.color);x&&(f.fill=an(x))}}if(f.stroke){if(r==="stroke"||!c&&r===Qi)delete f.stroke;else if(ce(f.stroke,"field")||m)delete f.stroke;else if(ae(f.stroke)){const x=Tn(kD(s.stroke||s.color),o.stroke,c?o.color:void 0);x&&(f.stroke={value:x})}}if(r!==Ou){const x=de(t)&&cue(n,i,t);x?f.opacity=[{test:x,...an(g??1)},an(l.legend.unselectedOpacity)]:g&&(f.opacity=an(g))}return f={...f,...e},Wt(f)?void 0:f}function eUe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:a,encoding:o}=t;let s={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?lue(o.opacity)||a.opacity:void 0;return u&&(s.opacity=an(u)),s={...s,...e},Wt(s)?void 0:s}function tUe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},o=n.config,s=de(t)?cue(n,i,t):void 0,l=s?[{test:s,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=a;let f;Wd(c)?f=Uo({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:o}):u===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?f=Uo({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&de(t)&&t.timeUnit===void 0&&(f=Uo({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Wt(d)?void 0:d}function nUe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function lue(e){return uue(e,(t,n)=>Math.max(t,n.value))}function kD(e){return uue(e,(t,n)=>Tn(t,n.value))}function uue(e,t){if(BBe(e))return Ae(e.condition).reduce(t,e.value);if(Jo(e))return e.value}function cue(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ye(n.field);return r.map(a=>`(!length(data(${ye(fn(a)+qd)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const PH={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return gse(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return yse(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??uUe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??cUe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??iUe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Hp(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Wp(n)&&Ns(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>rUe(t,e)};function rUe(e,t){const n=e.values;if(ae(n))return Pse(t,n);if(Ne(n))return n}function iUe(e,t,n,r){if(t!=="shape"){const i=kD(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function aUe(e){const{legend:t}=e;return Tn(t.type,oUe(e))}function oUe({channel:e,timeUnit:t,scaleType:n}){if(Wp(e)){if(lt(["quarter","month","day"],t))return"symbol";if(Ns(n))return"gradient"}return"symbol"}function sUe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??lUe(n,t)}function lUe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function uUe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:o,gradientVerticalMaxLength:s,gradientVerticalMinLength:l}=e;if(Ns(i))return n==="horizontal"?r==="top"||r==="bottom"?$H(t,"width",o,a):o:$H(t,"height",l,s)}function $H(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function cUe(e){if(lt(["quantile","threshold","log","symlog"],e))return"greedy"}function fue(e){const t=yn(e)?fUe(e):mUe(e);return e.component.legends=t,t}function fUe(e){const{encoding:t}=e,n={};for(const r of[Qi,...Zse]){const i=Xn(t[r]);!i||!e.getScaleComponent(r)||r===Ji&&de(i)&&i.type===Dg||(n[r]=pUe(e,r))}return n}function dUe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function hUe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function pUe(e,t){var k;let n=e.legend(t);const{markDef:r,encoding:i,config:a}=e,o=a.legend,s=new Q7e({},dUe(e,t));p9e(e,t,s);const l=n!==void 0?!n:o.disable;if(s.set("disable",l,n!==void 0),l)return s;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Xn(i[t]),f=de(c)?(k=dr(c.timeUnit))==null?void 0:k.unit:void 0,d=n.orient||a.legend.orient||"right",p=aUe({legend:n,channel:t,timeUnit:f,scaleType:u}),m=sUe({legend:n,legendType:p,orient:d,legendConfig:o}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:a,scaleType:u,orient:d,legendType:p,direction:m};for(const E of sue){if(p==="gradient"&&E.startsWith("symbol")||p==="symbol"&&E.startsWith("gradient"))continue;const A=E in PH?PH[E](g):n[E];if(A!==void 0){const C=hUe(A,E,n,e.fieldDef(t));(C||a.legend[E]===void 0)&&s.set(E,A,C)}}const x=(n==null?void 0:n.encoding)??{},v=s.get("selections"),b={},_={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:s,legendType:p};for(const E of["labels","legend","title","symbols","gradient","entries"]){const A=aue(x[E]??{},e),C=E in OH?OH[E](A,_):A;C!==void 0&&!Wt(C)&&(b[E]={...v!=null&&v.length&&de(c)?{name:`${fn(c.field)}_legend_${E}`}:{},...v!=null&&v.length?{interactive:!!v}:{},update:C})}return Wt(b)||s.set("encode",b,!!(n!=null&&n.encoding)),s}function mUe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){fue(r);for(const i of ue(r.component.legends))n.legend[i]=$4(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=due(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of ue(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function due(e,t){var a,o,s,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of sue){const c=Gc(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return gUe(f,d);case"title":return joe(f,d);case"type":return i=!0,sa("symbol")}return jk(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((o=(a=e.implicit)==null?void 0:a.encode)!=null&&o.gradient&&yS(e.implicit,["encode","gradient"]),(l=(s=e.explicit)==null?void 0:s.encode)!=null&&l.gradient&&yS(e.explicit,["encode","gradient"])),e}function gUe(e,t){return t.value==="circle"?t:e}function yUe(e,t,n,r){var i,a;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[n]=r}function hue(e){const t=e.component.legends,n={};for(const i of ue(t)){const a=e.getScaleComponent(i),o=Ht(a.get("domains"));if(n[o])for(const s of n[o])due(s,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return $r(n).flat().map(i=>vUe(i,e.config)).filter(i=>i!==void 0)}function vUe(e,t){var o,s,l;const{disable:n,labelExpr:r,selections:i,...a}=e.combine();if(!n){if(t.aria===!1&&a.aria==null&&(a.aria=!1),(o=a.encode)!=null&&o.symbols){const u=a.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!a.stroke&&(u.stroke={value:"transparent"});for(const c of Zse)a[c]&&delete u[c]}if(a.title||delete a.title,r!==void 0){let u=r;(l=(s=a.encode)==null?void 0:s.labels)!=null&&l.update&&Ne(a.encode.labels.update.text)&&(u=Ld(r,"datum.label",a.encode.labels.update.text.signal)),yUe(a,"labels","text",{signal:u})}return a}}function xUe(e){return Rg(e)||I4(e)?bUe(e):pue(e)}function bUe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),pue(e))}function pue(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},a=t.data.reduce((o,s)=>{const l=Ne(s)?s.signal:`data('${e.lookupDataSource(s)}')`;return lt(o,l)||o.push(l),o},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const _Ue=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class mue extends Tu{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function gue(e){e.component.projection=yn(e)?wUe(e):AUe(e)}function wUe(e){if(e.hasProjection){const t=_r(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?SUe(e):void 0,a=new mue(e.projectionName(!0),{..._r(e.config.projection),...t},r,i);return a.get("type")||a.set("type","equalEarth",!1),a}}function SUe(e){const t=[],{encoding:n}=e;for(const r of[[us,ls],[ho,cs]])(Xn(n[r[0]])||Xn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Ji)&&e.typedFieldDef(Ji).type===Dg&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(vn.Main)),t}function EUe(e,t){const n=v5(_Ue,i=>!!(!ke(e.explicit,i)&&!ke(t.explicit,i)||ke(e.explicit,i)&&ke(t.explicit,i)&&va(e.get(i),t.get(i))));if(va(e.size,t.size)){if(n)return e;if(va(e.explicit,{}))return t;if(va(t.explicit,{}))return e}return null}function AUe(e){if(e.children.length===0)return;let t;for(const r of e.children)gue(r);const n=v5(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=EUe(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new mue(r,t.specifiedProjection,t.size,Ge(t.data));for(const a of e.children){const o=a.component.projection;o&&(o.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function kUe(e,t,n,r){if(Wx(t,n)){const i=yn(e)?e.axis(n)??e.legend(n)??{}:{},a=_e(t,{expr:"datum"}),o=_e(t,{expr:"datum",binSuffix:"end"});return{formulaAs:_e(t,{binSuffix:"range",forAs:!0}),formula:Rx(a,o,i.format,i.formatType,r)}}return{}}function yue(e,t){return`${Coe(e)}_${t}`}function CUe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function T4(e,t,n){const r=Pk(n,void 0)??{},i=yue(r,t);return e.getName(`${i}_bins`)}function OUe(e){return"as"in e}function TH(e,t,n){let r,i;OUe(e)?r=Ee(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[_e(e,{forAs:!0}),_e(e,{binSuffix:"end",forAs:!0})];const a={...Pk(t,void 0)},o=yue(a,e.field),{signal:s,extentSignal:l}=CUe(n,o);if(vk(a.extent)){const c=a.extent;i=Yle(n,c.param,c),delete a.extent}const u={bin:a,field:e.field,as:[r],...s?{signal:s}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:o,binComponent:u}}class Ws extends Ft{clone(){return new Ws(null,Ge(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,o)=>{if(Ai(a)&&Jt(a.bin)){const{key:s,binComponent:l}=TH(a,a.bin,n);i[s]={...l,...i[s],...kUe(n,a,o,n.config)}}return i},{});return Wt(r)?null:new Ws(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:a}=TH(n,n.bin,r);return new Ws(t,{[i]:a})}merge(t,n){for(const r of ue(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Ts([...this.bins[r].as,...t.bins[r].as],dt)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set($r(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set($r(this.bins).map(t=>t.field))}hash(){return`Bin ${dt(this.bins)}`}assemble(){return $r(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:a,...o}=t.bin,s={type:"bin",field:fo(t.field),as:r,signal:t.signal,...vk(a)?{extent:null}:{extent:a},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!a&&t.extentSignal&&(n.push({type:"extent",field:fo(t.field),signal:t.extentSignal}),s.extent={signal:t.extentSignal}),n.push(s);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:_e({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function PUe(e,t,n,r){var a;const i=yn(r)?r.encoding[pl(t)]:void 0;if(Ai(n)&&yn(r)&&_se(n,i,r.markDef,r.config)){e.add(_e(n,{})),e.add(_e(n,{suffix:"end"}));const{mark:o,markDef:s,config:l}=r,u=qc({fieldDef:n,markDef:s,config:l});a1(o)&&u!==.5&&Nn(t)&&(e.add(_e(n,{suffix:Ik})),e.add(_e(n,{suffix:Lk}))),n.bin&&Wx(n,t)&&e.add(_e(n,{binSuffix:"range"}))}else if(voe(t)){const o=yoe(t);e.add(r.getName(o))}else e.add(_e(n));return xh(n)&&sBe((a=n.scale)==null?void 0:a.range)&&e.add(n.scale.range.field),e}function $Ue(e,t){for(const n of ue(t)){const r=t[n];for(const i of ue(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Go extends Ft{clone(){return new Go(null,new Set(this.dimensions),Ge(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},a=new Set;return!r||(n.forEachFieldDef((o,s)=>{const{aggregate:l,field:u}=o;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([_e(o,{forAs:!0})]);else{if(yu(l)||df(l)){const c=yu(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([_e({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([_e(o,{forAs:!0})]);ml(s)&&n.scaleDomain(s)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([_e({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([_e({field:u,aggregate:"max"},{forAs:!0})]))}else PUe(a,s,o,n)}),a.size+ue(i).length===0)?null:new Go(t,a,i)}static makeFromTransform(t,n){var r;const i=new Set,a={};for(const o of n.aggregate){const{op:s,field:l,as:u}=o;s&&(s==="count"?(a["*"]??(a["*"]={}),a["*"].count=new Set([u||_e(o,{forAs:!0})])):(a[l]??(a[l]={}),(r=a[l])[s]??(r[s]=new Set),a[l][s].add(u||_e(o,{forAs:!0}))))}for(const o of n.groupby??[])i.add(o);return i.size+ue(a).length===0?null:new Go(t,i,a)}merge(t){return uoe(this.dimensions,t.dimensions)?($Ue(this.measures,t.measures),!0):(Nze("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ue(this.measures)])}producedFields(){const t=new Set;for(const n of ue(this.measures))for(const r of ue(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${dt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const a of ue(this.measures))for(const o of ue(this.measures[a]))for(const s of this.measures[a][o])r.push(s),t.push(o),n.push(a==="*"?null:fo(a));return{type:"aggregate",groupby:[...this.dimensions].map(fo),ops:t,fields:n,as:r}}}class Lg extends Ft{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const a of Ja){const o=n.facet[a];if(o){const{bin:s,sort:l}=o;this[a]={name:n.getName(`${a}_domain`),fields:[_e(o),...Jt(s)?[_e(o,{binSuffix:"end"})]:[]],...iu(l)?{sortField:l}:ae(l)?{sortIndexField:Fm(o,a)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Ja)this[n]&&(t+=` ${n.charAt(0)}:${dt(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Ja)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Ja)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Pu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),a=r.get("range");if(hr(i)&&gh(a)){const o=Gk(this.childModel,n),s=j4(o);s?t[n]=s:fe(N5(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],a=[],o=[],s=[];i&&r&&r[i]&&(n?(a.push(`distinct_${r[i]}`),o.push("max")):(a.push(r[i]),o.push("distinct")),s.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=kk,field:f}=l;a.push(f),o.push(c),s.push(_e(l,{forAs:!0}))}else u&&(a.push(u),o.push("max"),s.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...a.length?{fields:a,ops:o,as:s}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],a={};for(const u of C4){for(const c of O4){const f=(r[u]&&r[u][c])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){a[u]=!0;break}}if(a[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:o,column:s}=a;return(o||s)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:a,facet:o}=this;if(i&&a&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const s=[].concat(r.x??[],r.y??[]),l=s.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:l}]})}for(const s of[ru,nu])this[s]&&t.push(this.assembleRowColumnHeaderData(s,n,r));if(o){const s=this.assembleFacetHeaderData(r);s&&t.push(...s)}return t}}function NH(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function TUe(e,t){const n=_5(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=NH(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=NH(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return fe(B4e(t)),null}function NUe(e){const t={};return bw(e.filter,n=>{if(Qoe(n)){let r=null;F5(n)?r=pa(n.equal):z5(n)?r=pa(n.lte):R5(n)?r=pa(n.lt):B5(n)?r=pa(n.gt):U5(n)?r=pa(n.gte):W5(n)?r=n.range[0]:H5(n)&&(r=(n.oneOf??n.in)[0]),r&&(yh(r)?t[n.field]="date":St(r)?t[n.field]="number":Ee(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function MUe(e){const t={};function n(r){Dm(r)?t[r.field]="date":r.type==="quantitative"&&m4e(r.aggregate)?t[r.field]="number":Om(r.field)>1?r.field in t||(t[r.field]="flatten"):xh(r)&&iu(r.sort)&&Om(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((yn(e)||Sa(e))&&e.forEachFieldDef((r,i)=>{if(Ai(r))n(r);else{const a=ph(i),o=e.fieldDef(a);n({...r,type:o.type})}}),yn(e)){const{mark:r,markDef:i,encoding:a}=e;if(hf(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",s=a[o];de(s)&&s.type==="quantitative"&&!(s.field in t)&&(t[s.field]="number")}}return t}function DUe(e){const t={};if(yn(e)&&e.component.selection)for(const n of ue(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Om(i.field)>1&&(t[i.field]="flatten")}return t}class Gr extends Ft{clone(){return new Gr(null,Ge(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${dt(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const a=n.data;return!$c(a)&&((o=a==null?void 0:a.format)!=null&&o.parse)&&(i=a.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const s of ue(r)){const l=i.getWithExplicit(s);l.value!==void 0&&(l.explicit||l.value===r[s]||l.value==="derived"||r[s]==="flatten"?delete r[s]:fe(jW(s,r[s],l.value)))}for(const s of ue(n)){const l=i.get(s);l!==void 0&&(l===n[s]?delete n[s]:fe(jW(s,n[s],l)))}const a=new Tu(n,r);i.copyAll(a);const o={};for(const s of ue(a.combine())){const l=a.get(s);l!==null&&(o[s]=l)}return ue(o).length===0||i.parseNothing?null:new Gr(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of ue(this._parse)){const r=this._parse[n];Om(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(ue(this._parse))}dependentFields(){return new Set(ue(this._parse))}assembleTransforms(t=!1){return ue(this._parse).filter(n=>t?Om(n)>1:!0).map(n=>{const r=TUe(n,this._parse[n]);return r?{type:"formula",expr:r,as:Ng(n)}:null}).filter(n=>n!==null)}}class Vc extends Ft{clone(){return new Vc(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([ts])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:ts}}}class Yx extends Ft{clone(){return new Yx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${dt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Kx extends Ft{clone(){return new Kx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${dt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Xd extends Ft{constructor(t){super(null),t??(t={name:"source"});let n;if($c(t)||(n=t.format?{...Vi(t.format,["parse"])}:{}),o1(t))this._data={values:t.values};else if(jm(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];lt(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else mle(t)?this._data={values:[{type:"Sphere"}]}:(hle(t)||$c(t))&&(this._data={});this._generator=$c(t),t.name&&(this._name=t.name),n&&!Wt(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var MH=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},jUe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$0;function N4(e){return e instanceof Xd||e instanceof Yx||e instanceof Kx}class M4{constructor(){$0.set(this,void 0),MH(this,$0,!1,"f")}setModified(){MH(this,$0,!0,"f")}get modifiedFlag(){return jUe(this,$0,"f")}}$0=new WeakMap;class _h extends M4{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class D4 extends M4{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class IUe extends D4{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of ue(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class LUe extends D4{constructor(t){super(),this.requiresSelectionId=t&&S4(t)}run(t){t instanceof Vc&&(this.requiresSelectionId&&(N4(t.parent)||t.parent instanceof Go||t.parent instanceof Gr)||(this.setModified(),t.remove()))}}class FUe extends M4{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Bs&&(r=t.producedFields(),x5(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class RUe extends D4{constructor(){super()}run(t){t instanceof Xi&&!t.isRequired()&&(this.setModified(),t.remove())}}class zUe extends _h{run(t){if(!N4(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Gr)if(t instanceof Gr)this.setModified(),t.merge(n);else{if(b5(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class BUe extends _h{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Gr);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const o of r){const s=o.parse;for(const l of ue(s))l in i?i[l]!==s[l]&&a.add(l):i[l]=s[l]}for(const o of a)delete i[o];if(!Wt(i)){this.setModified();const o=new Gr(t,i);for(const s of n){if(s instanceof Gr)for(const l of ue(i))delete s.parse[l];t.removeChild(s),s.parent=o,s instanceof Gr&&ue(s.parse).length===0&&s.remove()}}}}}class UUe extends _h{run(t){t instanceof Xi||t.numChildren()>0||t instanceof Lg||t instanceof Xd||(this.setModified(),t.remove())}}class WUe extends _h{run(t){const n=t.children.filter(i=>i instanceof Bs),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class HUe extends _h{run(t){const n=t.children.filter(i=>i instanceof Go),r={};for(const i of n){const a=dt(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of ue(r)){const a=r[i];if(a.length>1){const o=a.pop();for(const s of a)o.merge(s)&&(t.removeChild(s),s.parent=o,s.remove(),this.setModified())}}}}class qUe extends _h{constructor(t){super(),this.model=t}run(t){const n=!(N4(t)||t instanceof Ig||t instanceof Gr||t instanceof Vc),r=[],i=[];for(const a of t.children)a instanceof Ws&&(n&&!b5(t.producedFields(),a.dependentFields())?r.push(a):i.push(a));if(r.length>0){const a=r.pop();for(const o of r)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Ws?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(i.length>1){const a=i.pop();for(const o of i)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class GUe extends _h{run(t){const n=[...t.children];if(!Cm(n,o=>o instanceof Xi)||t.numChildren()<=1)return;const i=[];let a;for(const o of n)if(o instanceof Xi){let s=o;for(;s.numChildren()===1;){const[l]=s.children;if(l instanceof Xi)s=l;else break}i.push(...s.children),a?(t.removeChild(o),o.parent=a.parent,a.parent.removeChild(a),a.parent=s,this.setModified()):a=s}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=a}}}class wh extends Ft{clone(){return new wh(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ts(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??_e(t)}hash(){return`JoinAggregateTransform ${dt(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const a of this.transform.joinaggregate)n.push(a.op),r.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class zm extends Ft{clone(){return new zm(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:a}=n,{marks:o,scales:s}=r;if(o==="include-invalid-values"&&s==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,f)=>{const d=ml(f)&&n.getScaleComponent(f);if(d){const p=d.get("type"),{aggregate:m}=c,g=Z5({scaleChannel:f,markDef:a,config:i,scaleType:p,isCountAggregate:yk(m)});g!=="show"&&g!=="always-valid"&&(u[c.field]=c)}return u},{});return ue(l).length?new zm(t,l):null}dependentFields(){return new Set(ue(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${dt(this.filter)}`}assemble(){const t=ue(this.filter).reduce((n,r)=>{const i=this.filter[r],a=_e(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${a}) || (${CD(a)}))`):i.type==="quantitative"&&n.push(CD(a))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function CD(e){return`isValid(${e}) && isFinite(+${e})`}function VUe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=_e(r);return i&&t.push(i),t},[])}function XUe(e){return ae(e)&&e.every(t=>Ee(t))&&e.length>1}class ou extends Ft{clone(){return new ou(null,Ge(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:a,offset:o="zero"}=n,s=[],l=[];if(n.sort!==void 0)for(const f of n.sort)s.push(f.field),l.push(Tn(f.order,"ascending"));const u={field:s,order:l};let c;return XUe(a)?c=a:Ee(a)?c=[a,`${a}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new ou(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:a,fieldChannel:o,offset:s,impute:l}=r,u=a.map(p=>{const m=i[p];return es(m)}).filter(p=>!!p),c=VUe(n),f=n.encoding.order;let d;if(ae(f)||de(f))d=Noe(f);else{const p=wse(f)?f.sort:o==="y"?"descending":"ascending";d=c.reduce((m,g)=>(m.field.includes(g)||(m.field.push(g),m.order.push(p)),m),{field:[],order:[]})}return new ou(t,{dimensionFieldDefs:u,stackField:n.vgField(o),facetby:[],stackby:c,sort:d,offset:s,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${dt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[_e(i,{binSuffix:"mid"})]:[_e(i,{}),_e(i,{binSuffix:"end"})]:[_e(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:a,sort:o,offset:s,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const p=_e(c,{expr:"datum"}),m=_e(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${CD(p)} ? ${f}*${p}+${1-f}*${m} : ${p}`,as:_e(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...a,...n],key:_e(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:u,offset:s}),t}}class Fg extends Ft{clone(){return new Fg(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ts(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??_e(t)}hash(){return`WindowTransform ${dt(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const a=this.transform.frame,o=this.transform.groupby;if(a&&a[0]===null&&a[1]===null&&n.every(f=>$5(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const s=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)s.push(f.field),l.push(f.order??"ascending");const u={field:s,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...a!==void 0?{frame:a}:{}}}}function YUe(e){function t(n){if(!(n instanceof Lg)){const r=n.clone();if(r instanceof Xi){const i=PD+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Go||r instanceof ou||r instanceof Fg||r instanceof wh)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function OD(e){if(e instanceof Lg)if(e.numChildren()===1&&!(e.children[0]instanceof Xi)){const t=e.children[0];(t instanceof Go||t instanceof ou||t instanceof Fg||t instanceof wh)&&t.addDimensions(e.fields),t.swapWithParent(),OD(e)}else{const t=e.model.component.data.main;vue(t);const n=YUe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(OD)}function vue(e){if(e instanceof Xi&&e.type===vn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof Lg||(t.swapWithParent(),vue(e))}}const PD="scale_",y_=5;function $D(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!$D(t.children))return!1}return!0}function Ao(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function DH(e,t,n){let r=e.sources,i=!1;return i=Ao(new RUe,r)||i,i=Ao(new LUe(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=Ao(new UUe,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=Ao(new zUe,r)||i,i=Ao(new qUe(t),r)||i,i=Ao(new FUe,r)||i,i=Ao(new BUe,r)||i,i=Ao(new HUe,r)||i,i=Ao(new WUe,r)||i,i=Ao(new IUe,r)||i,i=Ao(new GUe,r)||i),e.sources=r,i}function KUe(e,t){$D(e.sources);let n=0,r=0;for(let i=0;i<y_&&DH(e,t,!0);i++)n++;e.sources.map(OD);for(let i=0;i<y_&&DH(e,t,!1);i++)r++;$D(e.sources),Math.max(n,r)===y_&&fe(`Maximum optimization runs(${y_}) reached.`)}class nr{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new nr(()=>t(n))}}function xue(e){yn(e)?ZUe(e):QUe(e)}function ZUe(e){const t=e.component.scales;for(const n of ue(t)){const r=eWe(e,n);if(t[n].setWithExplicit("domains",r),nWe(e,n),e.component.data.isFaceted){let a=e;for(;!Sa(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const s of r.value)Kl(s)&&(s.data=PD+s.data.replace(PD,""))}}}function QUe(e){for(const n of e.children)xue(n);const t=e.component.scales;for(const n of ue(t)){let r,i=null;for(const a of e.children){const o=a.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=Gc(r,o.getWithExplicit("domains"),"domains","scale",TD);const s=o.get("selectionExtent");i&&s&&i.param!==s.param&&fe(D4e),i=s}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function JUe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=jH(t,n);if(!i){fe(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=jH(t,n);if(i)return"unaggregated"}return e}function eWe(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=JUe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Xn(r.x2)?Xn(r.x)?Gc(Hu(n,i,e,"x"),Hu(n,i,e,"x2"),"domain","scale",TD):Hu(n,i,e,"x2"):t==="y"&&Xn(r.y2)?Xn(r.y)?Gc(Hu(n,i,e,"y"),Hu(n,i,e,"y2"),"domain","scale",TD):Hu(n,i,e,"y2"):Hu(n,i,e,t)}function tWe(e,t,n){return e.map(r=>({signal:`{data: ${$k(r,{timeUnit:n,type:t})}}`}))}function S$(e,t,n){var i;const r=(i=dr(n))==null?void 0:i.unit;return t==="temporal"||r?tWe(e,t,r):[e]}function Hu(e,t,n,r){const{encoding:i,markDef:a,mark:o,config:s,stack:l}=n,u=Xn(i[r]),{type:c}=u,f=u.timeUnit,d=F8e({invalid:tl("invalid",a,s),isPath:hf(o)});if(oBe(t)){const g=Hu(e,void 0,n,r),x=S$(t.unionWith,c,f);return Es([...x,...g.value])}else{if(Ne(t))return Es([t]);if(t&&t!=="unaggregated"&&!ase(t))return Es(S$(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return sa([[0,1]]);const g=n.requestDataName(d);return sa([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const p=ml(r)&&de(u)?rWe(n,r,e):void 0;if(gl(u)){const g=S$([u.datum],c,f);return sa(g)}const m=u;if(t==="unaggregated"){const{field:g}=u;return sa([{data:n.requestDataName(d),field:_e({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:_e({field:g,aggregate:"max"})}])}else if(Jt(m.bin)){if(hr(e))return sa(e==="bin-ordinal"?[]:[{data:r1(p)?n.requestDataName(d):n.requestDataName(vn.Raw),field:n.vgField(r,Wx(m,r)?{binSuffix:"range"}:{}),sort:p===!0||!Se(p)?{field:n.vgField(r,{}),op:"min"}:p}]);{const{bin:g}=m;if(Jt(g)){const x=T4(n,m.field,g);return sa([new nr(()=>{const v=n.getSignalName(x);return`[${v}.start, ${v}.stop]`})])}else return sa([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(m.timeUnit&&lt(["time","utc"],e)){const g=i[pl(r)];if(_se(m,g,a,s)){const x=n.requestDataName(d),v=qc({fieldDef:m,fieldDef2:g,markDef:a,config:s}),b=a1(o)&&v!==.5&&Nn(r);return sa([{data:x,field:n.vgField(r,b?{suffix:Ik}:{})},{data:x,field:n.vgField(r,{suffix:b?Lk:"end"})}])}}return sa(p?[{data:r1(p)?n.requestDataName(d):n.requestDataName(vn.Raw),field:n.vgField(r),sort:p}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function E$(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":kk),...r?{field:fo(r)}:{},...i?{order:i}:{}}}function nWe(e,t){var s;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(s=e.fieldDef(t))==null?void 0:s.bin,a=ase(r)?r:void 0,o=mh(i)&&vk(i.extent)?i.extent:void 0;(a||o)&&n.set("selectionExtent",a??o,!0)}function rWe(e,t,n){if(!hr(n))return;const r=e.fieldDef(t),i=r.sort;if(xse(i))return{op:"min",field:Fm(r,t),order:"ascending"};const{stack:a}=e,o=a?new Set([...a.groupbyFields,...a.stackBy.map(s=>s.fieldDef.field)]):void 0;if(iu(i)){const s=a&&!o.has(i.field);return E$(i,s)}else if(FBe(i)){const{encoding:s,order:l}=i,u=e.fieldDef(s),{aggregate:c,field:f}=u,d=a&&!o.has(f);if(yu(c)||df(c))return E$({field:_e(u),order:l},d);if($5(c)||!c)return E$({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(lt(["ascending",void 0],i))return!0}}function jH(e,t){const{aggregate:n,type:r}=e;return n?Ee(n)&&!y4e.has(n)?{valid:!1,reason:uze(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:cze(e)}:{valid:!0}:{valid:!1,reason:lze(e)}}function TD(e,t,n,r){return e.explicit&&t.explicit&&fe(mze(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function iWe(e){const t=Ts(e.map(o=>{if(Kl(o)){const{sort:s,...l}=o;return l}return o}),dt),n=Ts(e.map(o=>{if(Kl(o)){const s=o.sort;return s!==void 0&&!r1(s)&&("op"in s&&s.op==="count"&&delete s.field,s.order==="ascending"&&delete s.order),s}}).filter(o=>o!==void 0),dt);if(t.length===0)return;if(t.length===1){const o=e[0];if(Kl(o)&&n.length>0){let s=n[0];if(n.length>1){fe(LW);const l=n.filter(u=>Se(u)&&"op"in u&&u.op!=="min");n.every(u=>Se(u)&&"op"in u)&&l.length===1?s=l[0]:s=!0}else if(Se(s)&&"field"in s){const l=s.field;o.field===l&&(s=s.order?{order:s.order}:!0)}return{...o,sort:s}}return o}const r=Ts(n.map(o=>r1(o)||!("op"in o)||Ee(o.op)&&ke(h4e,o.op)?o:(fe(yze(o)),!0)),dt);let i;r.length===1?i=r[0]:r.length>1&&(fe(LW),i=!0);const a=Ts(e.map(o=>Kl(o)?o.data:null),o=>o);return a.length===1&&a[0]!==null?{data:a[0],fields:t.map(s=>s.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function j4(e){if(Kl(e)&&Ee(e.field))return e.field;if(v4e(e)){let t;for(const n of e.fields)if(Kl(n)&&Ee(n.field)){if(!t)t=n.field;else if(t!==n.field)return fe(vze),t}return fe(xze),t}else if(x4e(e)){fe(bze);const t=e.fields[0];return Ee(t)?t:void 0}}function Gk(e,t){const r=e.component.scales[t].get("domains").map(i=>(Kl(i)&&(i.data=e.lookupDataSource(i.data)),i));return iWe(r)}function bue(e){return Rg(e)||I4(e)?e.children.reduce((t,n)=>t.concat(bue(n)),IH(e)):IH(e)}function IH(e){return ue(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:o,selectionExtent:s,domains:l,range:u,reverse:c,...f}=i,d=aWe(i.range,a,n,e),p=Gk(e,n),m=s?Y8e(e,s,r,p):null;return t.push({name:a,type:o,...p?{domain:p}:{},...m?{domainRaw:m}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function aWe(e,t,n,r){if(Nn(n)){if(gh(e))return{step:{signal:`${t}_step`}}}else if(Se(e)&&Kl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class _ue extends Tu{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(lt([wr.LOG,wr.TIME,wr.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&lt([wr.LINEAR,wr.SQRT,wr.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,a=!1,o=!1;for(const s of r){if(ae(s)){const l=s[0],u=s[s.length-1];if(St(l)&&St(u))if(l<=0&&u>=0){i=!0;continue}else{a=!0;continue}}o=!0}if(i)return"definitely";if(a&&!o)return"definitely-not"}return"maybe"}}const oWe=["range","scheme"];function sWe(e){const t=e.component.scales;for(const n of P5){const r=t[n];if(!r)continue;const i=lWe(n,e);r.setWithExplicit("range",i)}}function LH(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,a=ea(t),o=e.getName(a);if(Se(r)&&r.binned&&r.step!==void 0)return new nr(()=>{const s=e.scaleName(t),l=`(domain("${s}")[1] - domain("${s}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(Jt(r)){const s=T4(e,i,r);return new nr(()=>{const l=e.getSignalName(s),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${u})`})}}}function lWe(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const f of oWe)if(n[f]!==void 0){const d=uD(a,f),p=ose(e,f);if(!d)fe(Roe(a,f,e));else if(p)fe(p);else switch(f){case"range":{const m=n.range;if(ae(m)){if(Nn(e))return Es(m.map(g=>{if(g==="width"||g==="height"){const x=t.getName(g),v=t.getSignalName.bind(t);return nr.fromName(v,x)}return g}))}else if(Se(m))return Es({data:t.requestDataName(vn.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return Es(m)}case"scheme":return Es(uWe(n[f]))}}const o=e===hn||e==="xOffset"?"width":"height",s=r[o];if(rl(s)){if(Nn(e))if(hr(a)){const f=Sue(s,t,e);if(f)return Es({step:f})}else fe(zoe(o));else if(Ix(e)){const f=e===of?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const m=Eue(s,a);if(m)return Es(m)}}}const{rangeMin:l,rangeMax:u}=n,c=cWe(e,t);return(l!==void 0||u!==void 0)&&uD(a,"rangeMin")&&ae(c)&&c.length===2?Es([l??c[0],u??c[1]]):sa(c)}function uWe(e){return aBe(e)?{scheme:e.name,...Vi(e,["name"])}:{scheme:e}}function wue(e,t,n,{center:r}={}){const i=ea(e),a=t.getName(i),o=t.getSignalName.bind(t);return e===mr&&Qo(n)?r?[nr.fromName(s=>`${o(s)}/2`,a),nr.fromName(s=>`-${o(s)}/2`,a)]:[nr.fromName(o,a),0]:r?[nr.fromName(s=>`-${o(s)}/2`,a),nr.fromName(s=>`${o(s)}/2`,a)]:[0,nr.fromName(o,a)]}function cWe(e,t){const{size:n,config:r,mark:i,encoding:a}=t,{type:o}=Xn(a[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case hn:case mr:{if(lt(["point","band"],l)){const f=Aue(e,n,r.view);if(rl(f))return{step:Sue(f,t,e)}}return wue(e,t,l)}case of:case Mg:return fWe(e,t,l);case Cu:{const f=pWe(i,r),d=mWe(i,n,t,r);return Tm(l)?hWe(f,d,dWe(l,r,u,e)):[f,d]}case yo:return[0,Math.PI*2];case hh:return[0,360];case ss:return[0,new nr(()=>{const f=t.getSignalName(Sa(t.parent)?"child_width":"width"),d=t.getSignalName(Sa(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case sf:return{step:1e3/r.scale.framesPerSecond};case cf:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case ff:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ji:return"symbol";case Qi:case dl:case hl:return l==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Ou:case lf:case uf:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Sue(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),a=A5(n),o=r[a];if(Jse({step:e,offsetIsDiscrete:Ye(o)&&ese(o.type)})==="offset"&&Mse(r,a)){const l=t.getScaleComponent(a);let c=`domain('${t.scaleName(a)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,p=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${p})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${S4e(f)})`}}else return e.step}function Eue(e,t){if(Jse({step:e,offsetIsDiscrete:hr(t)})==="offset")return{step:e.step}}function fWe(e,t,n){const r=e===of?"x":"y",i=t.getScaleComponent(r);if(!i)return wue(r,t,n,{center:!0});const a=i.get("type"),o=t.scaleName(r),{markDef:s,config:l}=t;if(a==="band"){const u=Aue(r,t.size,t.config.view);if(rl(u)){const c=Eue(u,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const u=t.encoding[r];if(de(u)&&u.timeUnit){const c=Koe(u.timeUnit,m=>`scale('${o}', ${m})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=qc({fieldDef:u,markDef:s,config:l})-.5,p=d!==0?` + ${d}`:"";if(f){const m=Ne(f)?`${f.signal}/2`+p:`${f/2+d}`,g=Ne(f)?`(1 - ${f.signal}/2)`+p:`${1-f/2+d}`;return[{signal:`${m} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return soe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Aue(e,t,n){const r=e===hn?"width":"height",i=t[r];return i||kS(n,r)}function dWe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&ae(n)?n.length+1:(fe(Pze(r)),3)}}function hWe(e,t,n){const r=()=>{const i=Bo(t),a=Bo(e),o=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${o}, ${o})`};return Ne(t)?new nr(r):{signal:r()}}function pWe(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(xk("size",e))}const FH=.95;function mWe(e,t,n,r){const i={x:LH(n,"x"),y:LH(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=RH(t,i,r.view);return St(a)?a-1:new nr(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=RH(t,i,r.view);return St(a)?Math.pow(FH*a,2):new nr(()=>`pow(${FH} * ${a.signal}, 2)`)}}throw new Error(xk("size",e))}function RH(e,t,n){const r=rl(e.width)?e.width.step:hD(n,"width"),i=rl(e.height)?e.height.step:hD(n,"height");return t.x||t.y?new nr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function kue(e,t){yn(e)?gWe(e,t):Oue(e,t)}function gWe(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:o}=e;for(const s of ue(n)){const l=o[s],u=n[s],c=e.getScaleComponent(s),f=Xn(i[s]),d=l[t],p=c.get("type"),m=c.get("padding"),g=c.get("paddingInner"),x=uD(p,t),v=ose(s,t);if(d!==void 0&&(x?v&&fe(v):fe(Roe(p,t,s))),x&&v===void 0)if(d!==void 0){const b=f.timeUnit,_=f.type;switch(t){case"domainMax":case"domainMin":yh(l[t])||_==="temporal"||b?u.set(t,{signal:$k(l[t],{type:_,timeUnit:b})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const b=ce(zH,t)?zH[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:p,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:a,config:r,hasNestedOffsetScale:Dse(i,s),hasSecondaryRangeChannel:!!i[pl(s)]}):r.scale[t];b!==void 0&&u.set(t,b,!1)}}}const zH={bins:({model:e,fieldOrDatumDef:t})=>de(t)?yWe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>vWe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>xWe(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>bWe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>_We(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>wWe(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=de(e)?e.sort:void 0;return SWe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:o})=>EWe(e,t,n,r,i,a.scale,o)};function Cue(e){yn(e)?sWe(e):Oue(e,"range")}function Oue(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Cue(r):kue(r,t);for(const r of ue(n)){let i;for(const a of e.children){const o=a.component.scales[r];if(o){const s=o.getWithExplicit(t);i=Gc(i,s,t,"scale",dle((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function yWe(e,t){const n=t.bin;if(Jt(n)){const r=T4(e,t.field,n);return new nr(()=>e.getSignalName(r))}else if(br(n)&&mh(n)&&n.step!==void 0)return{step:n.step}}function vWe(e,t){if(lt([Qi,dl,hl],e)&&t!=="nominal")return"hcl"}function xWe(e,t,n,r,i,a){var o;if(!((o=es(a))!=null&&o.bin||ae(n)||i!=null||r!=null||lt([wr.TIME,wr.UTC],e)))return Nn(t)?!0:void 0}function bWe(e,t,n,r,i,a){if(Nn(e)){if(Ns(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:s}=i;if(o==="bar"&&!(de(r)&&(r.bin||r.timeUnit))&&(s==="vertical"&&e==="x"||s==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===wr.POINT)return n.pointPadding}}function _We(e,t,n,r,i,a=!1){if(e===void 0){if(Nn(t)){const{bandPaddingInner:o,barBandPaddingInner:s,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return a?c:Tn(o,n==="bar"?s:n==="tick"?u:l)}else if(Ix(t)&&r===wr.BAND)return i.offsetBandPaddingInner}}function wWe(e,t,n,r,i,a=!1){if(e===void 0){if(Nn(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:s}=i;if(a)return s;if(n===wr.BAND)return Tn(o,Ne(r)?{signal:`${r.signal}/2`}:r/2)}else if(Ix(t)){if(n===wr.POINT)return .5;if(n===wr.BAND)return i.offsetBandPaddingOuter}}}function SWe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Qo(e)&&t==="descending"?Ne(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Qo(e)&&t==="descending")return!0}function EWe(e,t,n,r,i,a,o){if(!!n&&n!=="unaggregated"&&Qo(i)){if(ae(n)){const l=n[0],u=n[n.length-1];if(St(l)&&l<=0&&St(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Tm(i))return!0;if(!(de(t)&&t.bin)&&lt([...Pu,...i4e],e)){const{orient:l,type:u}=r;return lt(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:lt(["bar","area"],u)&&!o?!0:a==null?void 0:a.zero}return!1}function AWe(e,t,n,r,i=!1){const a=kWe(t,n,r,i),{type:o}=e;return ml(t)?o!==void 0?dBe(t,o)?de(n)&&!fBe(o,n.type)?(fe(hze(o,a)),a):o:(fe(dze(t,o,a)),a):a:null}function kWe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Wp(e)||u$(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&fe(c$(e,"ordinal")),"ordinal";if(l$(e))return"band";if(Nn(e)||Ix(e)){if(lt(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in O5)return"band";const a=n[ea(e)];return Ud(a)||Mm(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Wp(e)?"time":u$(e)==="discrete"?(fe(c$(e,"temporal")),"ordinal"):de(t)&&t.timeUnit&&dr(t.timeUnit).utc?"utc":l$(e)?"band":"time";case"quantitative":return Wp(e)?de(t)&&Jt(t.bin)?"bin-ordinal":"linear":u$(e)==="discrete"?(fe(c$(e,"quantitative")),"ordinal"):l$(e)?"band":"linear";case"geojson":return}throw new Error(Loe(t.type))}function CWe(e,{ignoreRange:t}={}){Pue(e),xue(e);for(const n of cBe)kue(e,n);t||Cue(e)}function Pue(e){yn(e)?e.component.scales=OWe(e):e.component.scales=$We(e)}function OWe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of P5){const o=Xn(t[a]);if(o&&n===use&&a===Ji&&o.type===Dg)continue;let s=o&&o.scale;if(o&&s!==null&&s!==!1){s??(s={});const l=Dse(t,a),u=AWe(s,a,o,r,l);i[a]=new _ue(e.scaleName(`${a}`,!0),{value:u,explicit:s.type===u})}}return i}const PWe=dle((e,t)=>RW(e)-RW(t));function $We(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const a of e.children){Pue(a);for(const o of ue(a.component.scales))if((t=i.scale)[o]??(t[o]=oue(o,e)),i.scale[o]==="shared"){const s=r[o],l=a.component.scales[o].getWithExplicit("type");s?eBe(s.value,l.value)?r[o]=Gc(s,l,"type","scale",PWe):(i.scale[o]="independent",delete r[o]):r[o]=l}}for(const a of ue(r)){const o=e.scaleName(a,!0),s=r[a];n[a]=new _ue(o,s);for(const l of e.children){const u=l.component.scales[a];u&&(l.renameScale(u.get("name"),o),u.merged=!0)}}return n}class A${constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function yn(e){return(e==null?void 0:e.type)==="unit"}function Sa(e){return(e==null?void 0:e.type)==="facet"}function I4(e){return(e==null?void 0:e.type)==="concat"}function Rg(e){return(e==null?void 0:e.type)==="layer"}class L4{constructor(t,n,r,i,a,o,s){this.type=n,this.parent=r,this.config=a,this.parent=r,this.config=a,this.view=_r(s),this.name=t.name??i,this.title=Qu(t.title)?{text:t.title}:t.title?_r(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new A$,this.projectionNameMap=r?r.projectionNameMap:new A$,this.signalNameMap=r?r.signalNameMap:new A$,this.data=t.data,this.description=t.description,this.transforms=k8e(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:$6e(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Ck(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Tu,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?Ge(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){CWe(this)}parseProjection(){gue(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){fue(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const a of ue(r)){const o=r[a];o!==void 0&&(i[a]=an(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=an(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Wt(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,a=K7e(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...a?{titleBand:a}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Ja)t[r].title&&n.push(H7e(this,r));for(const r of C4)n=n.concat(q7e(this,r));return n}assembleAxes(){return T7e(this.component.axes,this.config)}assembleLegends(){return hue(this)}assembleProjections(){return xUe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Ooe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return lt(["unit","layer"],this.type)?lt(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Wt(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Sa(this.parent)?bue(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return fn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(vn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Sa(this.parent)){const n=iue(t),r=gk(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),o=i.get("range");if(hr(a)&&gh(o)){const s=i.get("name"),l=Gk(this,r),u=j4(l);if(u){const c=_e({aggregate:"distinct",field:u},{expr:"datum"});return{signal:rue(s,i,c)}}else return fe(N5(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(boe(t)&&ml(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(O4e(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class $ue extends L4{vgField(t,n={}){const r=this.fieldDef(t);if(r)return _e(r,n)}reduceFieldDef(t,n){return a6e(this.getMapping(),(r,i,a)=>{const o=es(i);return o?t(r,o,a):r},n)}forEachFieldDef(t,n){o4(this.getMapping(),(r,i)=>{const a=es(r);a&&t(a,i)},n)}}class Vk extends Ft{clone(){return new Vk(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${dt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class Xk extends Ft{clone(){return new Xk(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${dt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class Yk extends Ft{clone(){return new Yk(this.parent,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((a,o)=>i[o]??a)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${dt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class Kk extends Ft{clone(){return new Kk(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${dt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Gp extends Ft{clone(){return new Gp(null,Ge(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[us,ls],[ho,cs]]){const a=i.map(o=>{const s=Xn(n.encoding[o]);return de(s)?s.field:gl(s)?{expr:`${s.datum}`}:Jo(s)?{expr:`${s.value}`}:void 0});(a[0]||a[1])&&(t=new Gp(t,a,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Ji)){const i=n.typedFieldDef(Ji);i.type===Dg&&(t=new Gp(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ee);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${dt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class u1 extends Ft{clone(){return new u1(null,this.projection,Ge(this.fields),Ge(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[us,ls],[ho,cs]]){const i=r.map(o=>{const s=Xn(n.encoding[o]);return de(s)?s.field:gl(s)?{expr:`${s.datum}`}:Jo(s)?{expr:`${s.value}`}:void 0}),a=r[0]===ho?"2":"";(i[0]||i[1])&&(t=new u1(t,n.projectionName(),i,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ee))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${dt(this.fields)} ${dt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class md extends Ft{clone(){return new md(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new md(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,a=r.y;if(de(i)&&de(a)){const o=i.impute?i:a.impute?a:void 0;if(o===void 0)return;const s=i.impute?a:a.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=o.impute,d=Lse(n.mark,r);return new md(t,{impute:o.field,key:s.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${dt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:a,value:o,frame:s=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:s8e(r)?this.processSequence(r):r}:{},method:"value",...a?{groupby:a}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:s,ignorePeers:!1,...a?{groupby:a}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class Zk extends Ft{clone(){return new Zk(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${dt(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class c1 extends Ft{clone(){return new c1(null,Ge(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const a=n.component.data.sources,{from:o}=r;let s=null;if(l8e(o)){let l=Mue(o.data,a);l||(l=new Xd(o.data),a.push(l));const u=n.getName(`lookup_${i}`);s=new Xi(l,u,vn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=s}else if(u8e(o)){const l=o.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(fn(l),l)}catch{throw new Error(N4e(l))}if(s=u.materialized,!s)throw new Error(M4e(l))}return new c1(t,r,s.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ae(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${dt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Ae(this.transform.as)}:{}};else{let n=this.transform.as;Ee(n)||(fe(H4e),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class Qk extends Ft{clone(){return new Qk(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${dt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class Jk extends Ft{clone(){return new Jk(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${dt(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class eC extends Ft{clone(){return new eC(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ts((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${dt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:a}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...a!==void 0?{op:a}:{},...r!==void 0?{groupby:r}:{}}}}class tC extends Ft{clone(){return new tC(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${dt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Tue(e){let t=0;function n(r,i){if(r instanceof Xd&&!r.isGenerator&&!jm(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Gr&&(r.parent instanceof Xd&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof Lg){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Yx||r instanceof Kx||r instanceof zm||r instanceof Ig||r instanceof Lm||r instanceof u1||r instanceof Go||r instanceof c1||r instanceof Fg||r instanceof wh||r instanceof Kk||r instanceof Yk||r instanceof Vk||r instanceof Zk||r instanceof Qk||r instanceof Jk||r instanceof Vc||r instanceof tC||r instanceof eC||r instanceof Xk)&&i.transform.push(r.assemble()),(r instanceof Ws||r instanceof Bs||r instanceof md||r instanceof ou||r instanceof Gp)&&i.transform.push(...r.assemble()),r instanceof Xi&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Xi?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Xi&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let a=i.name;!i.source||i.transform.length>0?e.push(i):a=i.source;for(const o of r.children)n(o,{name:null,source:a,transform:[]});break}}}return n}function TWe(e){const t=[],n=Tue(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function NWe(e,t){const n=[],r=Tue(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const s=o.assemble();r(o,s)}for(const o of n)o.transform.length===0&&delete o.transform;let a=0;for(const[o,s]of n.entries())(s.transform??[]).length===0&&!s.source&&n.splice(a++,0,n.splice(o,1)[0]);for(const o of n)for(const s of o.transform??[])s.type==="lookup"&&(s.from=e.outputNodes[s.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function MWe(e){return e==="top"||e==="left"||Ne(e)?"header":"footer"}function DWe(e){for(const t of Ja)jWe(e,t);BH(e,"x"),BH(e,"y")}function jWe(e,t){var o;const{facet:n,config:r,child:i,component:a}=e;if(e.channelHasField(t)){const s=n[t],l=Rm("title",null,r,t);let u=Hp(s,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=ae(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Rm("labelOrient",s.header,r,t),f=s.header!==null?Tn((o=s.header)==null?void 0:o.labels,r.header.labels,!0):!1,d=lt(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]={title:s.header!==null?u:null,facetFieldDef:s,[d]:t==="facet"?[]:[Nue(e,t,f)]}}}function Nue(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function BH(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=$4(i,t),i.axis[t]==="shared"){const a=t==="x"?"column":"row",o=r[a];for(const s of n.component.axes[t]){const l=MWe(s.get("orient"));o[l]??(o[l]=[Nue(e,a,!1)]);const u=P0(s,"main",e.config,{header:!0});u&&o[l][0].axes.push(u),s.mainExtracted=!0}}}}function IWe(e){F4(e),TS(e,"width"),TS(e,"height")}function LWe(e){F4(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";TS(e,t),TS(e,n)}function F4(e){for(const t of e.children)t.parseLayoutSize()}function TS(e,t){const n=iue(t),r=gk(n),i=e.component.resolve,a=e.component.layoutSize;let o;for(const s of e.children){const l=s.component.layoutSize.getWithExplicit(n),u=i.scale[r]??oue(r,e);if(u==="independent"&&l.value==="step"){o=void 0;break}if(o){if(u==="independent"&&o.value!==l.value){o=void 0;break}o=Gc(o,l,n,"")}else o=l}if(o){for(const s of e.children)e.renameSignal(s.getName(n),e.getName(t)),s.component.layoutSize.set(n,"merged",!1);a.setWithExplicit(t,o)}else a.setWithExplicit(t,{explicit:!1,value:void 0})}function FWe(e){const{size:t,component:n}=e;for(const r of Pu){const i=ea(r);if(t[i]){const a=t[i];n.layoutSize.set(i,rl(a)?"step":a,!0)}else{const a=RWe(e,i);n.layoutSize.set(i,a,!1)}}}function RWe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),o=i.get("range");if(hr(a)){const s=kS(r.view,t);return gh(o)||rl(s)?"step":s}else return dD(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return dD(r.view,t);{const a=kS(r.view,t);return rl(a)?a.step:a}}}function ND(e,t,n){return _e(t,{suffix:`by_${_e(e)}`,...n})}class ov extends $ue{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=W4(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!zx(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=ue(t),r={};for(const i of n){if(![nu,ru].includes(i)){fe(xk(i,"facet"));break}const a=t[i];if(a.field===void 0){fe(sD(a,i));break}r[i]=this.initFacetFieldDef(a,i)}return r}initFacetFieldDef(t,n){const r=a4(t,n);return r.header?r.header=_r(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return ce(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=nC(this),this.child.parseData()}parseLayoutSize(){F4(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Us(t))&&D5(M5)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),DWe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Ja)for(const r of O4){const i=this.component.layoutHeaders[n],a=i[r],{facetFieldDef:o}=i;if(o){const s=Rm("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(s)){const l=Hk(n,s);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(a!=null&&a[0]){const s=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(s)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ov))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof ov?{...this.channelHasField("column")?{encode:{update:{columns:{field:_e(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof ov){if(this.child.channelHasField("column")){const i=_e(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Pu){const a=this.child.component.scales[i];if(a&&!a.merged){const o=a.get("type"),s=a.get("range");if(hr(o)&&gh(s)){const l=Gk(this.child,i),u=j4(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):fe(N5(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:a,ops:o,as:s}=this.getCardinalityAggregateForChild(),l=[];for(const c of Ja){const f=this.facet[c];if(f){l.push(_e(f));const{bin:d,sort:p}=f;if(Jt(d)&&l.push(_e(f,{binSuffix:"end"})),iu(p)){const{field:m,op:g=kk}=p,x=ND(f,p);r&&i?(a.push(x),o.push("max"),s.push(x)):(a.push(m),o.push(g),s.push(x))}else if(ae(p)){const m=Fm(f,c);a.push(m),o.push("max"),s.push(m)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||a.length>0?{aggregate:{...u?{cross:u}:{},...a.length?{fields:a,ops:o,as:s}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?iu(r.sort)?[ND(r,r.sort,{expr:"datum"})]:ae(r.sort)?[Fm(r,t,{expr:"datum"})]:[_e(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(iu(i)?i.order:!ae(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return AD(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const a of C4)if(t[a]){const o=Rm("labelOrient",(i=t[a])==null?void 0:i.header,n,a);if(r[a].includes(o))return AD(t[a],a,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=TWe(n),i=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...a?{title:a}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Ja.map(l=>this.facetSortFields(l)).flat(),order:Ja.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(q8e(this,[]))}]}getMapping(){return this.facet}}function zWe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(iu(a.sort)){const{field:o,op:s=kk}=a.sort;e=i=new wh(e,{joinaggregate:[{op:s,field:o,as:ND(a,a.sort,{forAs:!0})}],groupby:[_e(a)]})}return i}return null}function Mue(e,t){var n,r,i,a;for(const o of t){const s=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=s.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(a=s.format)==null?void 0:a.mesh;if(!((l||f)&&l!==f)){if(o1(e)&&o1(s)){if(va(e.values,s.values))return o}else if(jm(e)&&jm(s)){if(e.url===s.url)return o}else if(hle(e)&&e.name===o.dataName)return o}}return null}function BWe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Xd({values:[]});return t.push(r),r}const n=Mue(e.data,t);if(n)return $c(e.data)||(n.data.format=loe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Xd(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function UWe(e,t,n){let r=0;for(const i of t.transforms){let a,o;if(x8e(i))o=e=new Lm(e,i),a="derived";else if(y4(i)){const s=NUe(i);o=e=Gr.makeWithAncestors(e,{},s,n)??e,e=new Ig(e,t,i.filter)}else if(lle(i))o=e=Ws.makeFromTransform(e,i,t),a="number";else if(_8e(i))a="date",n.getWithExplicit(i.field).value===void 0&&(e=new Gr(e,{[i.field]:a}),n.set(i.field,a,!1)),o=e=Bs.makeFromTransform(e,i);else if(w8e(i))o=e=Go.makeFromTransform(e,i),a="number",S4(t)&&(e=new Vc(e));else if(sle(i))o=e=c1.make(e,t,i,r++),a="derived";else if(g8e(i))o=e=new Fg(e,i),a="number";else if(y8e(i))o=e=new wh(e,i),a="number";else if(S8e(i))o=e=ou.makeFromTransform(e,i),a="derived";else if(E8e(i))o=e=new Kk(e,i),a="derived";else if(A8e(i))o=e=new Xk(e,i),a="derived";else if(v8e(i))o=e=new Yk(e,i),a="derived";else if(c8e(i))o=e=new eC(e,i),a="derived";else if(m8e(i))e=new tC(e,i);else if(b8e(i))o=e=md.makeFromTransform(e,i),a="derived";else if(f8e(i))o=e=new Vk(e,i),a="derived";else if(d8e(i))o=e=new Qk(e,i),a="derived";else if(h8e(i))o=e=new Jk(e,i),a="derived";else if(p8e(i))o=e=new Zk(e,i),a="derived";else{fe(W4e(i));continue}if(o&&a!==void 0)for(const s of o.producedFields()??[])n.set(s,a,!1)}return e}function nC(e){var x;let t=BWe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&($c(i)||jm(i)||o1(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new L8e;$c(i)?(ple(i)?t=new Kx(t,i.sequence):v4(i)&&(t=new Yx(t,i.graticule)),o.parseNothing=!0):((x=i==null?void 0:i.format)==null?void 0:x.parse)===null&&(o.parseNothing=!0),t=Gr.makeExplicit(t,e,o)??t,t=new Vc(t);const s=e.parent&&Rg(e.parent);(yn(e)||Sa(e))&&s&&(t=Ws.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=UWe(t,e,o));const l=DUe(e),u=MUe(e);t=Gr.makeWithAncestors(t,{},{...l,...u},o)??t,yn(e)&&(t=Gp.parseAll(t,e),t=u1.parseAll(t,e)),(yn(e)||Sa(e))&&(s||(t=Ws.makeFromEncoding(t,e)??t),t=Bs.makeFromEncoding(t,e)??t,t=Lm.parseAllForSortIndex(t,e));const c=t=v_(vn.Raw,e,t);if(yn(e)){const v=Go.makeFromEncoding(t,e);v&&(t=v,S4(e)&&(t=new Vc(t))),t=md.makeFromEncoding(t,e)??t,t=ou.makeFromEncoding(t,e)??t}let f,d;if(yn(e)){const{markDef:v,mark:b,config:_}=e,k=Ut("invalid",v,_),{marks:E,scales:A}=d=gle({invalid:k,isPath:hf(b)});E!==A&&A==="include-invalid-values"&&(f=t=v_(vn.PreFilterInvalid,e,t)),E==="exclude-invalid-values"&&(t=zm.make(t,e,d)??t)}const p=t=v_(vn.Main,e,t);let m;if(yn(e)&&d){const{marks:v,scales:b}=d;v==="include-invalid-values"&&b==="exclude-invalid-values"&&(t=zm.make(t,e,d)??t,m=t=v_(vn.PostFilterInvalid,e,t))}yn(e)&&P7e(e,p);let g=null;if(Sa(e)){const v=e.getName("facet");t=zWe(t,e.facet)??t,g=new Lg(t,e,v,p.getSource()),n[v]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:p,facetRoot:g,ancestorParse:o,preFilterInvalid:f,postFilterInvalid:m}}function v_(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,a=t.getDataName(e),o=new Xi(n,a,e,i);return r[a]=o,o}class WWe extends L4{constructor(t,n,r,i){var a,o,s,l;super(t,"concat",n,r,i,t.resolve),(((o=(a=t.resolve)==null?void 0:a.axis)==null?void 0:o.x)==="shared"||((l=(s=t.resolve)==null?void 0:s.axis)==null?void 0:l.y)==="shared")&&fe(z4e),this.children=this.getChildren(t).map((u,c)=>W4(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=nC(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Us(t))&&D5(M5)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return Mk(t)?t.vconcat:m4(t)?t.hconcat:t.concat}parseLayoutSize(){LWe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=P4(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function HWe(e){return e===!1||e===null}const qWe={disable:1,gridScale:1,scale:1,...Tse,labelExpr:1,encode:1},Due=ue(qWe);class R4 extends Tu{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new R4(Ge(this.explicit),Ge(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!HWe(this.get(t))}hasOrientSignalRef(){return Ne(this.explicit.orient)}}function GWe(e,t,n){const{encoding:r,config:i}=e,a=Xn(r[t])??Xn(r[pl(t)]),o=e.axis(t)||{},{format:s,formatType:l}=o;if(Wd(l))return{text:Uo({fieldOrDatumDef:a,field:"datum.value",format:s,formatType:l,config:i}),...n};if(s===void 0&&l===void 0&&i.customFormatTypes){if(Nm(a)==="quantitative"){if(Mm(a)&&a.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Uo({fieldOrDatumDef:a,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Uo({fieldOrDatumDef:a,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Nm(a)==="temporal"&&i.timeFormatType&&de(a)&&!a.timeUnit)return{text:Uo({fieldOrDatumDef:a,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function VWe(e){return Pu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[eHe(n,e)]),t),{})}const XWe={bottom:"top",top:"bottom",left:"right",right:"left"};function YWe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const a of ue(i.component.axes))n.axis[a]=$4(e.component.resolve,a),n.axis[a]==="shared"&&(t[a]=KWe(t[a],i.component.axes[a]),t[a]||(n.axis[a]="independent",delete t[a]))}for(const i of Pu){for(const a of e.children)if(a.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(a.component.axes[i]);for(const o of a.component.axes[i]){const{value:s,explicit:l}=o.getWithExplicit("orient");if(!Ne(s)){if(r[s]>0&&!l){const u=XWe[s];r[s]>r[u]&&o.set("orient",u,!1)}r[s]++}}}delete a.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[a,o]of(t[i]||[]).entries())a>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function KWe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const o=i.getWithExplicit("orient"),s=a.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;e[r]=ZWe(i,a)}}}else return t.map(n=>n.clone());return e}function ZWe(e,t){for(const n of Due){const r=Gc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return joe(i,a);case"gridScale":return{explicit:i.explicit,value:Tn(i.value,a.value)}}return jk(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function QWe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ne(n.labelAngle)?n.labelAngle:i1(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Jle(r,i))return!0}return e===n[t]}const JWe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function eHe(e,t){var v,b;let n=t.axis(e);const r=new R4,i=Xn(t.encoding[e]),{mark:a,config:o}=t,s=(n==null?void 0:n.orient)||((v=o[e==="x"?"axisX":"axisY"])==null?void 0:v.orient)||((b=o.axis)==null?void 0:b.orient)||R7e(e),l=t.getScaleComponent(e).get("type"),u=N7e(e,l,s,t.config),c=n!==void 0?!n:SD("disable",o.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=I7e(i,n,e,o.style,u),d=yse(n.formatType,i,l),p=gse(i,i.type,n.format,n.formatType,o,!0),m={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:s,labelAngle:f,format:p,formatType:d,mark:a,config:o};for(const _ of Due){const k=_ in kH?kH[_](m):GW(_)?n[_]:void 0,E=k!==void 0,A=QWe(k,_,n,t,e);if(E&&A)r.set(_,k,A);else{const{configValue:C=void 0,configFrom:P=void 0}=GW(_)&&_!=="values"?SD(_,o.style,n.style,u):{},T=C!==void 0;E&&!T?r.set(_,k,A):(P!=="vgAxisConfig"||JWe.has(_)&&T||Hx(C)||Ne(C))&&r.set(_,C,!1)}}const g=n.encoding??{},x=$se.reduce((_,k)=>{if(!r.hasAxisPart(k))return _;const E=aue(g[k]??{},t),A=k==="labels"?GWe(t,e,E):E;return A!==void 0&&!Wt(A)&&(_[k]={update:A}),_},{});return Wt(x)||r.set("encode",x,!!n.encoding||n.labelAngle!==void 0),r}function tHe({encoding:e,size:t}){for(const n of Pu){const r=ea(n);rl(t[r])&&pc(e[n])&&(delete t[r],fe(zoe(r)))}return t}const nHe={vgMark:"arc",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...yi("x",e,{defaultPos:"mid"}),...yi("y",e,{defaultPos:"mid"}),...vu(e,"radius"),...vu(e,"theta")})},rHe={vgMark:"area",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...CS("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...CS("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...w4(e)})},iHe={vgMark:"rect",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...vu(e,"x"),...vu(e,"y")})},aHe={vgMark:"shape",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&de(n)&&n.type===Dg?{field:_e(n,{expr:"datum"})}:{}}]}},oHe={vgMark:"image",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...vu(e,"x"),...vu(e,"y"),...b4(e,"url")})},sHe={vgMark:"line",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...yi("x",e,{defaultPos:"mid"}),...yi("y",e,{defaultPos:"mid"}),...Sr("size",e,{vgChannel:"strokeWidth"}),...w4(e)})},lHe={vgMark:"trail",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...yi("x",e,{defaultPos:"mid"}),...yi("y",e,{defaultPos:"mid"}),...Sr("size",e),...w4(e)})};function z4(e,t){const{config:n}=e;return{...vo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...yi("x",e,{defaultPos:"mid"}),...yi("y",e,{defaultPos:"mid"}),...Sr("size",e),...Sr("angle",e),...uHe(e,n,t)}}function uHe(e,t,n){return n?{shape:{value:n}}:Sr("shape",e)}const cHe={vgMark:"symbol",encodeEntry:e=>z4(e)},fHe={vgMark:"symbol",encodeEntry:e=>z4(e,"circle")},dHe={vgMark:"symbol",encodeEntry:e=>z4(e,"square")},hHe={vgMark:"rect",encodeEntry:e=>({...vo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...vu(e,"x"),...vu(e,"y")})},pHe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...vo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...CS("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...CS("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Sr("size",e,{vgChannel:"strokeWidth"})}}},mHe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...vo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...yi("x",e,{defaultPos:"mid"}),...yi("y",e,{defaultPos:"mid"}),...b4(e),...Sr("size",e,{vgChannel:"fontSize"}),...Sr("angle",e),...mH("align",gHe(e.markDef,n,t)),...mH("baseline",yHe(e.markDef,n,t)),...yi("radius",e,{defaultPos:null}),...yi("theta",e,{defaultPos:null})}}};function gHe(e,t,n){if(Ut("align",e,n)===void 0)return"center"}function yHe(e,t,n){if(Ut("baseline",e,n)===void 0)return"middle"}const vHe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",a=r==="horizontal"?"y":"x",o=r==="horizontal"?"height":"width";return{...vo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...vu(e,i),...yi(a,e,{defaultPos:"mid",vgChannel:a==="y"?"yc":"xc"}),[o]:an(Ut("thickness",n,t))}}},x_={arc:nHe,area:rHe,bar:iHe,circle:fHe,geoshape:aHe,image:oHe,line:sHe,point:cHe,rect:hHe,rule:pHe,square:dHe,text:mHe,tick:vHe,trail:lHe};function xHe(e){if(lt([Ek,wk,gBe],e.mark)){const t=Lse(e.mark,e.encoding);if(t.length>0)return bHe(e,t)}else if(e.mark===Sk){const t=aD.some(n=>Ut(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return _He(e)}return B4(e)}const UH="faceted_path_";function bHe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:UH+e.requestDataName(vn.Main),data:e.requestDataName(vn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:B4(e,{fromPrefix:UH})}]}const WH="stack_group_";function _He(e){var u;const[t]=B4(e,{fromPrefix:WH}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(p=>`scale('${n}',${p})`).join(",")})`};let a,o;e.stack.fieldChannel==="x"?(a={...km(t.encode.update,["y","yc","y2","height",...aD]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Vi(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={...km(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Vi(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of aD){const f=tl(c,e.markDef,e.config);t.encode.update[c]?(a[c]=t.encode.update[c],delete t.encode.update[c]):f&&(a[c]=an(f)),f&&(t.encode.update[c]={value:0})}const s=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=_e(f);d&&s.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&s.push(_e(f,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=tl(f,e.markDef,e.config);return d!==void 0?{...c,[f]:an(d)}:c}},a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(vn.Main),name:WH+e.requestDataName(vn.Main),groupby:s,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function wHe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:a}=e,o=t.order;if(!(!ae(o)&&Jo(o)&&rD(o.value)||!o&&rD(Ut("order",i,a)))){if((ae(o)||de(o))&&!n)return Noe(o,{expr:"datum"});if(hf(r)){const s=i.orient==="horizontal"?"y":"x",l=t[s];if(de(l))return{field:s}}}}function B4(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:a}=e,o=Tn(r.clip,SHe(e),EHe(e)),s=$oe(r),l=i.key,u=wHe(e),c=AHe(e),f=Ut("aria",r,a),d=x_[n].postEncodingTransform?x_[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:x_[n].vgMark,...o?{clip:o}:{},...s?{style:s}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(vn.Main)},encode:{update:x_[n].encodeEntry(e)},...d?{transform:d}:{}}]}function SHe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function EHe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function AHe(e){if(!e.component.selection)return null;const t=ue(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=ue(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class jue extends $ue{constructor(t,n,r,i={},a){super(t,"unit",n,r,a,void 0,XW(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>{var c,f,d;return(c=u.from)!=null&&c.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+vle)),(d=(f=u.from)==null?void 0:f.facet)!=null&&d.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u};const o=nl(t.mark)?{...t.mark}:{type:t.mark},s=o.type;o.filled===void 0&&(o.filled=J6e(o,a,{graticule:t.data&&v4(t.data)}));const l=this.encoding=r6e(t.encoding||{},s,o.filled,a);this.markDef=ile(o,l,a),this.size=tHe({encoding:l,size:XW(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=rle(this.markDef,l),this.specifiedScales=this.initScales(s,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>h4(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===use,r=t&&Y5e.some(i=>Ye(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return P5.reduce((r,i)=>{const a=Xn(n[i]);return a&&(r[i]=this.initScale(a.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=_r(t);return ae(n)&&(i.domain=n.map(pa)),ae(r)&&(i.range=r.map(pa)),i}initAxes(t){return Pu.reduce((n,r)=>{const i=t[r];if(Ye(i)||r===hn&&Ye(t.x2)||r===mr&&Ye(t.y2)){const a=Ye(i)?i.axis:void 0;n[r]=a&&this.initAxis({...a})}return n},{})}initAxis(t){const n=ue(t),r={};for(const i of n){const a=t[i];r[i]=Hx(a)?Poe(a):pa(a)}return r}initLegends(t){return o4e.reduce((n,r)=>{const i=Xn(t[r]);if(i&&l4e(r)){const a=i.legend;n[r]=a&&_r(a)}return n},{})}parseData(){this.component.data=nC(this)}parseLayoutSize(){FWe(this)}parseSelections(){this.component.selection=O7e(this,this.selection)}parseMarkGroup(){this.component.mark=xHe(this)}parseAxesAndHeaders(){this.component.axes=VWe(this)}assembleSelectionTopLevelSignals(t){return G8e(this,t)}assembleSignals(){return[...Kle(this),...H8e(this,[])]}assembleSelectionData(t){return V8e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return P4(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Rg(this.parent))&&(t=wle(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return hd(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return es(n)}typedFieldDef(t){const n=this.fieldDef(t);return Ai(n)?n:null}}class U4 extends L4{constructor(t,n,r,i,a){super(t,"layer",n,r,a,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((s,l)=>{if(Dk(s))return new U4(s,this,this.getName(`layer_${l}`),o,a);if($u(s))return new jue(s,this,this.getName(`layer_${l}`),o,a);throw new Error(T5(s))})}parseData(){this.component.data=nC(this);for(const t of this.children)t.parseData()}parseLayoutSize(){IWe(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Us(t))&&D5(M5)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){YWe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),Kle(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),P4(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Ae(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return X8e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),hue(this))}}function W4(e,t,n,r,i){if(Ck(e))return new ov(e,t,n,i);if(Dk(e))return new U4(e,t,n,r,i);if($u(e))return new jue(e,t,n,r,i);if(C6e(e))return new WWe(e,t,n,i);throw new Error(T5(e))}function kHe(e,t={}){t.logger&&$ze(t.logger),t.fieldTitle&&Cse(t.fieldTitle);try{const n=nle(mg(t.config,e.config)),r=fle(e,n),i=W4(r,null,"",void 0,n);return i.parse(),KUe(i.component.data,i),{spec:OHe(i,CHe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&Tze(),t.fieldTitle&&XBe()}}function CHe(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ee(t)&&(t={type:t}),i&&a&&D8e(t.type)){if(i==="step"&&a==="step")fe(NW()),t.type="pad";else if(i==="step"||a==="step"){const o=i==="step"?"width":"height";fe(NW(gk(o)));const s=o==="width"?"height":"width";t.type=j8e(s)}}return{...ue(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...oH(n,!1),...oH(e,!0)}}function OHe(e,t,n={},r){const i=e.config?B6e(e.config):void 0,a=NWe(e.component.data,n),o=e.assembleSelectionData(a),s=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let f=e.assembleLayoutSignals();f=f.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(t[m.name]=+m.value,!1):!0);const{params:d,...p}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...p,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...f,...e.assembleSelectionTopLevelSignals([]),...Qse(d)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const PHe=W5e.version,$He=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Om,accessPathWithDatum:_5,accessWithDatumToUnescapedPath:Dt,compile:kHe,contains:lt,deepEqual:va,deleteNestedProperty:yS,duplicate:Ge,entries:Wc,every:v5,fieldIntersection:b5,flatAccessWithDatum:coe,getFirstDefined:Tn,hasIntersection:x5,hasProperty:ce,hash:dt,internalField:hoe,isBoolean:r1,isEmpty:Wt,isEqual:q5e,isInternalField:poe,isNullOrFalse:rD,isNumeric:ck,keys:ue,logicalExpr:rv,mergeDeep:loe,never:soe,normalize:fle,normalizeAngle:i1,omit:Vi,pick:km,prefixGenerator:iD,removePathFromField:Ng,replaceAll:Ld,replacePathInField:fo,resetIdCounter:V5e,setEqual:uoe,some:Cm,stringify:Ht,titleCase:Mx,unique:Ts,uniqueId:doe,vals:$r,varName:fn,version:PHe},Symbol.toStringTag,{value:"Module"}));function Iue(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var THe="2.15.0",NHe={version:THe};const Kh="#fff",HH="#888",MHe={background:"#333",view:{stroke:HH},title:{color:Kh,subtitleColor:Kh},style:{"guide-label":{fill:Kh},"guide-title":{fill:Kh}},axis:{domainColor:Kh,gridColor:HH,tickColor:Kh}},kf="#4572a7",DHe={background:"#fff",arc:{fill:kf},area:{fill:kf},line:{stroke:kf,strokeWidth:2},path:{stroke:kf},rect:{fill:kf},shape:{stroke:kf},symbol:{fill:kf,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Cf="#30a2da",k$="#cbcbcb",jHe="#999",IHe="#333",qH="#f0f0f0",GH="#333",LHe={arc:{fill:Cf},area:{fill:Cf},axis:{domainColor:k$,grid:!0,gridColor:k$,gridWidth:1,labelColor:jHe,labelFontSize:10,titleColor:IHe,tickColor:k$,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:qH,group:{fill:qH},legend:{labelColor:GH,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:GH,titleFontSize:14,titlePadding:10},line:{stroke:Cf,strokeWidth:2},path:{stroke:Cf,strokeWidth:.5},rect:{fill:Cf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Cf},bar:{binSpacing:2,fill:Cf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Of="#000",FHe={group:{fill:"#e5e5e5"},arc:{fill:Of},area:{fill:Of},line:{stroke:Of},path:{stroke:Of},rect:{fill:Of},shape:{stroke:Of},symbol:{fill:Of,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},RHe=22,zHe="normal",VH="Benton Gothic, sans-serif",XH=11.5,BHe="normal",Pf="#82c6df",C$="Benton Gothic Bold, sans-serif",YH="normal",KH=13,Vy={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},UHe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:C$,fontSize:RHe,fontWeight:zHe},arc:{fill:Pf},area:{fill:Pf},line:{stroke:Pf,strokeWidth:2},path:{stroke:Pf},rect:{fill:Pf},shape:{stroke:Pf},symbol:{fill:Pf,size:30},axis:{labelFont:VH,labelFontSize:XH,labelFontWeight:BHe,titleFont:C$,titleFontSize:KH,titleFontWeight:YH},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:VH,labelFontSize:XH,symbolType:"square",titleFont:C$,titleFontSize:KH,titleFontWeight:YH},range:{category:Vy["category-6"],diverging:Vy["fireandice-6"],heatmap:Vy["fire-7"],ordinal:Vy["fire-7"],ramp:Vy["fire-7"]}},$f="#ab5787",b_="#979797",WHe={background:"#f9f9f9",arc:{fill:$f},area:{fill:$f},line:{stroke:$f},path:{stroke:$f},rect:{fill:$f},shape:{stroke:$f},symbol:{fill:$f,size:30},axis:{domainColor:b_,domainWidth:.5,gridWidth:.2,labelColor:b_,tickColor:b_,tickWidth:.2,titleColor:b_},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Tf="#3e5c69",HHe={background:"#fff",arc:{fill:Tf},area:{fill:Tf},line:{stroke:Tf},path:{stroke:Tf},rect:{fill:Tf},shape:{stroke:Tf},symbol:{fill:Tf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ba="#1696d2",ZH="#000000",qHe="#FFFFFF",__="Lato",O$="Lato",GHe="Lato",VHe="#DEDDDD",XHe=18,Xy={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},YHe={background:qHe,title:{anchor:"start",fontSize:XHe,font:__},axisX:{domain:!0,domainColor:ZH,domainWidth:1,grid:!1,labelFontSize:12,labelFont:O$,labelAngle:0,tickColor:ZH,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:__},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:VHe,gridWidth:1,labelFontSize:12,labelFont:O$,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:__,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:O$,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:__,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Xy["six-groups-cat-1"],diverging:Xy["diverging-colors"],heatmap:Xy["diverging-colors"],ordinal:Xy["six-groups-seq"],ramp:Xy["shades-blue"]},area:{fill:Ba},rect:{fill:Ba},line:{color:Ba,stroke:Ba,strokeWidth:5},trail:{color:Ba,stroke:Ba,strokeWidth:0,size:1},path:{stroke:Ba,strokeWidth:.5},point:{filled:!0},text:{font:GHe,color:Ba,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ba,stroke:null}},arc:{fill:Ba},shape:{stroke:Ba},symbol:{fill:Ba,size:30}},Nf="#3366CC",QH="#ccc",w_="Arial, sans-serif",KHe={arc:{fill:Nf},area:{fill:Nf},path:{stroke:Nf},rect:{fill:Nf},shape:{stroke:Nf},symbol:{stroke:Nf},circle:{fill:Nf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:w_,fontSize:12},"guide-title":{font:w_,fontSize:12},"group-title":{font:w_,fontSize:12}},title:{font:w_,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:QH,tickColor:QH,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},H4=e=>e*(1/3+1),JH=H4(9),eq=H4(10),tq=H4(12),Yy="Segoe UI",nq="wf_standard-font, helvetica, arial, sans-serif",rq="#252423",Ky="#605E5C",iq="transparent",ZHe="#C8C6C4",Oo="#118DFF",QHe="#12239E",JHe="#E66C37",eqe="#6B007B",tqe="#E044A7",nqe="#744EC2",rqe="#D9B300",iqe="#D64550",Lue=Oo,Fue="#DEEFFF",aq=[Fue,Lue],aqe=[Fue,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Lue],oqe={view:{stroke:iq},background:iq,font:Yy,header:{titleFont:nq,titleFontSize:tq,titleColor:rq,labelFont:Yy,labelFontSize:eq,labelColor:Ky},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Ky,labelFontSize:JH,titleFont:nq,titleColor:rq,titleFontSize:tq,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:ZHe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Oo},line:{stroke:Oo,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Yy,fontSize:JH,fill:Ky},arc:{fill:Oo},area:{fill:Oo,line:!0,opacity:.6},path:{stroke:Oo},rect:{fill:Oo},point:{fill:Oo,filled:!0,size:75},shape:{stroke:Oo},symbol:{fill:Oo,strokeWidth:1.5,size:50},legend:{titleFont:Yy,titleFontWeight:"bold",titleColor:Ky,labelFont:Yy,labelFontSize:eq,labelColor:Ky,symbolType:"circle",symbolSize:75},range:{category:[Oo,QHe,JHe,eqe,tqe,nqe,rqe,iqe],diverging:aq,heatmap:aq,ordinal:aqe}},P$='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',sqe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',$$=400,S_={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},lqe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],uqe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function rC({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=S_.gridBg[e],i=S_.textPrimary[e],a=S_.textSecondary[e],o=n==="dark"?lqe:uqe,s=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:s},area:{fill:s},path:{stroke:s},rect:{fill:s},shape:{stroke:s},symbol:{stroke:s},circle:{fill:s},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:P$,fontWeight:600},axis:{labelColor:a,labelFontSize:12,labelFont:sqe,labelFontWeight:$$,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:S_.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:P$,fill:a,fontWeight:$$},"guide-title":{font:P$,fill:a,fontWeight:$$}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const cqe=rC({theme:"white",background:"#ffffff"}),fqe=rC({theme:"g10",background:"#f4f4f4"}),dqe=rC({theme:"g90",background:"#262626"}),hqe=rC({theme:"g100",background:"#161616"}),pqe=NHe.version,mqe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:fqe,carbong100:hqe,carbong90:dqe,carbonwhite:cqe,dark:MHe,excel:DHe,fivethirtyeight:LHe,ggplot2:FHe,googlecharts:KHe,latimes:UHe,powerbi:oqe,quartz:WHe,urbaninstitute:YHe,version:pqe,vox:HHe},Symbol.toStringTag,{value:"Module"}));function gqe(e,t,n,r){if(ae(e))return`[${e.map(i=>t(Ee(i)?i:oq(i,n))).join(", ")}]`;if(Se(e)){let i="";const{title:a,image:o,...s}=e;a&&(i+=`<h2>${t(a)}</h2>`),o&&(i+=`<img src="${new URL(t(o),r||location.href).href}">`);const l=Object.keys(s);if(l.length>0){i+="<table>";for(const u of l){let c=s[u];c!==void 0&&(Se(c)&&(c=oq(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function yqe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function oq(e,t){return JSON.stringify(e,yqe(t))}var vqe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Rue="vg-tooltip-element",xqe={offsetX:10,offsetY:10,id:Rue,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:bqe,maxDepth:2,formatTooltip:gqe,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function bqe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function _qe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return vqe.toString().replace(Rue,e)}function zue(e,t,{offsetX:n,offsetY:r}){const i=Bue({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),a=["bottom-right","bottom-left","top-right","top-left"];for(const o of a)if(Uue(i[o],t))return i[o];return i["top-left"]}function wqe(e,t,n,r,i){const{position:a,offsetX:o,offsetY:s}=i,l=e._el.getBoundingClientRect(),u=e._origin,c=Sqe(l,u,n),f=Bue(c,r,o,s),d=Array.isArray(a)?a:[a];for(const p of d)if(Uue(f[p],r)&&!Eqe(t,f[p],r))return f[p];return zue(t,r,i)}function Sqe(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,a=e.top+t[1]+r.y1,o=n;for(;o.mark.group;)o=o.mark.group,i+=o.x??0,a+=o.y??0;const s=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+s,y1:a,y2:a+l}}function Bue(e,t,n,r){const i=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,o=e.x1-t.width-n,s=i-t.width/2,l=e.x2+n,u=e.y1-t.height-r,c=a-t.height/2,f=e.y2+r;return{top:{x:s,y:u},bottom:{x:s,y:f},left:{x:o,y:c},right:{x:l,y:c},"top-left":{x:o,y:u},"top-right":{x:l,y:u},"bottom-left":{x:o,y:f},"bottom-right":{x:l,y:f}}}function Uue(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function Eqe(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class Aqe{constructor(t){this.options={...xqe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=_qe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:o}=this.options.anchor==="mark"?wqe(t,n,r,this.el.getBoundingClientRect(),this.options):zue(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${o}px`,this.el.style.left=`${a}px`}}var T$={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var kqe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cqe=Object.prototype.hasOwnProperty;function MD(e,t){return Cqe.call(e,t)}function DD(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)MD(e,i)&&r.push(i);return r}function xa(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function jD(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function zf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Wue(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function ID(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(ID(e[t]))return!0}else if(typeof e=="object"){for(var r=DD(e),i=r.length,a=0;a<i;a++)if(ID(e[r[a]]))return!0}}return!1}function sq(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Hue=function(e){kqe(t,e);function t(n,r,i,a,o){var s=this.constructor,l=e.call(this,sq(n,{name:r,index:i,operation:a,tree:o}))||this;return l.name=r,l.index=i,l.operation=a,l.tree=o,Object.setPrototypeOf(l,s.prototype),l.message=sq(n,{name:r,index:i,operation:a,tree:o}),l}return t}(Error),wn=Hue,Oqe=xa,Sp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=NS(n,this.path);r&&(r=xa(r));var i=gd(n,{op:"remove",path:this.from}).removed;return gd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=NS(n,this.from);return gd(n,{op:"add",path:this.path,value:xa(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:f1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Pqe={add:function(e,t,n){return jD(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Sp.move,copy:Sp.copy,test:Sp.test,_get:Sp._get};function NS(e,t){if(t=="")return e;var n={op:"_get",path:t};return gd(e,n),n.value}function gd(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):MS(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=NS(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=f1(e,t.value),o.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new wn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}}else{r||(e=xa(e));var s=t.path||"",l=s.split("/"),u=e,c=1,f=l.length,d=void 0,p=void 0,m=void 0;for(typeof n=="function"?m=n:m=MS;;){if(p=l[c],p&&p.indexOf("~")!=-1&&(p=Wue(p)),i&&(p=="__proto__"||p=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[p]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&m(t,0,e,d)),c++,Array.isArray(u)){if(p==="-")p=u.length;else{if(n&&!jD(p))throw new wn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);jD(p)&&(p=~~p)}if(c>=f){if(n&&t.op==="add"&&p>u.length)throw new wn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var o=Pqe[t.op].call(t,u,p,e);if(o.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(c>=f){var o=Sp[t.op].call(t,u,p,e);if(o.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(u=u[p],n&&c<f&&(!u||typeof u!="object"))throw new wn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function iC(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new wn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xa(e));for(var a=new Array(t.length),o=0,s=t.length;o<s;o++)a[o]=gd(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function $qe(e,t,n){var r=gd(e,t);if(r.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function MS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new wn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Sp[e.op]){if(typeof e.path!="string")throw new wn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new wn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new wn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new wn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&ID(e.value))throw new wn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new wn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new wn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},s=que([o],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new wn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new wn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function que(e,t,n){try{if(!Array.isArray(e))throw new wn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)iC(xa(t),xa(e),n||!0);else{n=n||MS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof wn)return i;throw i}}function f1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,o;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!f1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(a=s.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!f1(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}var Tqe=Object.freeze({__proto__:null,JsonPatchError:wn,_areEquals:f1,applyOperation:gd,applyPatch:iC,applyReducer:$qe,deepClone:Oqe,getValueByPointer:NS,validate:que,validator:MS});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var q4=new WeakMap,Nqe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Mqe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Dqe(e){return q4.get(e)}function jqe(e,t){return e.observers.get(t)}function Iqe(e,t){e.observers.delete(t.callback)}function Lqe(e,t){t.unobserve()}function Fqe(e,t){var n=[],r,i=Dqe(e);if(!i)i=new Nqe(e),q4.set(e,i);else{var a=jqe(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=xa(e),t){r.callback=t,r.next=null;var o=function(){LD(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){LD(r),clearTimeout(r.next),Iqe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new Mqe(t,r)),r}function LD(e,t){t===void 0&&(t=!1);var n=q4.get(e.object);G4(n.value,e.object,e.patches,"",t),e.patches.length&&iC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function G4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=DD(t),o=DD(e),s=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(MD(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?G4(c,f,n,r+"/"+zf(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+zf(u),value:xa(c)}),n.push({op:"replace",path:r+"/"+zf(u),value:xa(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+zf(u),value:xa(c)}),n.push({op:"remove",path:r+"/"+zf(u)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&a.length==o.length))for(var l=0;l<a.length;l++){var u=a[l];!MD(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+zf(u),value:xa(t[u])})}}}function Rqe(e,t,n){n===void 0&&(n=!1);var r=[];return G4(e,t,r,"",n),r}var zqe=Object.freeze({__proto__:null,compare:Rqe,generate:LD,observe:Fqe,unobserve:Lqe});Object.assign({},Tqe,zqe,{JsonPatchError:Hue,deepClone:xa,escapePathComponent:zf,unescapePathComponent:Wue});function Bqe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N$,lq;function Uqe(){if(lq)return N$;lq=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(n,r)}return this}}return N$=e,N$}var M$,uq;function V4(){if(uq)return M$;uq=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return M$=r=>r?typeof r!="object"?e:r:t,M$}var E_={exports:{}},D$,cq;function X4(){if(cq)return D$;cq=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return D$={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},D$}var j$,fq;function aC(){return fq||(fq=1,j$=typeof process=="object"&&T$&&T$.NODE_DEBUG&&/\bsemver\b/i.test(T$.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),j$}var dq;function Y4(){return dq||(dq=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=X4(),a=aC();t=e.exports={};const o=t.re=[],s=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[x,v]of d)g=g.split(`${x}*`).join(`${x}{0,${v}}`).split(`${x}+`).join(`${x}{1,${v}}`);return g},m=(g,x,v)=>{const b=p(x),_=c++;a(g,_,x),u[g]=_,l[_]=x,o[_]=new RegExp(x,v?"g":void 0),s[_]=new RegExp(b,v?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("COERCERTLFULL",l[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(E_,E_.exports)),E_.exports}var I$,hq;function Wqe(){if(hq)return I$;hq=1;const e=/^[0-9]+$/,t=(r,i)=>{const a=e.test(r),o=e.test(i);return a&&o&&(r=+r,i=+i),r===i?0:a&&!o?-1:o&&!a?1:r<i?-1:1};return I$={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},I$}var L$,pq;function K4(){if(pq)return L$;pq=1;const e=aC(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=X4(),{safeRe:r,t:i}=Y4(),a=V4(),{compareIdentifiers:o}=Wqe();class s{constructor(u,c){if(c=a(c),u instanceof s){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const f=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!f)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const p=+d;if(p>=0&&p<n)return p}return d}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof s)){if(typeof u=="string"&&u===this.version)return 0;u=new s(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof s||(u=new s(u,this.options)),o(this.major,u.major)||o(this.minor,u.minor)||o(this.patch,u.patch)}comparePre(u){if(u instanceof s||(u=new s(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const f=this.prerelease[c],d=u.prerelease[c];if(e("prerelease compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return o(f,d)}while(++c)}compareBuild(u){u instanceof s||(u=new s(u,this.options));let c=0;do{const f=this.build[c],d=u.build[c];if(e("build compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return o(f,d)}while(++c)}inc(u,c,f){switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,f),this.inc("pre",c,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,f),this.inc("pre",c,f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(f)?1:0;if(!c&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[d];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(c===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(c){let p=[c,d];f===!1&&(p=[c]),o(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return L$=s,L$}var F$,mq;function zg(){if(mq)return F$;mq=1;const e=K4();return F$=(n,r,i)=>new e(n,i).compare(new e(r,i)),F$}var R$,gq;function Hqe(){if(gq)return R$;gq=1;const e=zg();return R$=(n,r,i)=>e(n,r,i)===0,R$}var z$,yq;function qqe(){if(yq)return z$;yq=1;const e=zg();return z$=(n,r,i)=>e(n,r,i)!==0,z$}var B$,vq;function Gqe(){if(vq)return B$;vq=1;const e=zg();return B$=(n,r,i)=>e(n,r,i)>0,B$}var U$,xq;function Vqe(){if(xq)return U$;xq=1;const e=zg();return U$=(n,r,i)=>e(n,r,i)>=0,U$}var W$,bq;function Xqe(){if(bq)return W$;bq=1;const e=zg();return W$=(n,r,i)=>e(n,r,i)<0,W$}var H$,_q;function Yqe(){if(_q)return H$;_q=1;const e=zg();return H$=(n,r,i)=>e(n,r,i)<=0,H$}var q$,wq;function Kqe(){if(wq)return q$;wq=1;const e=Hqe(),t=qqe(),n=Gqe(),r=Vqe(),i=Xqe(),a=Yqe();return q$=(s,l,u,c)=>{switch(l){case"===":return typeof s=="object"&&(s=s.version),typeof u=="object"&&(u=u.version),s===u;case"!==":return typeof s=="object"&&(s=s.version),typeof u=="object"&&(u=u.version),s!==u;case"":case"=":case"==":return e(s,u,c);case"!=":return t(s,u,c);case">":return n(s,u,c);case">=":return r(s,u,c);case"<":return i(s,u,c);case"<=":return a(s,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},q$}var G$,Sq;function Zqe(){if(Sq)return G$;Sq=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new s(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new s(c,this.options)}catch{return!1}return a(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||a(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||a(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}G$=t;const n=V4(),{safeRe:r,t:i}=Y4(),a=Kqe(),o=aC(),s=K4(),l=Gue();return G$}var V$,Eq;function Gue(){if(Eq)return V$;Eq=1;const e=/\s+/g;class t{constructor(M,z){if(z=i(z),M instanceof t)return M.loose===!!z.loose&&M.includePrerelease===!!z.includePrerelease?M:new t(M.raw,z);if(M instanceof a)return this.raw=M.value,this.set=[[M]],this.formatted=void 0,this;if(this.options=z,this.loose=!!z.loose,this.includePrerelease=!!z.includePrerelease,this.raw=M.trim().replace(e," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(B=>!g(B[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&x(B[0])){this.set=[B];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let M=0;M<this.set.length;M++){M>0&&(this.formatted+="||");const z=this.set[M];for(let H=0;H<z.length;H++)H>0&&(this.formatted+=" "),this.formatted+=z[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(M){const H=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+M,B=r.get(H);if(B)return B;const G=this.options.loose,N=G?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];M=M.replace(N,I(this.options.includePrerelease)),o("hyphen replace",M),M=M.replace(l[u.COMPARATORTRIM],c),o("comparator trim",M),M=M.replace(l[u.TILDETRIM],f),o("tilde trim",M),M=M.replace(l[u.CARETTRIM],d),o("caret trim",M);let Z=M.split(" ").map(le=>b(le,this.options)).join(" ").split(/\s+/).map(le=>j(le,this.options));G&&(Z=Z.filter(le=>(o("loose invalid filter",le,this.options),!!le.match(l[u.COMPARATORLOOSE])))),o("range list",Z);const Y=new Map,U=Z.map(le=>new a(le,this.options));for(const le of U){if(g(le))return[le];Y.set(le.value,le)}Y.size>1&&Y.has("")&&Y.delete("");const me=[...Y.values()];return r.set(H,me),me}intersects(M,z){if(!(M instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>v(H,z)&&M.set.some(B=>v(B,z)&&H.every(G=>B.every(N=>G.intersects(N,z)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new s(M,this.options)}catch{return!1}for(let z=0;z<this.set.length;z++)if(W(this.set[z],M,this.options))return!0;return!1}}V$=t;const n=Uqe(),r=new n,i=V4(),a=Zqe(),o=aC(),s=K4(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=Y4(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=X4(),g=R=>R.value==="<0.0.0-0",x=R=>R.value==="",v=(R,M)=>{let z=!0;const H=R.slice();let B=H.pop();for(;z&&H.length;)z=H.every(G=>B.intersects(G,M)),B=H.pop();return z},b=(R,M)=>(o("comp",R,M),R=A(R,M),o("caret",R),R=k(R,M),o("tildes",R),R=P(R,M),o("xrange",R),R=D(R,M),o("stars",R),R),_=R=>!R||R.toLowerCase()==="x"||R==="*",k=(R,M)=>R.trim().split(/\s+/).map(z=>E(z,M)).join(" "),E=(R,M)=>{const z=M.loose?l[u.TILDELOOSE]:l[u.TILDE];return R.replace(z,(H,B,G,N,Z)=>{o("tilde",R,H,B,G,N,Z);let Y;return _(B)?Y="":_(G)?Y=`>=${B}.0.0 <${+B+1}.0.0-0`:_(N)?Y=`>=${B}.${G}.0 <${B}.${+G+1}.0-0`:Z?(o("replaceTilde pr",Z),Y=`>=${B}.${G}.${N}-${Z} <${B}.${+G+1}.0-0`):Y=`>=${B}.${G}.${N} <${B}.${+G+1}.0-0`,o("tilde return",Y),Y})},A=(R,M)=>R.trim().split(/\s+/).map(z=>C(z,M)).join(" "),C=(R,M)=>{o("caret",R,M);const z=M.loose?l[u.CARETLOOSE]:l[u.CARET],H=M.includePrerelease?"-0":"";return R.replace(z,(B,G,N,Z,Y)=>{o("caret",R,B,G,N,Z,Y);let U;return _(G)?U="":_(N)?U=`>=${G}.0.0${H} <${+G+1}.0.0-0`:_(Z)?G==="0"?U=`>=${G}.${N}.0${H} <${G}.${+N+1}.0-0`:U=`>=${G}.${N}.0${H} <${+G+1}.0.0-0`:Y?(o("replaceCaret pr",Y),G==="0"?N==="0"?U=`>=${G}.${N}.${Z}-${Y} <${G}.${N}.${+Z+1}-0`:U=`>=${G}.${N}.${Z}-${Y} <${G}.${+N+1}.0-0`:U=`>=${G}.${N}.${Z}-${Y} <${+G+1}.0.0-0`):(o("no pr"),G==="0"?N==="0"?U=`>=${G}.${N}.${Z}${H} <${G}.${N}.${+Z+1}-0`:U=`>=${G}.${N}.${Z}${H} <${G}.${+N+1}.0-0`:U=`>=${G}.${N}.${Z} <${+G+1}.0.0-0`),o("caret return",U),U})},P=(R,M)=>(o("replaceXRanges",R,M),R.split(/\s+/).map(z=>T(z,M)).join(" ")),T=(R,M)=>{R=R.trim();const z=M.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return R.replace(z,(H,B,G,N,Z,Y)=>{o("xRange",R,H,B,G,N,Z,Y);const U=_(G),me=U||_(N),le=me||_(Z),ve=le;return B==="="&&ve&&(B=""),Y=M.includePrerelease?"-0":"",U?B===">"||B==="<"?H="<0.0.0-0":H="*":B&&ve?(me&&(N=0),Z=0,B===">"?(B=">=",me?(G=+G+1,N=0,Z=0):(N=+N+1,Z=0)):B==="<="&&(B="<",me?G=+G+1:N=+N+1),B==="<"&&(Y="-0"),H=`${B+G}.${N}.${Z}${Y}`):me?H=`>=${G}.0.0${Y} <${+G+1}.0.0-0`:le&&(H=`>=${G}.${N}.0${Y} <${G}.${+N+1}.0-0`),o("xRange return",H),H})},D=(R,M)=>(o("replaceStars",R,M),R.trim().replace(l[u.STAR],"")),j=(R,M)=>(o("replaceGTE0",R,M),R.trim().replace(l[M.includePrerelease?u.GTE0PRE:u.GTE0],"")),I=R=>(M,z,H,B,G,N,Z,Y,U,me,le,ve)=>(_(H)?z="":_(B)?z=`>=${H}.0.0${R?"-0":""}`:_(G)?z=`>=${H}.${B}.0${R?"-0":""}`:N?z=`>=${z}`:z=`>=${z}${R?"-0":""}`,_(U)?Y="":_(me)?Y=`<${+U+1}.0.0-0`:_(le)?Y=`<${U}.${+me+1}.0-0`:ve?Y=`<=${U}.${me}.${le}-${ve}`:R?Y=`<${U}.${me}.${+le+1}-0`:Y=`<=${Y}`,`${z} ${Y}`.trim()),W=(R,M,z)=>{for(let H=0;H<R.length;H++)if(!R[H].test(M))return!1;if(M.prerelease.length&&!z.includePrerelease){for(let H=0;H<R.length;H++)if(o(R[H].semver),R[H].semver!==a.ANY&&R[H].semver.prerelease.length>0){const B=R[H].semver;if(B.major===M.major&&B.minor===M.minor&&B.patch===M.patch)return!0}return!1}return!0};return V$}var X$,Aq;function Qqe(){if(Aq)return X$;Aq=1;const e=Gue();return X$=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},X$}var Jqe=Qqe(),Vue=Bqe(Jqe);function eGe(e,t,n){const r=e.open(t),i=250,{origin:a}=new URL(t);let o=40;function s(u){u.source===r&&(o=0,e.removeEventListener("message",s,!1))}e.addEventListener("message",s,!1);function l(){o<=0||(r.postMessage(n,a),setTimeout(l,i),o-=1)}setTimeout(l,i)}var tGe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Xue(e,...t){for(const n of t)nGe(e,n);return e}function nGe(e,t){for(const n of Object.keys(t))gg(e,n,t[n],!0)}const ws=T5e;let d1=$He;const A_=typeof window<"u"?window:void 0;var GX;d1===void 0&&((GX=A_==null?void 0:A_.vl)!=null&&GX.compile)&&(d1=A_.vl);const rGe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},iGe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},T0={vega:"Vega","vega-lite":"Vega-Lite"},DS={vega:ws.version,"vega-lite":d1?d1.version:"not available"},aGe={vega:e=>e,"vega-lite":(e,t)=>d1.compile(e,{config:t}).spec},oGe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,sGe="chart-wrapper";function lGe(e){return typeof e=="function"}function kq(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,a=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+a),o.document.title=`${T0[r]} JSON Source`}function uGe(e,t){if(e.$schema){const n=Iue(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${T0[n.library]}, but mode argument sets ${T0[t]??t}.`);const r=n.library;return Vue(DS[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${T0[r]} ${n.version}, but the current version of ${T0[r]} is v${DS[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function Yue(e){return!!(e&&"load"in e)}function Cq(e){return Yue(e)?e:ws.loader(e)}function cGe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Ee(t.defaultStyle)&&(t.defaultStyle=!1),t}async function fGe(e,t,n={}){let r,i;Ee(t)?(i=Cq(n.loader),r=JSON.parse(await i.load(t))):r=t;const a=cGe(r),o=a.loader;(!i||o)&&(i=Cq(n.loader??o));const s=await Oq(a,i),l=await Oq(n,i),u={...Xue(l,s),config:mg(l.config??{},s.config??{})};return await hGe(e,r,u,i)}async function Oq(e,t){const n=Ee(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ee(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function dGe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function hGe(e,t,n={},r){const i=n.theme?mg(mqe[n.theme],n.config??{}):n.config,a=Qc(n.actions)?n.actions:Xue({},rGe,n.actions??{}),o={...iGe,...n.i18n},s=n.renderer??"canvas",l=n.logLevel??ws.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:A,rootContainer:C}=dGe(c);if(!A.getElementById(E)){const P=document.createElement("style");P.id=E,P.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?tGe.toString():n.defaultStyle,C.appendChild(P)}}const f=uGe(t,n.mode);let d=aGe[f](t,i);if(f==="vega-lite"&&d.$schema){const E=Iue(d.$schema);Vue(DS.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${DS.vega}.`)}c.classList.add("vega-embed"),a&&c.classList.add("has-actions"),c.innerHTML="";let p=c;if(a){const E=document.createElement("div");E.classList.add(sGe),c.appendChild(E),p=E}const m=n.patch;if(m&&(d=m instanceof Function?m(d):iC(d,m,!0,!1).newDocument),n.formatLocale&&ws.formatLocale(n.formatLocale),n.timeFormatLocale&&ws.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const E in n.expressionFunctions){const A=n.expressionFunctions[E];"fn"in A?ws.expressionFunction(E,A.fn,A.visitor):A instanceof Function&&ws.expressionFunction(E,A)}const{ast:g}=n,x=ws.parse(d,f==="vega-lite"?{}:i,{ast:g}),v=new(n.viewClass||ws.View)(x,{loader:r,logLevel:l,renderer:s,...g?{expr:ws.expressionInterpreter??n.expr??B5e}:{}});if(v.addSignalListener("autosize",(E,A)=>{const{type:C}=A;C=="fit-x"?(p.classList.add("fit-x"),p.classList.remove("fit-y")):C=="fit-y"?(p.classList.remove("fit-x"),p.classList.add("fit-y")):C=="fit"?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:E,tooltip:A}=n,C=E&&!Yue(E)?E==null?void 0:E.baseURL:void 0,P=lGe(A)?A:new Aqe({baseURL:C,...A===!0?{}:A}).call;v.tooltip(P)}let{hover:b}=n;if(b===void 0&&(b=f==="vega"),b){const{hoverSet:E,updateSet:A}=typeof b=="boolean"?{}:b;v.hover(E,A)}n&&(n.width!=null&&v.width(n.width),n.height!=null&&v.height(n.height),n.padding!=null&&v.padding(n.padding)),await v.initialize(p,n.bind).runAsync();let _;if(a!==!1){let E=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const C=document.createElement("details");C.title=o.CLICK_TO_VIEW_ACTIONS,c.append(C),E=C;const P=document.createElement("summary");P.innerHTML=oGe,C.append(P),_=T=>{C.contains(T.target)||C.removeAttribute("open")},document.addEventListener("click",_)}const A=document.createElement("div");if(E.append(A),A.classList.add("vega-actions"),a===!0||a.export!==!1){for(const C of["svg","png"])if(a===!0||a.export===!0||a.export[C]){const P=o[`${C.toUpperCase()}_ACTION`],T=document.createElement("a"),D=Se(n.scaleFactor)?n.scaleFactor[C]:n.scaleFactor;T.text=P,T.href="#",T.target="_blank",T.download=`${u}.${C}`,T.addEventListener("mousedown",async function(j){j.preventDefault();const I=await v.toImageURL(C,D);this.href=I}),A.append(T)}}if(a===!0||a.source!==!1){const C=document.createElement("a");C.text=o.SOURCE_ACTION,C.href="#",C.addEventListener("click",function(P){kq(tP(t),n.sourceHeader??"",n.sourceFooter??"",f),P.preventDefault()}),A.append(C)}if(f==="vega-lite"&&(a===!0||a.compiled!==!1)){const C=document.createElement("a");C.text=o.COMPILED_ACTION,C.href="#",C.addEventListener("click",function(P){kq(tP(d),n.sourceHeader??"",n.sourceFooter??"","vega"),P.preventDefault()}),A.append(C)}if(a===!0||a.editor!==!1){const C=n.editorUrl??"https://vega.github.io/editor/",P=document.createElement("a");P.text=o.EDITOR_ACTION,P.href="#",P.addEventListener("click",function(T){eGe(window,C,{config:i,mode:m?"vega":f,renderer:s,spec:tP(m?d:t)}),T.preventDefault()}),A.append(P)}}function k(){_&&document.removeEventListener("click",_),v.finalize()}return{view:v,spec:t,vgSpec:d,finalize:k,embedOptions:n}}function pGe({spec:e,className:t=""}){const n=X.useRef(null);return X.useEffect(()=>{if(!n.current||!e)return;const r={...e,background:"transparent",config:{...e.config||{},view:{stroke:"transparent"},axis:{domainColor:"#475569",gridColor:"#334155",tickColor:"#475569",labelColor:"#94a3b8",titleColor:"#e2e8f0"},legend:{labelColor:"#94a3b8",titleColor:"#e2e8f0"},title:{color:"#e2e8f0"}}};return fGe(n.current,r,{actions:!1,theme:"dark",renderer:"svg"}).catch(console.error),()=>{n.current&&(n.current.innerHTML="")}},[e]),S.jsx("div",{ref:n,className:`vega-chart bg-navy-900/50 rounded-lg p-4 ${t}`})}const mGe=["What are the hidden patterns in change orders?","Show me the portfolio summary","Which projects are at risk?","Tell me about Apex Electrical vendor","What's the critical path risk?","List all projects over budget"];function gGe({projectId:e,onVisualizationRequest:t}){const[n,r]=X.useState([{id:"1",role:"assistant",content:` Hello! I'm **ATLAS**, your Capital Delivery Intelligence assistant.

I can help you analyze your $2.3B infrastructure portfolio across 12 projects. Ask me about:

-  **Portfolio health** and KPIs
-  **Hidden patterns** in change orders (my specialty!)
-  **Schedule risk** and critical path
-  **Vendor performance** and risk scores

Try asking: *"What hidden patterns exist in our change orders?"*`,sources:[],timestamp:new Date}]),[i,a]=X.useState(""),[o,s]=X.useState(!1),[l,u]=X.useState({}),c=X.useRef(null),f=()=>{var g;(g=c.current)==null||g.scrollIntoView({behavior:"smooth"})};X.useEffect(()=>{f()},[n]);const d=async g=>{if(!g.trim())return;const x={id:Date.now().toString(),role:"user",content:g.trim(),timestamp:new Date};r(_=>[..._,x]),a(""),s(!0);const v=(Date.now()+1).toString(),b={id:v,role:"assistant",content:"",thinkingSteps:[],isStreaming:!0,timestamp:new Date};r(_=>[..._,b]),u(_=>({..._,[v]:!0}));try{const _=await fetch("/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:g.trim(),project_id:e})});if(!_.ok||!_.body)throw new Error("Streaming not available");const k=_.body.getReader(),E=new TextDecoder;let A="",C="";const P=[];let T=[];for(;;){const{done:D,value:j}=await k.read();if(D)break;A+=E.decode(j,{stream:!0});const I=A.split(`

`);A=I.pop()||"";for(const W of I){if(!W.trim()||!W.startsWith("data:"))continue;const R=W.replace("data:","").trim();if(R!=="[DONE]")try{const M=JSON.parse(R);if(M.type==="text")C+=M.content||"",r(z=>z.map(H=>H.id===v?{...H,content:C}:H));else if(M.type==="thinking"){const z=M.content||"";if(z.length>20){const H={id:`step-${Date.now()}`,title:M.title||"Reasoning",content:z.slice(0,200)+(z.length>200?"...":""),status:"in_progress",sql:M.sql};P.length>=5&&P.shift(),P.push(H),P.slice(0,-1).forEach(B=>B.status="completed"),r(B=>B.map(G=>G.id===v?{...G,thinkingSteps:[...P]}:G))}}else if(M.type==="status"||M.type==="tool_status"){const z={id:`status-${Date.now()}`,title:M.title||M.status||"Processing",content:"",status:"in_progress"};P.push(z),P.slice(0,-1).forEach(H=>H.status="completed"),r(H=>H.map(B=>B.id===v?{...B,thinkingSteps:[...P]}:B))}else if(M.type==="tool_result"){if(M.sql){const z={id:`sql-${Date.now()}`,title:"SQL Executed",content:M.error||"Query completed",status:M.error?"pending":"completed",sql:M.sql};P.push(z),r(H=>H.map(B=>B.id===v?{...B,thinkingSteps:[...P]}:B))}}else if(M.type==="sources")T=M.sources||[];else if(M.type==="chart"){const z=M.chart_spec;z&&r(H=>H.map(B=>B.id===v?{...B,chartSpec:z}:B))}else M.type==="error"?(C+=`

 ${M.content||"An error occurred"}`,r(z=>z.map(H=>H.id===v?{...H,content:C}:H))):M.type}catch{}}}P.forEach(D=>D.status="completed"),r(D=>D.map(j=>j.id===v?{...j,content:C||"I processed your request.",thinkingSteps:[...P],sources:T,isStreaming:!1}:j)),setTimeout(()=>{u(D=>({...D,[v]:!1}))},2e3)}catch(_){console.log("Streaming failed, falling back to local:",_);try{const k=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:g.trim(),project_id:e})});if(!k.ok)throw new Error("Failed to get response");const E=await k.json();r(A=>A.map(C=>C.id===v?{...C,content:E.response,sources:E.sources,intent:E.intent,visualization:E.visualization,alert_level:E.alert_level,isStreaming:!1,thinkingSteps:[{id:"step-1",title:"Query Processing",content:"Analyzed your question",status:"completed"},{id:"step-2",title:"Data Retrieval",content:"Retrieved data from Snowflake",status:"completed"}]}:C)),E.visualization&&t&&t(E.visualization,E.context)}catch(k){console.error("Chat error:",k),r(E=>E.map(A=>A.id===v?{...A,content:"I encountered an error. Please try rephrasing your question.",isStreaming:!1}:A))}}finally{s(!1)}},p=g=>{g.preventDefault(),d(i)},m=g=>{u(x=>({...x,[g]:!x[g]}))};return S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(g=>S.jsxs("div",{className:`flex gap-3 chat-message ${g.role==="user"?"justify-end":""}`,children:[g.role==="assistant"&&S.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-gradient-to-br from-atlas-blue to-atlas-purple flex items-center justify-center",children:S.jsx(Gge,{size:16,className:"text-white"})}),S.jsxs("div",{className:`max-w-[85%] ${g.role==="user"?"order-first":""}`,children:[g.role==="assistant"&&g.thinkingSteps&&g.thinkingSteps.length>0&&S.jsxs("div",{className:"mb-2",children:[S.jsxs("button",{onClick:()=>m(g.id),className:"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-300 transition-colors mb-1",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[g.isStreaming?S.jsx(WO,{size:12,className:"animate-spin text-atlas-blue"}):S.jsx(lN,{size:12,className:"text-atlas-green"}),S.jsxs("span",{children:["Thinking steps (",g.thinkingSteps.length,")"]})]}),l[g.id]?S.jsx(Yge,{size:12}):S.jsx(lZ,{size:12})]}),l[g.id]&&S.jsx("div",{className:"bg-navy-900/50 border border-navy-700/50 rounded-lg p-3 space-y-2",children:g.thinkingSteps.map(x=>S.jsxs("div",{className:"flex items-start gap-2",children:[x.status==="completed"?S.jsx(lN,{size:14,className:"text-atlas-green mt-0.5 flex-shrink-0"}):x.status==="in_progress"?S.jsx(WO,{size:14,className:"animate-spin text-atlas-blue mt-0.5 flex-shrink-0"}):S.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-slate-600 mt-0.5 flex-shrink-0"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-xs font-medium text-slate-300",children:x.title}),S.jsx("div",{className:"text-xs text-slate-500",children:x.content}),x.sql&&S.jsxs("div",{className:"mt-1 p-2 bg-navy-800 rounded text-xs font-mono text-slate-400 overflow-x-auto",children:[S.jsxs("div",{className:"flex items-center gap-1 text-atlas-blue mb-1",children:[S.jsx(Kge,{size:10}),S.jsx("span",{children:"SQL"})]}),S.jsxs("pre",{className:"whitespace-pre-wrap break-all",children:[x.sql.slice(0,200),"..."]})]})]})]},x.id))})]}),S.jsx("div",{className:`rounded-lg p-4 ${g.role==="user"?"bg-atlas-blue text-white":"bg-navy-800 border border-navy-600/50"}`,children:g.role==="assistant"?S.jsxs("div",{className:"markdown-content",children:[g.isStreaming&&!g.content?S.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[S.jsx(WO,{size:14,className:"animate-spin"}),S.jsx("span",{children:"Processing..."})]}):S.jsx(Gxe,{children:g.content}),g.chartSpec&&S.jsxs("div",{className:"mt-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-atlas-blue",children:[S.jsx(sZ,{size:14}),S.jsx("span",{children:"Generated Visualization"})]}),S.jsx(pGe,{spec:g.chartSpec,className:"w-full"})]})]}):S.jsx("p",{children:g.content})}),g.role==="assistant"&&g.sources&&g.sources.length>0&&S.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[S.jsx(uN,{size:12}),S.jsx("span",{children:"Sources:"}),g.sources.map((x,v)=>S.jsx("span",{className:"px-2 py-0.5 bg-navy-700 rounded text-slate-400",children:x},v))]}),g.alert_level==="high"&&S.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-atlas-yellow",children:[S.jsx(Vs,{size:12}),S.jsx("span",{children:"High-priority insight detected"})]})]}),g.role==="user"&&S.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-navy-600 flex items-center justify-center",children:S.jsx(rye,{size:16,className:"text-slate-300"})})]},g.id)),S.jsx("div",{ref:c})]}),n.length<=2&&S.jsxs("div",{className:"px-4 pb-2",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-slate-500",children:[S.jsx(Jl,{size:12}),S.jsx("span",{children:"Suggested questions"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:mGe.slice(0,4).map((g,x)=>S.jsx("button",{onClick:()=>d(g),className:"px-3 py-1.5 bg-navy-700/50 hover:bg-navy-600/50 rounded-full text-xs text-slate-300 hover:text-white transition-colors",children:g},x))})]}),S.jsx("form",{onSubmit:p,className:"p-4 border-t border-navy-700/50",children:S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),placeholder:"Ask ATLAS anything...",className:"input flex-1",disabled:o}),S.jsx("button",{type:"submit",disabled:o||!i.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:S.jsx(eye,{size:18})})]})})]})}function jS({label:e,value:t,target:n=1,min:r=0,max:i=1.2,format:a="decimal",size:o="md",showTrend:s=!1,trend:l="stable"}){const[u,c]=X.useState(0);X.useEffect(()=>{const b=setTimeout(()=>c(t),100);return()=>clearTimeout(b)},[t]);const f=Math.min(Math.max((u-r)/(i-r),0),1),d=()=>{const b=u/n;return b>=1?"#3fb950":b>=.95?"#58a6ff":b>=.9?"#d29922":"#f85149"},p=b=>{switch(a){case"percent":return`${(b*100).toFixed(0)}%`;case"currency":return`$${(b/1e6).toFixed(1)}M`;case"number":return b.toLocaleString();case"decimal":default:return b.toFixed(3)}},g={sm:{container:80,stroke:6,font:"text-lg",label:"text-[10px]"},md:{container:120,stroke:8,font:"text-2xl",label:"text-xs"},lg:{container:160,stroke:10,font:"text-3xl",label:"text-sm"}}[o],x=(g.container-g.stroke)/2,v=2*Math.PI*x;return S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsxs("div",{className:"metric-gauge relative",style:{width:g.container,height:g.container},children:[S.jsxs("svg",{className:"metric-gauge-circle",width:g.container,height:g.container,children:[S.jsx("circle",{className:"metric-gauge-bg",cx:g.container/2,cy:g.container/2,r:x,strokeWidth:g.stroke}),S.jsx("circle",{className:"metric-gauge-fill",cx:g.container/2,cy:g.container/2,r:x,strokeWidth:g.stroke,stroke:d(),strokeDasharray:v,strokeDashoffset:v*(1-f),style:{transition:"stroke-dashoffset 1s ease-out, stroke 0.3s ease"}})]}),S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[S.jsx("span",{className:`font-mono font-bold ${g.font}`,style:{color:d()},children:p(u)}),s&&S.jsx("span",{className:`text-xs ${l==="up"?"text-atlas-green":l==="down"?"text-atlas-red":"text-slate-500"}`,children:l==="up"?"":l==="down"?"":""})]})]}),S.jsx("span",{className:`mt-2 ${g.label} text-slate-400 font-medium uppercase tracking-wide`,children:e}),n&&S.jsxs("span",{className:"text-[10px] text-slate-500",children:["Target: ",p(n)]})]})}const yGe={cost:BE,schedule:JI,contingency:im,scope:Vs},vGe={critical:"border-atlas-red/50 bg-atlas-red/5",warning:"border-atlas-yellow/50 bg-atlas-yellow/5",info:"border-atlas-blue/50 bg-atlas-blue/5"},xGe={critical:"text-atlas-red",warning:"text-atlas-yellow",info:"text-atlas-blue"};function bGe({alert:e,onClick:t}){const n=yGe[e.type];return S.jsx("div",{className:`
        p-4 rounded-lg border cursor-pointer
        transition-all duration-200 hover:scale-[1.02]
        ${vGe[e.level]}
      `,onClick:t,children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx("div",{className:`p-2 rounded-lg ${e.level==="critical"?"bg-atlas-red/20":e.level==="warning"?"bg-atlas-yellow/20":"bg-atlas-blue/20"}`,children:S.jsx(n,{size:18,className:xGe[e.level]})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("span",{className:`badge ${e.level==="critical"?"badge-red":e.level==="warning"?"badge-yellow":"badge-blue"}`,children:e.level}),S.jsx("span",{className:"text-xs text-slate-500 capitalize",children:e.type})]}),S.jsx("h4",{className:"font-medium text-white text-sm truncate",children:e.project}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:e.message})]}),e.level==="critical"&&S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-red"}),S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-red absolute inset-0 pulse-ring"})]})]})})}function Pq(e){const[t,n]=X.useState(null),[r,i]=X.useState([]),[a,o]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{var u;try{const c=await fetch("/api/portfolio/summary");if(c.ok){const f=await c.json();n(f);const d=[];f.avg_cpi<.95&&d.push({level:"critical",type:"cost",project:"Portfolio-Wide",message:`Average CPI at ${(u=f.avg_cpi)==null?void 0:u.toFixed(3)} indicates cost pressure`}),f.projects_behind_schedule>0&&d.push({level:"warning",type:"schedule",project:"Multiple Projects",message:`${f.projects_behind_schedule} projects behind schedule`}),d.push({level:"critical",type:"scope",project:"Hidden Pattern Detected",message:"150+ small COs share common root cause - grounding specs"}),i(d)}}catch(c){console.error("Failed to fetch portfolio data:",c),n({total_projects:12,total_budget:23e8,current_budget:2415e6,total_contingency:23e7,contingency_used:115e6,avg_cpi:.968,avg_spi:.975,projects_over_budget:3,projects_behind_schedule:2}),i([{level:"critical",type:"scope",project:"Hidden Pattern Detected",message:"150+ small COs share common root cause - grounding specs"},{level:"critical",type:"cost",project:"Downtown Transit Hub",message:"CPI at 0.89 - severe cost overrun"},{level:"warning",type:"schedule",project:"Airport Terminal",message:"SPI at 0.92 - schedule slipping"}])}finally{o(!1)}};if(a)return S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-12 h-12 border-2 border-atlas-blue border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-slate-400",children:"Loading Mission Control..."})]})});const l=t?t.contingency_used/t.total_contingency*100:0;return S.jsxs("div",{className:"h-full flex",children:[S.jsxs("div",{className:"w-[400px] flex-shrink-0 border-r border-navy-700/50 flex flex-col overflow-hidden",children:[S.jsxs("div",{className:"p-6 border-b border-navy-700/50",children:[S.jsxs("h2",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4 flex items-center gap-2",children:[S.jsx(ZI,{size:14}),"Portfolio Health"]}),S.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[S.jsx(jS,{label:"CPI",value:(t==null?void 0:t.avg_cpi)||0,target:1,showTrend:!0,trend:t!=null&&t.avg_cpi&&t.avg_cpi>=1?"up":"down"}),S.jsx(jS,{label:"SPI",value:(t==null?void 0:t.avg_spi)||0,target:1,showTrend:!0,trend:t!=null&&t.avg_spi&&t.avg_spi>=1?"up":"down"})]})]}),S.jsx("div",{className:"p-6 border-b border-navy-700/50",children:S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(rm,{size:16,className:"text-atlas-blue"}),S.jsx("span",{className:"text-xs text-slate-500",children:"Projects"})]}),S.jsx("div",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.total_projects)||12}),S.jsx("div",{className:"text-xs text-slate-500",children:"Active"})]}),S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(BE,{size:16,className:"text-atlas-green"}),S.jsx("span",{className:"text-xs text-slate-500",children:"Budget"})]}),S.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(((t==null?void 0:t.total_budget)||0)/1e9).toFixed(1),"B"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Total Value"})]}),S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(im,{size:16,className:"text-atlas-yellow"}),S.jsx("span",{className:"text-xs text-slate-500",children:"Contingency"})]}),S.jsxs("div",{className:"text-2xl font-bold text-white",children:[l.toFixed(0),"%"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Used"})]}),S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(am,{size:16,className:t!=null&&t.projects_over_budget?"text-atlas-red":"text-atlas-green"}),S.jsx("span",{className:"text-xs text-slate-500",children:"At Risk"})]}),S.jsx("div",{className:"text-2xl font-bold text-white",children:((t==null?void 0:t.projects_over_budget)||0)+((t==null?void 0:t.projects_behind_schedule)||0)}),S.jsx("div",{className:"text-xs text-slate-500",children:"Projects"})]})]})}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[S.jsxs("h2",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4 flex items-center gap-2",children:[S.jsx(Vs,{size:14}),"Active Alerts (",r.length,")"]}),S.jsx("div",{className:"space-y-3",children:r.map((u,c)=>S.jsx(bGe,{alert:u},c))})]})]}),S.jsxs("div",{className:"flex-1 flex flex-col",children:[S.jsxs("div",{className:"p-4 border-b border-navy-700/50 flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"font-semibold text-white",children:"ATLAS Co-Pilot"}),S.jsx("p",{className:"text-xs text-slate-500",children:"Ask about portfolio, change orders, risk, and more"})]}),S.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[S.jsx("span",{className:"w-2 h-2 rounded-full bg-atlas-green animate-pulse"}),S.jsx("span",{className:"text-slate-500",children:"4 Agents Ready"})]})]}),S.jsx(gGe,{})]})]})}function Kue(e,t){const n=X.useRef(t);X.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function _Ge(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const wGe=1;function SGe(e){return Object.freeze({__version:wGe,map:e})}function EGe(e,t){return Object.freeze({...e,...t})}const Zue=X.createContext(null),Que=Zue.Provider;function oC(){const e=X.useContext(Zue);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function AGe(e){function t(n,r){const{instance:i,context:a}=e(n).current;return X.useImperativeHandle(r,()=>i),n.children==null?null:q.createElement(Que,{value:a},n.children)}return X.forwardRef(t)}function kGe(e){function t(n,r){const[i,a]=X.useState(!1),{instance:o}=e(n,a).current;X.useImperativeHandle(r,()=>o),X.useEffect(function(){i&&o.update()},[o,i,n.children]);const s=o._contentNode;return s?aZ.createPortal(n.children,s):null}return X.forwardRef(t)}function CGe(e){function t(n,r){const{instance:i}=e(n).current;return X.useImperativeHandle(r,()=>i),null}return X.forwardRef(t)}function Z4(e,t){const n=X.useRef();X.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function sC(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function OGe(e,t){return function(r,i){const a=oC(),o=e(sC(r,a),a);return Kue(a.map,r.attribution),Z4(o.current,r.eventHandlers),t(o.current,a,r,i),o}}var FD={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Ul,function(n){var r="1.9.4";function i(h){var y,w,O,$;for(w=1,O=arguments.length;w<O;w++){$=arguments[w];for(y in $)h[y]=$[y]}return h}var a=Object.create||function(){function h(){}return function(y){return h.prototype=y,new h}}();function o(h,y){var w=Array.prototype.slice;if(h.bind)return h.bind.apply(h,w.call(arguments,1));var O=w.call(arguments,2);return function(){return h.apply(y,O.length?O.concat(w.call(arguments)):arguments)}}var s=0;function l(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function u(h,y,w){var O,$,F,V;return V=function(){O=!1,$&&(F.apply(w,$),$=!1)},F=function(){O?$=arguments:(h.apply(w,arguments),setTimeout(V,y),O=!0)},F}function c(h,y,w){var O=y[1],$=y[0],F=O-$;return h===O&&w?h:((h-$)%F+F)%F+$}function f(){return!1}function d(h,y){if(y===!1)return h;var w=Math.pow(10,y===void 0?6:y);return Math.round(h*w)/w}function p(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function m(h){return p(h).split(/\s+/)}function g(h,y){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var w in y)h.options[w]=y[w];return h.options}function x(h,y,w){var O=[];for(var $ in h)O.push(encodeURIComponent(w?$.toUpperCase():$)+"="+encodeURIComponent(h[$]));return(!y||y.indexOf("?")===-1?"?":"&")+O.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function b(h,y){return h.replace(v,function(w,O){var $=y[O];if($===void 0)throw new Error("No value provided for variable "+w);return typeof $=="function"&&($=$(y)),$})}var _=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function k(h,y){for(var w=0;w<h.length;w++)if(h[w]===y)return w;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var C=0;function P(h){var y=+new Date,w=Math.max(0,16-(y-C));return C=y+w,window.setTimeout(h,w)}var T=window.requestAnimationFrame||A("RequestAnimationFrame")||P,D=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function j(h,y,w){if(w&&T===P)h.call(y);else return T.call(window,o(h,y))}function I(h){h&&D.call(window,h)}var W={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:u,wrapNum:c,falseFn:f,formatNum:d,trim:p,splitWords:m,setOptions:g,getParamString:x,template:b,isArray:_,indexOf:k,emptyImageUrl:E,requestFn:T,cancelFn:D,requestAnimFrame:j,cancelAnimFrame:I};function R(){}R.extend=function(h){var y=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=y.__super__=this.prototype,O=a(w);O.constructor=y,y.prototype=O;for(var $ in this)Object.prototype.hasOwnProperty.call(this,$)&&$!=="prototype"&&$!=="__super__"&&(y[$]=this[$]);return h.statics&&i(y,h.statics),h.includes&&(M(h.includes),i.apply(null,[O].concat(h.includes))),i(O,h),delete O.statics,delete O.includes,O.options&&(O.options=w.options?a(w.options):{},i(O.options,h.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,V=O._initHooks.length;F<V;F++)O._initHooks[F].call(this)}},y},R.include=function(h){var y=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=y,this.mergeOptions(h.options)),this},R.mergeOptions=function(h){return i(this.prototype.options,h),this},R.addInitHook=function(h){var y=Array.prototype.slice.call(arguments,1),w=typeof h=="function"?h:function(){this[h].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function M(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=_(h)?h:[h];for(var y=0;y<h.length;y++)h[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(h,y,w){if(typeof h=="object")for(var O in h)this._on(O,h[O],y);else{h=m(h);for(var $=0,F=h.length;$<F;$++)this._on(h[$],y,w)}return this},off:function(h,y,w){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var O in h)this._off(O,h[O],y);else{h=m(h);for(var $=arguments.length===1,F=0,V=h.length;F<V;F++)$?this._off(h[F]):this._off(h[F],y,w)}return this},_on:function(h,y,w,O){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(h,y,w)===!1){w===this&&(w=void 0);var $={fn:y,ctx:w};O&&($.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push($)}},_off:function(h,y,w){var O,$,F;if(this._events&&(O=this._events[h],!!O)){if(arguments.length===1){if(this._firingCount)for($=0,F=O.length;$<F;$++)O[$].fn=f;delete this._events[h];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var V=this._listens(h,y,w);if(V!==!1){var K=O[V];this._firingCount&&(K.fn=f,this._events[h]=O=O.slice()),O.splice(V,1)}}},fire:function(h,y,w){if(!this.listens(h,w))return this;var O=i({},y,{type:h,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var $=this._events[h];if($){this._firingCount=this._firingCount+1||1;for(var F=0,V=$.length;F<V;F++){var K=$[F],Q=K.fn;K.once&&this.off(h,Q,K.ctx),Q.call(K.ctx||this,O)}this._firingCount--}}return w&&this._propagateEvent(O),this},listens:function(h,y,w,O){typeof h!="string"&&console.warn('"string" type argument expected');var $=y;typeof y!="function"&&(O=!!y,$=void 0,w=void 0);var F=this._events&&this._events[h];if(F&&F.length&&this._listens(h,$,w)!==!1)return!0;if(O){for(var V in this._eventParents)if(this._eventParents[V].listens(h,y,w,O))return!0}return!1},_listens:function(h,y,w){if(!this._events)return!1;var O=this._events[h]||[];if(!y)return!!O.length;w===this&&(w=void 0);for(var $=0,F=O.length;$<F;$++)if(O[$].fn===y&&O[$].ctx===w)return $;return!1},once:function(h,y,w){if(typeof h=="object")for(var O in h)this._on(O,h[O],y,!0);else{h=m(h);for(var $=0,F=h.length;$<F;$++)this._on(h[$],y,w,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[l(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[l(h)],this},_propagateEvent:function(h){for(var y in this._eventParents)this._eventParents[y].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var H=R.extend(z);function B(h,y,w){this.x=w?Math.round(h):h,this.y=w?Math.round(y):y}var G=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(h){return this.clone()._add(N(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(N(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new B(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new B(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(h){h=N(h);var y=h.x-this.x,w=h.y-this.y;return Math.sqrt(y*y+w*w)},equals:function(h){return h=N(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=N(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function N(h,y,w){return h instanceof B?h:_(h)?new B(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new B(h.x,h.y):new B(h,y,w)}function Z(h,y){if(h)for(var w=y?[h,y]:h,O=0,$=w.length;O<$;O++)this.extend(w[O])}Z.prototype={extend:function(h){var y,w;if(!h)return this;if(h instanceof B||typeof h[0]=="number"||"x"in h)y=w=N(h);else if(h=Y(h),y=h.min,w=h.max,!y||!w)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=w.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(h){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var y,w;return typeof h[0]=="number"||h instanceof B?h=N(h):h=Y(h),h instanceof Z?(y=h.min,w=h.max):y=w=h,y.x>=this.min.x&&w.x<=this.max.x&&y.y>=this.min.y&&w.y<=this.max.y},intersects:function(h){h=Y(h);var y=this.min,w=this.max,O=h.min,$=h.max,F=$.x>=y.x&&O.x<=w.x,V=$.y>=y.y&&O.y<=w.y;return F&&V},overlaps:function(h){h=Y(h);var y=this.min,w=this.max,O=h.min,$=h.max,F=$.x>y.x&&O.x<w.x,V=$.y>y.y&&O.y<w.y;return F&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var y=this.min,w=this.max,O=Math.abs(y.x-w.x)*h,$=Math.abs(y.y-w.y)*h;return Y(N(y.x-O,y.y-$),N(w.x+O,w.y+$))},equals:function(h){return h?(h=Y(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function Y(h,y){return!h||h instanceof Z?h:new Z(h,y)}function U(h,y){if(h)for(var w=y?[h,y]:h,O=0,$=w.length;O<$;O++)this.extend(w[O])}U.prototype={extend:function(h){var y=this._southWest,w=this._northEast,O,$;if(h instanceof le)O=h,$=h;else if(h instanceof U){if(O=h._southWest,$=h._northEast,!O||!$)return this}else return h?this.extend(ve(h)||me(h)):this;return!y&&!w?(this._southWest=new le(O.lat,O.lng),this._northEast=new le($.lat,$.lng)):(y.lat=Math.min(O.lat,y.lat),y.lng=Math.min(O.lng,y.lng),w.lat=Math.max($.lat,w.lat),w.lng=Math.max($.lng,w.lng)),this},pad:function(h){var y=this._southWest,w=this._northEast,O=Math.abs(y.lat-w.lat)*h,$=Math.abs(y.lng-w.lng)*h;return new U(new le(y.lat-O,y.lng-$),new le(w.lat+O,w.lng+$))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof le||"lat"in h?h=ve(h):h=me(h);var y=this._southWest,w=this._northEast,O,$;return h instanceof U?(O=h.getSouthWest(),$=h.getNorthEast()):O=$=h,O.lat>=y.lat&&$.lat<=w.lat&&O.lng>=y.lng&&$.lng<=w.lng},intersects:function(h){h=me(h);var y=this._southWest,w=this._northEast,O=h.getSouthWest(),$=h.getNorthEast(),F=$.lat>=y.lat&&O.lat<=w.lat,V=$.lng>=y.lng&&O.lng<=w.lng;return F&&V},overlaps:function(h){h=me(h);var y=this._southWest,w=this._northEast,O=h.getSouthWest(),$=h.getNorthEast(),F=$.lat>y.lat&&O.lat<w.lat,V=$.lng>y.lng&&O.lng<w.lng;return F&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,y){return h?(h=me(h),this._southWest.equals(h.getSouthWest(),y)&&this._northEast.equals(h.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(h,y){return h instanceof U?h:new U(h,y)}function le(h,y,w){if(isNaN(h)||isNaN(y))throw new Error("Invalid LatLng object: ("+h+", "+y+")");this.lat=+h,this.lng=+y,w!==void 0&&(this.alt=+w)}le.prototype={equals:function(h,y){if(!h)return!1;h=ve(h);var w=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return w<=(y===void 0?1e-9:y)},toString:function(h){return"LatLng("+d(this.lat,h)+", "+d(this.lng,h)+")"},distanceTo:function(h){return it.distance(this,ve(h))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(h){var y=180*h/40075017,w=y/Math.cos(Math.PI/180*this.lat);return me([this.lat-y,this.lng-w],[this.lat+y,this.lng+w])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function ve(h,y,w){return h instanceof le?h:_(h)&&typeof h[0]!="object"?h.length===3?new le(h[0],h[1],h[2]):h.length===2?new le(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new le(h.lat,"lng"in h?h.lng:h.lon,h.alt):y===void 0?null:new le(h,y,w)}var mt={latLngToPoint:function(h,y){var w=this.projection.project(h),O=this.scale(y);return this.transformation._transform(w,O)},pointToLatLng:function(h,y){var w=this.scale(y),O=this.transformation.untransform(h,w);return this.projection.unproject(O)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var y=this.projection.bounds,w=this.scale(h),O=this.transformation.transform(y.min,w),$=this.transformation.transform(y.max,w);return new Z(O,$)},infinite:!1,wrapLatLng:function(h){var y=this.wrapLng?c(h.lng,this.wrapLng,!0):h.lng,w=this.wrapLat?c(h.lat,this.wrapLat,!0):h.lat,O=h.alt;return new le(w,y,O)},wrapLatLngBounds:function(h){var y=h.getCenter(),w=this.wrapLatLng(y),O=y.lat-w.lat,$=y.lng-w.lng;if(O===0&&$===0)return h;var F=h.getSouthWest(),V=h.getNorthEast(),K=new le(F.lat-O,F.lng-$),Q=new le(V.lat-O,V.lng-$);return new U(K,Q)}},it=i({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(h,y){var w=Math.PI/180,O=h.lat*w,$=y.lat*w,F=Math.sin((y.lat-h.lat)*w/2),V=Math.sin((y.lng-h.lng)*w/2),K=F*F+Math.cos(O)*Math.cos($)*V*V,Q=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*Q}}),be=6378137,De={R:be,MAX_LATITUDE:85.0511287798,project:function(h){var y=Math.PI/180,w=this.MAX_LATITUDE,O=Math.max(Math.min(w,h.lat),-w),$=Math.sin(O*y);return new B(this.R*h.lng*y,this.R*Math.log((1+$)/(1-$))/2)},unproject:function(h){var y=180/Math.PI;return new le((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*y,h.x*y/this.R)},bounds:function(){var h=be*Math.PI;return new Z([-h,-h],[h,h])}()};function Re(h,y,w,O){if(_(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=y,this._c=w,this._d=O}Re.prototype={transform:function(h,y){return this._transform(h.clone(),y)},_transform:function(h,y){return y=y||1,h.x=y*(this._a*h.x+this._b),h.y=y*(this._c*h.y+this._d),h},untransform:function(h,y){return y=y||1,new B((h.x/y-this._b)/this._a,(h.y/y-this._d)/this._c)}};function oe(h,y,w,O){return new Re(h,y,w,O)}var Ct=i({},it,{code:"EPSG:3857",projection:De,transformation:function(){var h=.5/(Math.PI*De.R);return oe(h,.5,-h,.5)}()}),nt=i({},Ct,{code:"EPSG:900913"});function zt(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Tt(h,y){var w="",O,$,F,V,K,Q;for(O=0,F=h.length;O<F;O++){for(K=h[O],$=0,V=K.length;$<V;$++)Q=K[$],w+=($?"L":"M")+Q.x+" "+Q.y;w+=y?je.svg?"z":"x":""}return w||"M0 0"}var ln=document.documentElement.style,gr="ActiveXObject"in window,bo=gr&&!document.addEventListener,ds="msLaunchUri"in navigator&&!("documentMode"in document),aa=hs("webkit"),Na=hs("android"),ju=hs("android 2")||hs("android 3"),kh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ch=Na&&hs("Google")&&kh<537&&!("AudioNode"in window),ie=!!window.opera,we=!ds&&hs("chrome"),Ve=hs("gecko")&&!aa&&!ie&&!gr,ut=!we&&hs("safari"),Nt=hs("phantom"),$i="OTransition"in ln,bl=navigator.platform.indexOf("Win")===0,Ma=gr&&"transition"in ln,_l="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ju,Iu="MozPerspective"in ln,ri=!window.L_DISABLE_3D&&(Ma||_l||Iu)&&!$i&&!Nt,Da=typeof orientation<"u"||hs("mobile"),_o=Da&&aa,ehe=Da&&_l,Iz=!window.PointerEvent&&window.MSPointerEvent,Lz=!!(window.PointerEvent||Iz),Fz="ontouchstart"in window||!!window.TouchEvent,the=!window.L_NO_TOUCH&&(Fz||Lz),nhe=Da&&ie,rhe=Da&&Ve,ihe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ahe=function(){var h=!1;try{var y=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",f,y),window.removeEventListener("testPassiveEventSupport",f,y)}catch{}return h}(),ohe=function(){return!!document.createElement("canvas").getContext}(),HC=!!(document.createElementNS&&zt("svg").createSVGRect),she=!!HC&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),lhe=!HC&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var y=h.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}}(),uhe=navigator.platform.indexOf("Mac")===0,che=navigator.platform.indexOf("Linux")===0;function hs(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var je={ie:gr,ielt9:bo,edge:ds,webkit:aa,android:Na,android23:ju,androidStock:Ch,opera:ie,chrome:we,gecko:Ve,safari:ut,phantom:Nt,opera12:$i,win:bl,ie3d:Ma,webkit3d:_l,gecko3d:Iu,any3d:ri,mobile:Da,mobileWebkit:_o,mobileWebkit3d:ehe,msPointer:Iz,pointer:Lz,touch:the,touchNative:Fz,mobileOpera:nhe,mobileGecko:rhe,retina:ihe,passiveEvents:ahe,canvas:ohe,svg:HC,vml:lhe,inlineSvg:she,mac:uhe,linux:che},Rz=je.msPointer?"MSPointerDown":"pointerdown",zz=je.msPointer?"MSPointerMove":"pointermove",Bz=je.msPointer?"MSPointerUp":"pointerup",Uz=je.msPointer?"MSPointerCancel":"pointercancel",qC={touchstart:Rz,touchmove:zz,touchend:Bz,touchcancel:Uz},Wz={touchstart:ghe,touchmove:tb,touchend:tb,touchcancel:tb},Oh={},Hz=!1;function fhe(h,y,w){return y==="touchstart"&&mhe(),Wz[y]?(w=Wz[y].bind(this,w),h.addEventListener(qC[y],w,!1),w):(console.warn("wrong event specified:",y),f)}function dhe(h,y,w){if(!qC[y]){console.warn("wrong event specified:",y);return}h.removeEventListener(qC[y],w,!1)}function hhe(h){Oh[h.pointerId]=h}function phe(h){Oh[h.pointerId]&&(Oh[h.pointerId]=h)}function qz(h){delete Oh[h.pointerId]}function mhe(){Hz||(document.addEventListener(Rz,hhe,!0),document.addEventListener(zz,phe,!0),document.addEventListener(Bz,qz,!0),document.addEventListener(Uz,qz,!0),Hz=!0)}function tb(h,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var w in Oh)y.touches.push(Oh[w]);y.changedTouches=[y],h(y)}}function ghe(h,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&yr(y),tb(h,y)}function yhe(h){var y={},w,O;for(O in h)w=h[O],y[O]=w&&w.bind?w.bind(h):w;return h=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var vhe=200;function xhe(h,y){h.addEventListener("dblclick",y);var w=0,O;function $(F){if(F.detail!==1){O=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var V=Kz(F);if(!(V.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!V.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var K=Date.now();K-w<=vhe?(O++,O===2&&y(yhe(F))):O=1,w=K}}}return h.addEventListener("click",$),{dblclick:y,simDblclick:$}}function bhe(h,y){h.removeEventListener("dblclick",y.dblclick),h.removeEventListener("click",y.simDblclick)}var GC=ib(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),iy=ib(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gz=iy==="webkitTransition"||iy==="OTransition"?iy+"End":"transitionend";function Vz(h){return typeof h=="string"?document.getElementById(h):h}function ay(h,y){var w=h.style[y]||h.currentStyle&&h.currentStyle[y];if((!w||w==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(h,null);w=O?O[y]:null}return w==="auto"?null:w}function bt(h,y,w){var O=document.createElement(h);return O.className=y||"",w&&w.appendChild(O),O}function pn(h){var y=h.parentNode;y&&y.removeChild(h)}function nb(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Ph(h){var y=h.parentNode;y&&y.lastChild!==h&&y.appendChild(h)}function $h(h){var y=h.parentNode;y&&y.firstChild!==h&&y.insertBefore(h,y.firstChild)}function VC(h,y){if(h.classList!==void 0)return h.classList.contains(y);var w=rb(h);return w.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(w)}function rt(h,y){if(h.classList!==void 0)for(var w=m(y),O=0,$=w.length;O<$;O++)h.classList.add(w[O]);else if(!VC(h,y)){var F=rb(h);XC(h,(F?F+" ":"")+y)}}function Cn(h,y){h.classList!==void 0?h.classList.remove(y):XC(h,p((" "+rb(h)+" ").replace(" "+y+" "," ")))}function XC(h,y){h.className.baseVal===void 0?h.className=y:h.className.baseVal=y}function rb(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function ja(h,y){"opacity"in h.style?h.style.opacity=y:"filter"in h.style&&_he(h,y)}function _he(h,y){var w=!1,O="DXImageTransform.Microsoft.Alpha";try{w=h.filters.item(O)}catch{if(y===1)return}y=Math.round(y*100),w?(w.Enabled=y!==100,w.Opacity=y):h.style.filter+=" progid:"+O+"(opacity="+y+")"}function ib(h){for(var y=document.documentElement.style,w=0;w<h.length;w++)if(h[w]in y)return h[w];return!1}function vf(h,y,w){var O=y||new B(0,0);h.style[GC]=(je.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(w?" scale("+w+")":"")}function Dn(h,y){h._leaflet_pos=y,je.any3d?vf(h,y):(h.style.left=y.x+"px",h.style.top=y.y+"px")}function xf(h){return h._leaflet_pos||new B(0,0)}var oy,sy,YC;if("onselectstart"in document)oy=function(){Qe(window,"selectstart",yr)},sy=function(){Xt(window,"selectstart",yr)};else{var ly=ib(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oy=function(){if(ly){var h=document.documentElement.style;YC=h[ly],h[ly]="none"}},sy=function(){ly&&(document.documentElement.style[ly]=YC,YC=void 0)}}function KC(){Qe(window,"dragstart",yr)}function ZC(){Xt(window,"dragstart",yr)}var ab,QC;function JC(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(ob(),ab=h,QC=h.style.outlineStyle,h.style.outlineStyle="none",Qe(window,"keydown",ob))}function ob(){ab&&(ab.style.outlineStyle=QC,ab=void 0,QC=void 0,Xt(window,"keydown",ob))}function Xz(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function eO(h){var y=h.getBoundingClientRect();return{x:y.width/h.offsetWidth||1,y:y.height/h.offsetHeight||1,boundingClientRect:y}}var whe={__proto__:null,TRANSFORM:GC,TRANSITION:iy,TRANSITION_END:Gz,get:Vz,getStyle:ay,create:bt,remove:pn,empty:nb,toFront:Ph,toBack:$h,hasClass:VC,addClass:rt,removeClass:Cn,setClass:XC,getClass:rb,setOpacity:ja,testProp:ib,setTransform:vf,setPosition:Dn,getPosition:xf,get disableTextSelection(){return oy},get enableTextSelection(){return sy},disableImageDrag:KC,enableImageDrag:ZC,preventOutline:JC,restoreOutline:ob,getSizedParentNode:Xz,getScale:eO};function Qe(h,y,w,O){if(y&&typeof y=="object")for(var $ in y)nO(h,$,y[$],w);else{y=m(y);for(var F=0,V=y.length;F<V;F++)nO(h,y[F],w,O)}return this}var ps="_leaflet_events";function Xt(h,y,w,O){if(arguments.length===1)Yz(h),delete h[ps];else if(y&&typeof y=="object")for(var $ in y)rO(h,$,y[$],w);else if(y=m(y),arguments.length===2)Yz(h,function(K){return k(y,K)!==-1});else for(var F=0,V=y.length;F<V;F++)rO(h,y[F],w,O);return this}function Yz(h,y){for(var w in h[ps]){var O=w.split(/\d/)[0];(!y||y(O))&&rO(h,O,null,null,w)}}var tO={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nO(h,y,w,O){var $=y+l(w)+(O?"_"+l(O):"");if(h[ps]&&h[ps][$])return this;var F=function(K){return w.call(O||h,K||window.event)},V=F;!je.touchNative&&je.pointer&&y.indexOf("touch")===0?F=fhe(h,y,F):je.touch&&y==="dblclick"?F=xhe(h,F):"addEventListener"in h?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?h.addEventListener(tO[y]||y,F,je.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(F=function(K){K=K||window.event,aO(h,K)&&V(K)},h.addEventListener(tO[y],F,!1)):h.addEventListener(y,V,!1):h.attachEvent("on"+y,F),h[ps]=h[ps]||{},h[ps][$]=F}function rO(h,y,w,O,$){$=$||y+l(w)+(O?"_"+l(O):"");var F=h[ps]&&h[ps][$];if(!F)return this;!je.touchNative&&je.pointer&&y.indexOf("touch")===0?dhe(h,y,F):je.touch&&y==="dblclick"?bhe(h,F):"removeEventListener"in h?h.removeEventListener(tO[y]||y,F,!1):h.detachEvent("on"+y,F),h[ps][$]=null}function bf(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function iO(h){return nO(h,"wheel",bf),this}function uy(h){return Qe(h,"mousedown touchstart dblclick contextmenu",bf),h._leaflet_disable_click=!0,this}function yr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function _f(h){return yr(h),bf(h),this}function Kz(h){if(h.composedPath)return h.composedPath();for(var y=[],w=h.target;w;)y.push(w),w=w.parentNode;return y}function Zz(h,y){if(!y)return new B(h.clientX,h.clientY);var w=eO(y),O=w.boundingClientRect;return new B((h.clientX-O.left)/w.x-y.clientLeft,(h.clientY-O.top)/w.y-y.clientTop)}var She=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qz(h){return je.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/She:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function aO(h,y){var w=y.relatedTarget;if(!w)return!0;try{for(;w&&w!==h;)w=w.parentNode}catch{return!1}return w!==h}var Ehe={__proto__:null,on:Qe,off:Xt,stopPropagation:bf,disableScrollPropagation:iO,disableClickPropagation:uy,preventDefault:yr,stop:_f,getPropagationPath:Kz,getMousePosition:Zz,getWheelDelta:Qz,isExternalTarget:aO,addListener:Qe,removeListener:Xt},Jz=H.extend({run:function(h,y,w,O){this.stop(),this._el=h,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=xf(h),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(h){var y=+new Date-this._startTime,w=this._duration*1e3;y<w?this._runFrame(this._easeOut(y/w),h):(this._runFrame(1),this._complete())},_runFrame:function(h,y){var w=this._startPos.add(this._offset.multiplyBy(h));y&&w._round(),Dn(this._el,w),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),gt=H.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,y){y=g(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(ve(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=iy&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qe(this._proxy,Gz,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,y,w){if(y=y===void 0?this._zoom:this._limitZoom(y),h=this._limitCenter(ve(h),y,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var O=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,y,w.zoom):this._tryAnimatedPan(h,w.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(h,y,w.pan&&w.pan.noMoveStart),this},setZoom:function(h,y){return this._loaded?this.setView(this.getCenter(),h,{zoom:y}):(this._zoom=h,this)},zoomIn:function(h,y){return h=h||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,y)},zoomOut:function(h,y){return h=h||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,y)},setZoomAround:function(h,y,w){var O=this.getZoomScale(y),$=this.getSize().divideBy(2),F=h instanceof B?h:this.latLngToContainerPoint(h),V=F.subtract($).multiplyBy(1-1/O),K=this.containerPointToLatLng($.add(V));return this.setView(K,y,{zoom:w})},_getBoundsCenterZoom:function(h,y){y=y||{},h=h.getBounds?h.getBounds():me(h);var w=N(y.paddingTopLeft||y.padding||[0,0]),O=N(y.paddingBottomRight||y.padding||[0,0]),$=this.getBoundsZoom(h,!1,w.add(O));if($=typeof y.maxZoom=="number"?Math.min(y.maxZoom,$):$,$===1/0)return{center:h.getCenter(),zoom:$};var F=O.subtract(w).divideBy(2),V=this.project(h.getSouthWest(),$),K=this.project(h.getNorthEast(),$),Q=this.unproject(V.add(K).divideBy(2).add(F),$);return{center:Q,zoom:$}},fitBounds:function(h,y){if(h=me(h),!h.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(h,y);return this.setView(w.center,w.zoom,y)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,y){return this.setView(h,this._zoom,{pan:y})},panBy:function(h,y){if(h=N(h).round(),y=y||{},!h.x&&!h.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jz,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,w,y.duration||.25,y.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,y,w){if(w=w||{},w.animate===!1||!je.any3d)return this.setView(h,y,w);this._stop();var O=this.project(this.getCenter()),$=this.project(h),F=this.getSize(),V=this._zoom;h=ve(h),y=y===void 0?V:y;var K=Math.max(F.x,F.y),Q=K*this.getZoomScale(V,y),se=$.distanceTo(O)||1,Ce=1.42,He=Ce*Ce;function ot(jn){var vb=jn?-1:1,dpe=jn?Q:K,hpe=Q*Q-K*K+vb*He*He*se*se,ppe=2*dpe*He*se,gO=hpe/ppe,MB=Math.sqrt(gO*gO+1)-gO,mpe=MB<1e-9?-18:Math.log(MB);return mpe}function ii(jn){return(Math.exp(jn)-Math.exp(-jn))/2}function Jn(jn){return(Math.exp(jn)+Math.exp(-jn))/2}function La(jn){return ii(jn)/Jn(jn)}var Ti=ot(0);function Ih(jn){return K*(Jn(Ti)/Jn(Ti+Ce*jn))}function lpe(jn){return K*(Jn(Ti)*La(Ti+Ce*jn)-ii(Ti))/He}function upe(jn){return 1-Math.pow(1-jn,1.5)}var cpe=Date.now(),TB=(ot(1)-Ti)/Ce,fpe=w.duration?1e3*w.duration:1e3*TB*.8;function NB(){var jn=(Date.now()-cpe)/fpe,vb=upe(jn)*TB;jn<=1?(this._flyToFrame=j(NB,this),this._move(this.unproject(O.add($.subtract(O).multiplyBy(lpe(vb)/se)),V),this.getScaleZoom(K/Ih(vb),V),{flyTo:!0})):this._move(h,y)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),NB.call(this),this},flyToBounds:function(h,y){var w=this._getBoundsCenterZoom(h,y);return this.flyTo(w.center,w.zoom,y)},setMaxBounds:function(h){return h=me(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var y=this.options.minZoom;return this.options.minZoom=h,this._loaded&&y!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var y=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&y!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,y){this._enforcingBounds=!0;var w=this.getCenter(),O=this._limitCenter(w,this._zoom,me(h));return w.equals(O)||this.panTo(O,y),this._enforcingBounds=!1,this},panInside:function(h,y){y=y||{};var w=N(y.paddingTopLeft||y.padding||[0,0]),O=N(y.paddingBottomRight||y.padding||[0,0]),$=this.project(this.getCenter()),F=this.project(h),V=this.getPixelBounds(),K=Y([V.min.add(w),V.max.subtract(O)]),Q=K.getSize();if(!K.contains(F)){this._enforcingBounds=!0;var se=F.subtract(K.getCenter()),Ce=K.extend(F).getSize().subtract(Q);$.x+=se.x<0?-Ce.x:Ce.x,$.y+=se.y<0?-Ce.y:Ce.y,this.panTo(this.unproject($),y),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),O=y.divideBy(2).round(),$=w.divideBy(2).round(),F=O.subtract($);return!F.x&&!F.y?this:(h.animate&&h.pan?this.panBy(F):(h.pan&&this._rawPanBy(F),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),w=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,w,h):navigator.geolocation.getCurrentPosition(y,w,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var y=h.code,w=h.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var y=h.coords.latitude,w=h.coords.longitude,O=new le(y,w),$=O.toBounds(h.coords.accuracy*2),F=this._locateOptions;if(F.setView){var V=this.getBoundsZoom($);this.setView(O,F.maxZoom?Math.min(V,F.maxZoom):V)}var K={latlng:O,bounds:$,timestamp:h.timestamp};for(var Q in h.coords)typeof h.coords[Q]=="number"&&(K[Q]=h.coords[Q]);this.fire("locationfound",K)}},addHandler:function(h,y){if(!y)return this;var w=this[h]=new y(this);return this._handlers.push(w),this.options[h]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)pn(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,y){var w="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),O=bt("div",w,y||this._mapPane);return h&&(this._panes[h]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),y=this.unproject(h.getBottomLeft()),w=this.unproject(h.getTopRight());return new U(y,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,y,w){h=me(h),w=N(w||[0,0]);var O=this.getZoom()||0,$=this.getMinZoom(),F=this.getMaxZoom(),V=h.getNorthWest(),K=h.getSouthEast(),Q=this.getSize().subtract(w),se=Y(this.project(K,O),this.project(V,O)).getSize(),Ce=je.any3d?this.options.zoomSnap:1,He=Q.x/se.x,ot=Q.y/se.y,ii=y?Math.max(He,ot):Math.min(He,ot);return O=this.getScaleZoom(ii,O),Ce&&(O=Math.round(O/(Ce/100))*(Ce/100),O=y?Math.ceil(O/Ce)*Ce:Math.floor(O/Ce)*Ce),Math.max($,Math.min(F,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,y){var w=this._getTopLeftPoint(h,y);return new Z(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,y){var w=this.options.crs;return y=y===void 0?this._zoom:y,w.scale(h)/w.scale(y)},getScaleZoom:function(h,y){var w=this.options.crs;y=y===void 0?this._zoom:y;var O=w.zoom(h*w.scale(y));return isNaN(O)?1/0:O},project:function(h,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(ve(h),y)},unproject:function(h,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(N(h),y)},layerPointToLatLng:function(h){var y=N(h).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(h){var y=this.project(ve(h))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ve(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(me(h))},distance:function(h,y){return this.options.crs.distance(ve(h),ve(y))},containerPointToLayerPoint:function(h){return N(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return N(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var y=this.containerPointToLayerPoint(N(h));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(h)))},mouseEventToContainerPoint:function(h){return Zz(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var y=this._container=Vz(h);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qe(y,"scroll",this._onScroll,this),this._containerId=l(y)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,rt(h,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=ay(h,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dn(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(h.markerPane,"leaflet-zoom-hide"),rt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,y,w){Dn(this._mapPane,new B(0,0));var O=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var $=this._zoom!==y;this._moveStart($,w)._move(h,y)._moveEnd($),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(h,y){return h&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(h,y,w,O){y===void 0&&(y=this._zoom);var $=this._zoom!==y;return this._zoom=y,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),O?w&&w.pinch&&this.fire("zoom",w):(($||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Dn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[l(this._container)]=this;var y=h?Xt:Qe;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,y){for(var w=[],O,$=y==="mouseout"||y==="mouseover",F=h.target||h.srcElement,V=!1;F;){if(O=this._targets[l(F)],O&&(y==="click"||y==="preclick")&&this._draggableMoved(O)){V=!0;break}if(O&&O.listens(y,!0)&&($&&!aO(F,h)||(w.push(O),$))||F===this._container)break;F=F.parentNode}return!w.length&&!V&&!$&&this.listens(y,!0)&&(w=[this]),w},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var y=h.target||h.srcElement;if(!(!this._loaded||y._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(y))){var w=h.type;w==="mousedown"&&JC(y),this._fireDOMEvent(h,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,y,w){if(h.type==="click"){var O=i({},h);O.type="preclick",this._fireDOMEvent(O,O.type,w)}var $=this._findEventTargets(h,y);if(w){for(var F=[],V=0;V<w.length;V++)w[V].listens(y,!0)&&F.push(w[V]);$=F.concat($)}if($.length){y==="contextmenu"&&yr(h);var K=$[0],Q={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var se=K.getLatLng&&(!K._radius||K._radius<=10);Q.containerPoint=se?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(h),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=se?K.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(V=0;V<$.length;V++)if($[V].fire(y,Q,!0),Q.originalEvent._stopped||$[V].options.bubblingMouseEvents===!1&&k(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,y=this._handlers.length;h<y;h++)this._handlers[h].disable()},whenReady:function(h,y){return this._loaded?h.call(y||this,{target:this}):this.on("load",h,y),this},_getMapPanePos:function(){return xf(this._mapPane)||new B(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,y){var w=h&&y!==void 0?this._getNewPixelOrigin(h,y):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,y){var w=this.getSize()._divideBy(2);return this.project(h,y)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,y,w){var O=this._getNewPixelOrigin(w,y);return this.project(h,y)._subtract(O)},_latLngBoundsToNewLayerBounds:function(h,y,w){var O=this._getNewPixelOrigin(w,y);return Y([this.project(h.getSouthWest(),y)._subtract(O),this.project(h.getNorthWest(),y)._subtract(O),this.project(h.getSouthEast(),y)._subtract(O),this.project(h.getNorthEast(),y)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,y,w){if(!w)return h;var O=this.project(h,y),$=this.getSize().divideBy(2),F=new Z(O.subtract($),O.add($)),V=this._getBoundsOffset(F,w,y);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?h:this.unproject(O.add(V),y)},_limitOffset:function(h,y){if(!y)return h;var w=this.getPixelBounds(),O=new Z(w.min.add(h),w.max.add(h));return h.add(this._getBoundsOffset(O,y))},_getBoundsOffset:function(h,y,w){var O=Y(this.project(y.getNorthEast(),w),this.project(y.getSouthWest(),w)),$=O.min.subtract(h.min),F=O.max.subtract(h.max),V=this._rebound($.x,-F.x),K=this._rebound($.y,-F.y);return new B(V,K)},_rebound:function(h,y){return h+y>0?Math.round(h-y)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(y))},_limitZoom:function(h){var y=this.getMinZoom(),w=this.getMaxZoom(),O=je.any3d?this.options.zoomSnap:1;return O&&(h=Math.round(h/O)*O),Math.max(y,Math.min(w,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,y){var w=this._getCenterOffset(h)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,y),!0)},_createAnimProxy:function(){var h=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(y){var w=GC,O=this._proxy.style[w];vf(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),O===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),y=this.getZoom();vf(this._proxy,this.project(h,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,y,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(y),$=this._getCenterOffset(h)._divideBy(1-1/O);return w.animate!==!0&&!this.getSize().contains($)?!1:(j(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(h,y,!0)},this),!0)},_animateZoom:function(h,y,w,O){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=y,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:y,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ahe(h,y){return new gt(h,y)}var wo=R.extend({options:{position:"topright"},initialize:function(h){g(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var y=this._map;return y&&y.removeControl(this),this.options.position=h,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var y=this._container=this.onAdd(h),w=this.getPosition(),O=h._controlCorners[w];return rt(y,"leaflet-control"),w.indexOf("bottom")!==-1?O.insertBefore(y,O.firstChild):O.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),cy=function(h){return new wo(h)};gt.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},y="leaflet-",w=this._controlContainer=bt("div",y+"control-container",this._container);function O($,F){var V=y+$+" "+y+F;h[$+F]=bt("div",V,w)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)pn(this._controlCorners[h]);pn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var eB=wo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,y,w,O){return w<O?-1:O<w?1:0}},initialize:function(h,y,w){g(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in h)this._addLayer(h[O],O);for(O in y)this._addLayer(y[O],O,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return wo.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,y){return this._addLayer(h,y),this._map?this._update():this},addOverlay:function(h,y){return this._addLayer(h,y,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var y=this._getLayer(l(h));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",y=this._container=bt("div",h),w=this.options.collapsed;y.setAttribute("aria-haspopup",!0),uy(y),iO(y);var O=this._section=bt("section",h+"-list");w&&(this._map.on("click",this.collapse,this),Qe(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var $=this._layersLink=bt("a",h+"-toggle",y);$.href="#",$.title="Layers",$.setAttribute("role","button"),Qe($,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){yr(F),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=bt("div",h+"-base",O),this._separator=bt("div",h+"-separator",O),this._overlaysList=bt("div",h+"-overlays",O),y.appendChild(O)},_getLayer:function(h){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&l(this._layers[y].layer)===h)return this._layers[y]},_addLayer:function(h,y,w){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:y,overlay:w}),this.options.sortLayers&&this._layers.sort(o(function(O,$){return this.options.sortFunction(O.layer,$.layer,O.name,$.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nb(this._baseLayersList),nb(this._overlaysList),this._layerControlInputs=[];var h,y,w,O,$=0;for(w=0;w<this._layers.length;w++)O=this._layers[w],this._addItem(O),y=y||O.overlay,h=h||!O.overlay,$+=O.overlay?0:1;return this.options.hideSingleBase&&(h=h&&$>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=y&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var y=this._getLayer(l(h.target)),w=y.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;w&&this._map.fire(w,y)},_createRadioElement:function(h,y){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(y?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=w,O.firstChild},_addItem:function(h){var y=document.createElement("label"),w=this._map.hasLayer(h.layer),O;h.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=w):O=this._createRadioElement("leaflet-base-layers_"+l(this),w),this._layerControlInputs.push(O),O.layerId=l(h.layer),Qe(O,"click",this._onInputClick,this);var $=document.createElement("span");$.innerHTML=" "+h.name;var F=document.createElement("span");y.appendChild(F),F.appendChild(O),F.appendChild($);var V=h.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,y,w,O=[],$=[];this._handlingClick=!0;for(var F=h.length-1;F>=0;F--)y=h[F],w=this._getLayer(y.layerId).layer,y.checked?O.push(w):y.checked||$.push(w);for(F=0;F<$.length;F++)this._map.hasLayer($[F])&&this._map.removeLayer($[F]);for(F=0;F<O.length;F++)this._map.hasLayer(O[F])||this._map.addLayer(O[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,y,w,O=this._map.getZoom(),$=h.length-1;$>=0;$--)y=h[$],w=this._getLayer(y.layerId).layer,y.disabled=w.options.minZoom!==void 0&&O<w.options.minZoom||w.options.maxZoom!==void 0&&O>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Qe(h,"click",yr),this.expand();var y=this;setTimeout(function(){Xt(h,"click",yr),y._preventClick=!1})}}),khe=function(h,y,w){return new eB(h,y,w)},oO=wo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var y="leaflet-control-zoom",w=bt("div",y+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,y+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,y+"-out",w,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,y,w,O,$){var F=bt("a",w,O);return F.innerHTML=h,F.href="#",F.title=y,F.setAttribute("role","button"),F.setAttribute("aria-label",y),uy(F),Qe(F,"click",_f),Qe(F,"click",$,this),Qe(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var h=this._map,y="leaflet-disabled";Cn(this._zoomInButton,y),Cn(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(rt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(rt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oO,this.addControl(this.zoomControl))});var Che=function(h){return new oO(h)},tB=wo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var y="leaflet-control-scale",w=bt("div",y),O=this.options;return this._addScales(O,y+"-line",w),h.on(O.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),w},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,y,w){h.metric&&(this._mScale=bt("div",y,w)),h.imperial&&(this._iScale=bt("div",y,w))},_update:function(){var h=this._map,y=h.getSize().y/2,w=h.distance(h.containerPointToLatLng([0,y]),h.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(w)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var y=this._getRoundNum(h),w=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,w,y/h)},_updateImperial:function(h){var y=h*3.2808399,w,O,$;y>5280?(w=y/5280,O=this._getRoundNum(w),this._updateScale(this._iScale,O+" mi",O/w)):($=this._getRoundNum(y),this._updateScale(this._iScale,$+" ft",$/y))},_updateScale:function(h,y,w){h.style.width=Math.round(this.options.maxWidth*w)+"px",h.innerHTML=y},_getRoundNum:function(h){var y=Math.pow(10,(Math.floor(h)+"").length-1),w=h/y;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,y*w}}),Ohe=function(h){return new tB(h)},Phe='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sO=wo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?Phe+" ":"")+"Leaflet</a>"},initialize:function(h){g(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),uy(this._container);for(var y in h._layers)h._layers[y].getAttribution&&this.addAttribution(h._layers[y].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var y in this._attributions)this._attributions[y]&&h.push(y);var w=[];this.options.prefix&&w.push(this.options.prefix),h.length&&w.push(h.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new sO().addTo(this)});var $he=function(h){return new sO(h)};wo.Layers=eB,wo.Zoom=oO,wo.Scale=tB,wo.Attribution=sO,cy.layers=khe,cy.zoom=Che,cy.scale=Ohe,cy.attribution=$he;var ms=R.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ms.addTo=function(h,y){return h.addHandler(y,this),this};var The={Events:z},nB=je.touch?"touchstart mousedown":"mousedown",Lu=H.extend({options:{clickTolerance:3},initialize:function(h,y,w,O){g(this,O),this._element=h,this._dragStartTarget=y||h,this._preventOutline=w},enable:function(){this._enabled||(Qe(this._dragStartTarget,nB,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Lu._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,nB,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!VC(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Lu._dragging===this&&this.finishDrag();return}if(!(Lu._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Lu._dragging=this,this._preventOutline&&JC(this._element),KC(),oy(),!this._moving)){this.fire("down");var y=h.touches?h.touches[0]:h,w=Xz(this._element);this._startPoint=new B(y.clientX,y.clientY),this._startPos=xf(this._element),this._parentScale=eO(w);var O=h.type==="mousedown";Qe(document,O?"mousemove":"touchmove",this._onMove,this),Qe(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var y=h.touches&&h.touches.length===1?h.touches[0]:h,w=new B(y.clientX,y.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,yr(h),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Dn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Cn(document.body,"leaflet-dragging"),this._lastTarget&&(Cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xt(document,"mousemove touchmove",this._onMove,this),Xt(document,"mouseup touchend touchcancel",this._onUp,this),ZC(),sy();var y=this._moved&&this._moving;this._moving=!1,Lu._dragging=!1,y&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function rB(h,y,w){var O,$=[1,4,2,8],F,V,K,Q,se,Ce,He,ot;for(F=0,Ce=h.length;F<Ce;F++)h[F]._code=wf(h[F],y);for(K=0;K<4;K++){for(He=$[K],O=[],F=0,Ce=h.length,V=Ce-1;F<Ce;V=F++)Q=h[F],se=h[V],Q._code&He?se._code&He||(ot=sb(se,Q,He,y,w),ot._code=wf(ot,y),O.push(ot)):(se._code&He&&(ot=sb(se,Q,He,y,w),ot._code=wf(ot,y),O.push(ot)),O.push(Q));h=O}return h}function iB(h,y){var w,O,$,F,V,K,Q,se,Ce;if(!h||h.length===0)throw new Error("latlngs not passed");Ia(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var He=ve([0,0]),ot=me(h),ii=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());ii<1700&&(He=lO(h));var Jn=h.length,La=[];for(w=0;w<Jn;w++){var Ti=ve(h[w]);La.push(y.project(ve([Ti.lat-He.lat,Ti.lng-He.lng])))}for(K=Q=se=0,w=0,O=Jn-1;w<Jn;O=w++)$=La[w],F=La[O],V=$.y*F.x-F.y*$.x,Q+=($.x+F.x)*V,se+=($.y+F.y)*V,K+=V*3;K===0?Ce=La[0]:Ce=[Q/K,se/K];var Ih=y.unproject(N(Ce));return ve([Ih.lat+He.lat,Ih.lng+He.lng])}function lO(h){for(var y=0,w=0,O=0,$=0;$<h.length;$++){var F=ve(h[$]);y+=F.lat,w+=F.lng,O++}return ve([y/O,w/O])}var Nhe={__proto__:null,clipPolygon:rB,polygonCenter:iB,centroid:lO};function aB(h,y){if(!y||!h.length)return h.slice();var w=y*y;return h=jhe(h,w),h=Dhe(h,w),h}function oB(h,y,w){return Math.sqrt(fy(h,y,w,!0))}function Mhe(h,y,w){return fy(h,y,w)}function Dhe(h,y){var w=h.length,O=typeof Uint8Array<"u"?Uint8Array:Array,$=new O(w);$[0]=$[w-1]=1,uO(h,$,y,0,w-1);var F,V=[];for(F=0;F<w;F++)$[F]&&V.push(h[F]);return V}function uO(h,y,w,O,$){var F=0,V,K,Q;for(K=O+1;K<=$-1;K++)Q=fy(h[K],h[O],h[$],!0),Q>F&&(V=K,F=Q);F>w&&(y[V]=1,uO(h,y,w,O,V),uO(h,y,w,V,$))}function jhe(h,y){for(var w=[h[0]],O=1,$=0,F=h.length;O<F;O++)Ihe(h[O],h[$])>y&&(w.push(h[O]),$=O);return $<F-1&&w.push(h[F-1]),w}var sB;function lB(h,y,w,O,$){var F=O?sB:wf(h,w),V=wf(y,w),K,Q,se;for(sB=V;;){if(!(F|V))return[h,y];if(F&V)return!1;K=F||V,Q=sb(h,y,K,w,$),se=wf(Q,w),K===F?(h=Q,F=se):(y=Q,V=se)}}function sb(h,y,w,O,$){var F=y.x-h.x,V=y.y-h.y,K=O.min,Q=O.max,se,Ce;return w&8?(se=h.x+F*(Q.y-h.y)/V,Ce=Q.y):w&4?(se=h.x+F*(K.y-h.y)/V,Ce=K.y):w&2?(se=Q.x,Ce=h.y+V*(Q.x-h.x)/F):w&1&&(se=K.x,Ce=h.y+V*(K.x-h.x)/F),new B(se,Ce,$)}function wf(h,y){var w=0;return h.x<y.min.x?w|=1:h.x>y.max.x&&(w|=2),h.y<y.min.y?w|=4:h.y>y.max.y&&(w|=8),w}function Ihe(h,y){var w=y.x-h.x,O=y.y-h.y;return w*w+O*O}function fy(h,y,w,O){var $=y.x,F=y.y,V=w.x-$,K=w.y-F,Q=V*V+K*K,se;return Q>0&&(se=((h.x-$)*V+(h.y-F)*K)/Q,se>1?($=w.x,F=w.y):se>0&&($+=V*se,F+=K*se)),V=h.x-$,K=h.y-F,O?V*V+K*K:new B($,F)}function Ia(h){return!_(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function uB(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ia(h)}function cB(h,y){var w,O,$,F,V,K,Q,se;if(!h||h.length===0)throw new Error("latlngs not passed");Ia(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Ce=ve([0,0]),He=me(h),ot=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());ot<1700&&(Ce=lO(h));var ii=h.length,Jn=[];for(w=0;w<ii;w++){var La=ve(h[w]);Jn.push(y.project(ve([La.lat-Ce.lat,La.lng-Ce.lng])))}for(w=0,O=0;w<ii-1;w++)O+=Jn[w].distanceTo(Jn[w+1])/2;if(O===0)se=Jn[0];else for(w=0,F=0;w<ii-1;w++)if(V=Jn[w],K=Jn[w+1],$=V.distanceTo(K),F+=$,F>O){Q=(F-O)/$,se=[K.x-Q*(K.x-V.x),K.y-Q*(K.y-V.y)];break}var Ti=y.unproject(N(se));return ve([Ti.lat+Ce.lat,Ti.lng+Ce.lng])}var Lhe={__proto__:null,simplify:aB,pointToSegmentDistance:oB,closestPointOnSegment:Mhe,clipSegment:lB,_getEdgeIntersection:sb,_getBitCode:wf,_sqClosestPointOnSegment:fy,isFlat:Ia,_flat:uB,polylineCenter:cB},cO={project:function(h){return new B(h.lng,h.lat)},unproject:function(h){return new le(h.y,h.x)},bounds:new Z([-180,-90],[180,90])},fO={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var y=Math.PI/180,w=this.R,O=h.lat*y,$=this.R_MINOR/w,F=Math.sqrt(1-$*$),V=F*Math.sin(O),K=Math.tan(Math.PI/4-O/2)/Math.pow((1-V)/(1+V),F/2);return O=-w*Math.log(Math.max(K,1e-10)),new B(h.lng*y*w,O)},unproject:function(h){for(var y=180/Math.PI,w=this.R,O=this.R_MINOR/w,$=Math.sqrt(1-O*O),F=Math.exp(-h.y/w),V=Math.PI/2-2*Math.atan(F),K=0,Q=.1,se;K<15&&Math.abs(Q)>1e-7;K++)se=$*Math.sin(V),se=Math.pow((1-se)/(1+se),$/2),Q=Math.PI/2-2*Math.atan(F*se)-V,V+=Q;return new le(V*y,h.x*y/w)}},Fhe={__proto__:null,LonLat:cO,Mercator:fO,SphericalMercator:De},Rhe=i({},it,{code:"EPSG:3395",projection:fO,transformation:function(){var h=.5/(Math.PI*fO.R);return oe(h,.5,-h,.5)}()}),fB=i({},it,{code:"EPSG:4326",projection:cO,transformation:oe(1/180,1,-1/180,.5)}),zhe=i({},mt,{projection:cO,transformation:oe(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,y){var w=y.lng-h.lng,O=y.lat-h.lat;return Math.sqrt(w*w+O*O)},infinite:!0});mt.Earth=it,mt.EPSG3395=Rhe,mt.EPSG3857=Ct,mt.EPSG900913=nt,mt.EPSG4326=fB,mt.Simple=zhe;var So=H.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[l(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[l(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var y=h.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var w=this.getEvents();y.on(w,this),this.once("remove",function(){y.off(w,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var y=l(h);return this._layers[y]?this:(this._layers[y]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var y=l(h);return this._layers[y]?(this._loaded&&h.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return l(h)in this._layers},eachLayer:function(h,y){for(var w in this._layers)h.call(y,this._layers[w]);return this},_addLayers:function(h){h=h?_(h)?h:[h]:[];for(var y=0,w=h.length;y<w;y++)this.addLayer(h[y])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[l(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var y=l(h);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,y=-1/0,w=this._getZoomSpan();for(var O in this._zoomBoundLayers){var $=this._zoomBoundLayers[O].options;h=$.minZoom===void 0?h:Math.min(h,$.minZoom),y=$.maxZoom===void 0?y:Math.max(y,$.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=h===1/0?void 0:h,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Th=So.extend({initialize:function(h,y){g(this,y),this._layers={};var w,O;if(h)for(w=0,O=h.length;w<O;w++)this.addLayer(h[w])},addLayer:function(h){var y=this.getLayerId(h);return this._layers[y]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var y=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(h){var y=typeof h=="number"?h:this.getLayerId(h);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var y=Array.prototype.slice.call(arguments,1),w,O;for(w in this._layers)O=this._layers[w],O[h]&&O[h].apply(O,y);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,y){for(var w in this._layers)h.call(y,this._layers[w]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return l(h)}}),Bhe=function(h,y){return new Th(h,y)},wl=Th.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Th.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Th.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new U;for(var y in this._layers){var w=this._layers[y];h.extend(w.getBounds?w.getBounds():w.getLatLng())}return h}}),Uhe=function(h,y){return new wl(h,y)},Nh=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){g(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,y){var w=this._getIconUrl(h);if(!w){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(w,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(O,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(h,y){var w=this.options,O=w[y+"Size"];typeof O=="number"&&(O=[O,O]);var $=N(O),F=N(y==="shadow"&&w.shadowAnchor||w.iconAnchor||$&&$.divideBy(2,!0));h.className="leaflet-marker-"+y+" "+(w.className||""),F&&(h.style.marginLeft=-F.x+"px",h.style.marginTop=-F.y+"px"),$&&(h.style.width=$.x+"px",h.style.height=$.y+"px")},_createImg:function(h,y){return y=y||document.createElement("img"),y.src=h,y},_getIconUrl:function(h){return je.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Whe(h){return new Nh(h)}var dy=Nh.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof dy.imagePath!="string"&&(dy.imagePath=this._detectIconPath()),(this.options.imagePath||dy.imagePath)+Nh.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var y=function(w,O,$){var F=O.exec(w);return F&&F[$]};return h=y(h,/^url\((['"])?(.+)\1\)$/,2),h&&y(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=bt("div","leaflet-default-icon-path",document.body),y=ay(h,"background-image")||ay(h,"backgroundImage");if(document.body.removeChild(h),y=this._stripUrl(y),y)return y;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),dB=ms.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Lu(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var y=this._marker,w=y._map,O=this._marker.options.autoPanSpeed,$=this._marker.options.autoPanPadding,F=xf(y._icon),V=w.getPixelBounds(),K=w.getPixelOrigin(),Q=Y(V.min._subtract(K).add($),V.max._subtract(K).subtract($));if(!Q.contains(F)){var se=N((Math.max(Q.max.x,F.x)-Q.max.x)/(V.max.x-Q.max.x)-(Math.min(Q.min.x,F.x)-Q.min.x)/(V.min.x-Q.min.x),(Math.max(Q.max.y,F.y)-Q.max.y)/(V.max.y-Q.max.y)-(Math.min(Q.min.y,F.y)-Q.min.y)/(V.min.y-Q.min.y)).multiplyBy(O);w.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),Dn(y._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=j(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,h)))},_onDrag:function(h){var y=this._marker,w=y._shadow,O=xf(y._icon),$=y._map.layerPointToLatLng(O);w&&Dn(w,O),y._latlng=$,h.latlng=$,h.oldLatLng=this._oldLatLng,y.fire("move",h).fire("drag",h)},_onDragEnd:function(h){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),lb=So.extend({options:{icon:new dy,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,y){g(this,y),this._latlng=ve(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var y=this._latlng;return this._latlng=ve(h),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=h.icon.createIcon(this._icon),O=!1;w!==this._icon&&(this._icon&&this._removeIcon(),O=!0,h.title&&(w.title=h.title),w.tagName==="IMG"&&(w.alt=h.alt||"")),rt(w,y),h.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(w,"focus",this._panOnFocus,this);var $=h.icon.createShadow(this._shadow),F=!1;$!==this._shadow&&(this._removeShadow(),F=!0),$&&(rt($,y),$.alt=""),this._shadow=$,h.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),$&&F&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,"focus",this._panOnFocus,this),pn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pn(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Dn(this._icon,h),this._shadow&&Dn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var y=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dB)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dB(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&ja(this._icon,h),this._shadow&&ja(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var y=this.options.icon.options,w=y.iconSize?N(y.iconSize):N(0,0),O=y.iconAnchor?N(y.iconAnchor):N(0,0);h.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:w.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hhe(h,y){return new lb(h,y)}var Fu=So.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return g(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ub=Fu.extend({options:{fill:!0,radius:10},initialize:function(h,y){g(this,y),this._latlng=ve(h),this._radius=this.options.radius},setLatLng:function(h){var y=this._latlng;return this._latlng=ve(h),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var y=h&&h.radius||this._radius;return Fu.prototype.setStyle.call(this,h),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,y=this._radiusY||h,w=this._clickTolerance(),O=[h+w,y+w];this._pxBounds=new Z(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qhe(h,y){return new ub(h,y)}var dO=ub.extend({initialize:function(h,y,w){if(typeof y=="number"&&(y=i({},w,{radius:y})),g(this,y),this._latlng=ve(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:Fu.prototype.setStyle,_project:function(){var h=this._latlng.lng,y=this._latlng.lat,w=this._map,O=w.options.crs;if(O.distance===it.distance){var $=Math.PI/180,F=this._mRadius/it.R/$,V=w.project([y+F,h]),K=w.project([y-F,h]),Q=V.add(K).divideBy(2),se=w.unproject(Q).lat,Ce=Math.acos((Math.cos(F*$)-Math.sin(y*$)*Math.sin(se*$))/(Math.cos(y*$)*Math.cos(se*$)))/$;(isNaN(Ce)||Ce===0)&&(Ce=F/Math.cos(Math.PI/180*y)),this._point=Q.subtract(w.getPixelOrigin()),this._radius=isNaN(Ce)?0:Q.x-w.project([se,h-Ce]).x,this._radiusY=Q.y-V.y}else{var He=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(He).x}this._updateBounds()}});function Ghe(h,y,w){return new dO(h,y,w)}var Sl=Fu.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,y){g(this,y),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var y=1/0,w=null,O=fy,$,F,V=0,K=this._parts.length;V<K;V++)for(var Q=this._parts[V],se=1,Ce=Q.length;se<Ce;se++){$=Q[se-1],F=Q[se];var He=O(h,$,F,!0);He<y&&(y=He,w=O(h,$,F))}return w&&(w.distance=Math.sqrt(y)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cB(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,y){return y=y||this._defaultShape(),h=ve(h),y.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new U,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Ia(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var y=[],w=Ia(h),O=0,$=h.length;O<$;O++)w?(y[O]=ve(h[O]),this._bounds.extend(y[O])):y[O]=this._convertLatLngs(h[O]);return y},_project:function(){var h=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),y=new B(h,h);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(h,y,w){var O=h[0]instanceof le,$=h.length,F,V;if(O){for(V=[],F=0;F<$;F++)V[F]=this._map.latLngToLayerPoint(h[F]),w.extend(V[F]);y.push(V)}else for(F=0;F<$;F++)this._projectLatlngs(h[F],y,w)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,w,O,$,F,V,K,Q;for(w=0,$=0,F=this._rings.length;w<F;w++)for(Q=this._rings[w],O=0,V=Q.length;O<V-1;O++)K=lB(Q[O],Q[O+1],h,O,!0),K&&(y[$]=y[$]||[],y[$].push(K[0]),(K[1]!==Q[O+1]||O===V-2)&&(y[$].push(K[1]),$++))}},_simplifyPoints:function(){for(var h=this._parts,y=this.options.smoothFactor,w=0,O=h.length;w<O;w++)h[w]=aB(h[w],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,y){var w,O,$,F,V,K,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(w=0,F=this._parts.length;w<F;w++)for(K=this._parts[w],O=0,V=K.length,$=V-1;O<V;$=O++)if(!(!y&&O===0)&&oB(h,K[$],K[O])<=Q)return!0;return!1}});function Vhe(h,y){return new Sl(h,y)}Sl._flat=uB;var Mh=Sl.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return iB(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var y=Sl.prototype._convertLatLngs.call(this,h),w=y.length;return w>=2&&y[0]instanceof le&&y[0].equals(y[w-1])&&y.pop(),y},_setLatLngs:function(h){Sl.prototype._setLatLngs.call(this,h),Ia(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ia(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,y=this.options.weight,w=new B(y,y);if(h=new Z(h.min.subtract(w),h.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,$=this._rings.length,F;O<$;O++)F=rB(this._rings[O],h,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var y=!1,w,O,$,F,V,K,Q,se;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(F=0,Q=this._parts.length;F<Q;F++)for(w=this._parts[F],V=0,se=w.length,K=se-1;V<se;K=V++)O=w[V],$=w[K],O.y>h.y!=$.y>h.y&&h.x<($.x-O.x)*(h.y-O.y)/($.y-O.y)+O.x&&(y=!y);return y||Sl.prototype._containsPoint.call(this,h,!0)}});function Xhe(h,y){return new Mh(h,y)}var El=wl.extend({initialize:function(h,y){g(this,y),this._layers={},h&&this.addData(h)},addData:function(h){var y=_(h)?h:h.features,w,O,$;if(y){for(w=0,O=y.length;w<O;w++)$=y[w],($.geometries||$.geometry||$.features||$.coordinates)&&this.addData($);return this}var F=this.options;if(F.filter&&!F.filter(h))return this;var V=cb(h,F);return V?(V.feature=hb(h),V.defaultOptions=V.options,this.resetStyle(V),F.onEachFeature&&F.onEachFeature(h,V),this.addLayer(V)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(y){this._setLayerStyle(y,h)},this)},_setLayerStyle:function(h,y){h.setStyle&&(typeof y=="function"&&(y=y(h.feature)),h.setStyle(y))}});function cb(h,y){var w=h.type==="Feature"?h.geometry:h,O=w?w.coordinates:null,$=[],F=y&&y.pointToLayer,V=y&&y.coordsToLatLng||hO,K,Q,se,Ce;if(!O&&!w)return null;switch(w.type){case"Point":return K=V(O),hB(F,h,K,y);case"MultiPoint":for(se=0,Ce=O.length;se<Ce;se++)K=V(O[se]),$.push(hB(F,h,K,y));return new wl($);case"LineString":case"MultiLineString":return Q=fb(O,w.type==="LineString"?0:1,V),new Sl(Q,y);case"Polygon":case"MultiPolygon":return Q=fb(O,w.type==="Polygon"?1:2,V),new Mh(Q,y);case"GeometryCollection":for(se=0,Ce=w.geometries.length;se<Ce;se++){var He=cb({geometry:w.geometries[se],type:"Feature",properties:h.properties},y);He&&$.push(He)}return new wl($);case"FeatureCollection":for(se=0,Ce=w.features.length;se<Ce;se++){var ot=cb(w.features[se],y);ot&&$.push(ot)}return new wl($);default:throw new Error("Invalid GeoJSON object.")}}function hB(h,y,w,O){return h?h(y,w):new lb(w,O&&O.markersInheritOptions&&O)}function hO(h){return new le(h[1],h[0],h[2])}function fb(h,y,w){for(var O=[],$=0,F=h.length,V;$<F;$++)V=y?fb(h[$],y-1,w):(w||hO)(h[$]),O.push(V);return O}function pO(h,y){return h=ve(h),h.alt!==void 0?[d(h.lng,y),d(h.lat,y),d(h.alt,y)]:[d(h.lng,y),d(h.lat,y)]}function db(h,y,w,O){for(var $=[],F=0,V=h.length;F<V;F++)$.push(y?db(h[F],Ia(h[F])?0:y-1,w,O):pO(h[F],O));return!y&&w&&$.length>0&&$.push($[0].slice()),$}function Dh(h,y){return h.feature?i({},h.feature,{geometry:y}):hb(y)}function hb(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var mO={toGeoJSON:function(h){return Dh(this,{type:"Point",coordinates:pO(this.getLatLng(),h)})}};lb.include(mO),dO.include(mO),ub.include(mO),Sl.include({toGeoJSON:function(h){var y=!Ia(this._latlngs),w=db(this._latlngs,y?1:0,!1,h);return Dh(this,{type:(y?"Multi":"")+"LineString",coordinates:w})}}),Mh.include({toGeoJSON:function(h){var y=!Ia(this._latlngs),w=y&&!Ia(this._latlngs[0]),O=db(this._latlngs,w?2:y?1:0,!0,h);return y||(O=[O]),Dh(this,{type:(w?"Multi":"")+"Polygon",coordinates:O})}}),Th.include({toMultiPoint:function(h){var y=[];return this.eachLayer(function(w){y.push(w.toGeoJSON(h).geometry.coordinates)}),Dh(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(h){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(h);var w=y==="GeometryCollection",O=[];return this.eachLayer(function($){if($.toGeoJSON){var F=$.toGeoJSON(h);if(w)O.push(F.geometry);else{var V=hb(F);V.type==="FeatureCollection"?O.push.apply(O,V.features):O.push(V)}}}),w?Dh(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function pB(h,y){return new El(h,y)}var Yhe=pB,pb=So.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,y,w){this._url=h,this._bounds=me(y),g(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Ph(this._image),this},bringToBack:function(){return this._map&&$h(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=me(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",y=this._image=h?this._url:bt("img");if(rt(y,"leaflet-image-layer"),this._zoomAnimated&&rt(y,"leaflet-zoom-animated"),this.options.className&&rt(y,this.options.className),y.onselectstart=f,y.onmousemove=f,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(h){var y=this._map.getZoomScale(h.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;vf(this._image,w,y)},_reset:function(){var h=this._image,y=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=y.getSize();Dn(h,y.min),h.style.width=w.x+"px",h.style.height=w.y+"px"},_updateOpacity:function(){ja(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Khe=function(h,y,w){return new pb(h,y,w)},mB=pb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",y=this._image=h?this._url:bt("video");if(rt(y,"leaflet-image-layer"),this._zoomAnimated&&rt(y,"leaflet-zoom-animated"),this.options.className&&rt(y,this.options.className),y.onselectstart=f,y.onmousemove=f,y.onloadeddata=o(this.fire,this,"load"),h){for(var w=y.getElementsByTagName("source"),O=[],$=0;$<w.length;$++)O.push(w[$].src);this._url=w.length>0?O:[y.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var V=bt("source");V.src=this._url[F],y.appendChild(V)}}});function Zhe(h,y,w){return new mB(h,y,w)}var gB=pb.extend({_initImage:function(){var h=this._image=this._url;rt(h,"leaflet-image-layer"),this._zoomAnimated&&rt(h,"leaflet-zoom-animated"),this.options.className&&rt(h,this.options.className),h.onselectstart=f,h.onmousemove=f}});function Qhe(h,y,w){return new gB(h,y,w)}var gs=So.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,y){h&&(h instanceof le||_(h))?(this._latlng=ve(h),g(this,y)):(g(this,h),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&ja(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&ja(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(ja(this._container,0),this._removeTimeout=setTimeout(o(pn,void 0,this._container),200)):pn(this._container),this.options.interactive&&(Cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ve(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ph(this._container),this},bringToBack:function(){return this._map&&$h(this._container),this},_prepareOpen:function(h){var y=this._source;if(!y._map)return!1;if(y instanceof wl){y=null;var w=this._source._layers;for(var O in w)if(w[O]._map){y=w[O];break}if(!y)return!1;this._source=y}if(!h)if(y.getCenter)h=y.getCenter();else if(y.getLatLng)h=y.getLatLng();else if(y.getBounds)h=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")h.innerHTML=y;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),y=N(this.options.offset),w=this._getAnchor();this._zoomAnimated?Dn(this._container,h.add(w)):y=y.add(h).add(w);var O=this._containerBottom=-y.y,$=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=O+"px",this._container.style.left=$+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(h,y,w,O){var $=y;return $ instanceof h||($=new h(O).setContent(y)),w&&$.setLatLng(w),$}}),So.include({_initOverlay:function(h,y,w,O){var $=w;return $ instanceof h?(g($,O),$._source=this):($=y&&!O?y:new h(O,this),$.setContent(w)),$}});var mb=gs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,gs.prototype.openOn.call(this,h)},onAdd:function(h){gs.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fu||this._source.on("preclick",bf))},onRemove:function(h){gs.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fu||this._source.off("preclick",bf))},getEvents:function(){var h=gs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",y=this._container=bt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=bt("div",h+"-content-wrapper",y);if(this._contentNode=bt("div",h+"-content",w),uy(y),iO(this._contentNode),Qe(y,"contextmenu",bf),this._tipContainer=bt("div",h+"-tip-container",y),this._tip=bt("div",h+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=bt("a",h+"-close-button",y);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',Qe(O,"click",function($){yr($),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,y=h.style;y.width="",y.whiteSpace="nowrap";var w=h.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),y.width=w+1+"px",y.whiteSpace="",y.height="";var O=h.offsetHeight,$=this.options.maxHeight,F="leaflet-popup-scrolled";$&&O>$?(y.height=$+"px",rt(h,F)):Cn(h,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var y=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),w=this._getAnchor();Dn(this._container,y.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,y=parseInt(ay(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+y,O=this._containerWidth,$=new B(this._containerLeft,-w-this._containerBottom);$._add(xf(this._container));var F=h.layerPointToContainerPoint($),V=N(this.options.autoPanPadding),K=N(this.options.autoPanPaddingTopLeft||V),Q=N(this.options.autoPanPaddingBottomRight||V),se=h.getSize(),Ce=0,He=0;F.x+O+Q.x>se.x&&(Ce=F.x+O-se.x+Q.x),F.x-Ce-K.x<0&&(Ce=F.x-K.x),F.y+w+Q.y>se.y&&(He=F.y+w-se.y+Q.y),F.y-He-K.y<0&&(He=F.y-K.y),(Ce||He)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Ce,He]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jhe=function(h,y){return new mb(h,y)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(h,y,w){return this._initOverlay(mb,h,y,w).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),So.include({bindPopup:function(h,y){return this._popup=this._initOverlay(mb,this._popup,h,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof wl||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){_f(h);var y=h.layer||h.target;if(this._popup._source===y&&!(y instanceof Fu)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=y,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var gb=gs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){gs.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){gs.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=gs.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",y=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var y,w,O=this._map,$=this._container,F=O.latLngToContainerPoint(O.getCenter()),V=O.layerPointToContainerPoint(h),K=this.options.direction,Q=$.offsetWidth,se=$.offsetHeight,Ce=N(this.options.offset),He=this._getAnchor();K==="top"?(y=Q/2,w=se):K==="bottom"?(y=Q/2,w=0):K==="center"?(y=Q/2,w=se/2):K==="right"?(y=0,w=se/2):K==="left"?(y=Q,w=se/2):V.x<F.x?(K="right",y=0,w=se/2):(K="left",y=Q+(Ce.x+He.x)*2,w=se/2),h=h.subtract(N(y,w,!0)).add(Ce).add(He),Cn($,"leaflet-tooltip-right"),Cn($,"leaflet-tooltip-left"),Cn($,"leaflet-tooltip-top"),Cn($,"leaflet-tooltip-bottom"),rt($,"leaflet-tooltip-"+K),Dn($,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&ja(this._container,h)},_animateZoom:function(h){var y=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(y)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),epe=function(h,y){return new gb(h,y)};gt.include({openTooltip:function(h,y,w){return this._initOverlay(gb,h,y,w).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),So.include({bindTooltip:function(h,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gb,this._tooltip,h,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var y=h?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[y](w),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof wl||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var y=typeof h.getElement=="function"&&h.getElement();y&&(Qe(y,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Qe(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var y=typeof h.getElement=="function"&&h.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var y=h.latlng,w,O;this._tooltip.options.sticky&&h.originalEvent&&(w=this._map.mouseEventToContainerPoint(h.originalEvent),O=this._map.containerPointToLayerPoint(w),y=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(y)}});var yB=Nh.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var y=h&&h.tagName==="DIV"?h:document.createElement("div"),w=this.options;if(w.html instanceof Element?(nb(y),y.appendChild(w.html)):y.innerHTML=w.html!==!1?w.html:"",w.bgPos){var O=N(w.bgPos);y.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function tpe(h){return new yB(h)}Nh.Default=dy;var hy=So.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){g(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),pn(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ph(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($h(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof B?h:new B(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var y=this.getPane().children,w=-h(-1/0,1/0),O=0,$=y.length,F;O<$;O++)F=y[O].style.zIndex,y[O]!==this._container&&F&&(w=h(w,+F));isFinite(w)&&(this.options.zIndex=w+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){ja(this._container,this.options.opacity);var h=+new Date,y=!1,w=!1;for(var O in this._tiles){var $=this._tiles[O];if(!(!$.current||!$.loaded)){var F=Math.min(1,(h-$.loaded)/200);ja($.el,F),F<1?y=!0:($.active?w=!0:this._onOpaqueTile($),$.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),y&&(I(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,y=this.options.maxZoom;if(h!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===h?(this._levels[w].el.style.zIndex=y-Math.abs(h-w),this._onUpdateLevel(w)):(pn(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var O=this._levels[h],$=this._map;return O||(O=this._levels[h]={},O.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=y,O.origin=$.project($.unproject($.getPixelOrigin()),h).round(),O.zoom=h,this._setZoomTransform(O,$.getCenter(),$.getZoom()),f(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var h,y,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)y=this._tiles[h],y.retain=y.current;for(h in this._tiles)if(y=this._tiles[h],y.current&&!y.active){var O=y.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var y in this._tiles)this._tiles[y].coords.z===h&&this._removeTile(y)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)pn(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,y,w,O){var $=Math.floor(h/2),F=Math.floor(y/2),V=w-1,K=new B(+$,+F);K.z=+V;var Q=this._tileCoordsToKey(K),se=this._tiles[Q];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),V>O?this._retainParent($,F,V,O):!1)},_retainChildren:function(h,y,w,O){for(var $=2*h;$<2*h+2;$++)for(var F=2*y;F<2*y+2;F++){var V=new B($,F);V.z=w+1;var K=this._tileCoordsToKey(V),Q=this._tiles[K];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);w+1<O&&this._retainChildren($,F,w+1,O)}},_resetView:function(h){var y=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var y=this.options;return y.minNativeZoom!==void 0&&h<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<h?y.maxNativeZoom:h},_setView:function(h,y,w,O){var $=Math.round(y);this.options.maxZoom!==void 0&&$>this.options.maxZoom||this.options.minZoom!==void 0&&$<this.options.minZoom?$=void 0:$=this._clampZoom($);var F=this.options.updateWhenZooming&&$!==this._tileZoom;(!O||F)&&(this._tileZoom=$,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),$!==void 0&&this._update(h),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(h,y)},_setZoomTransforms:function(h,y){for(var w in this._levels)this._setZoomTransform(this._levels[w],h,y)},_setZoomTransform:function(h,y,w){var O=this._map.getZoomScale(w,h.zoom),$=h.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(y,w)).round();je.any3d?vf(h.el,$,O):Dn(h.el,$)},_resetGrid:function(){var h=this._map,y=h.options.crs,w=this._tileSize=this.getTileSize(),O=this._tileZoom,$=this._map.getPixelWorldBounds(this._tileZoom);$&&(this._globalTileRange=this._pxBoundsToTileRange($)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,y.wrapLng[0]],O).x/w.x),Math.ceil(h.project([0,y.wrapLng[1]],O).x/w.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([y.wrapLat[0],0],O).y/w.x),Math.ceil(h.project([y.wrapLat[1],0],O).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var y=this._map,w=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),O=y.getZoomScale(w,this._tileZoom),$=y.project(h,this._tileZoom).floor(),F=y.getSize().divideBy(O*2);return new Z($.subtract(F),$.add(F))},_update:function(h){var y=this._map;if(y){var w=this._clampZoom(y.getZoom());if(h===void 0&&(h=y.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(h),$=this._pxBoundsToTileRange(O),F=$.getCenter(),V=[],K=this.options.keepBuffer,Q=new Z($.getBottomLeft().subtract([K,-K]),$.getTopRight().add([K,-K]));if(!(isFinite($.min.x)&&isFinite($.min.y)&&isFinite($.max.x)&&isFinite($.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var Ce=this._tiles[se].coords;(Ce.z!==this._tileZoom||!Q.contains(new B(Ce.x,Ce.y)))&&(this._tiles[se].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(h,w);return}for(var He=$.min.y;He<=$.max.y;He++)for(var ot=$.min.x;ot<=$.max.x;ot++){var ii=new B(ot,He);if(ii.z=this._tileZoom,!!this._isValidTile(ii)){var Jn=this._tiles[this._tileCoordsToKey(ii)];Jn?Jn.current=!0:V.push(ii)}}if(V.sort(function(Ti,Ih){return Ti.distanceTo(F)-Ih.distanceTo(F)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var La=document.createDocumentFragment();for(ot=0;ot<V.length;ot++)this._addTile(V[ot],La);this._level.el.appendChild(La)}}}},_isValidTile:function(h){var y=this._map.options.crs;if(!y.infinite){var w=this._globalTileRange;if(!y.wrapLng&&(h.x<w.min.x||h.x>w.max.x)||!y.wrapLat&&(h.y<w.min.y||h.y>w.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(h);return me(this.options.bounds).overlaps(O)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var y=this._map,w=this.getTileSize(),O=h.scaleBy(w),$=O.add(w),F=y.unproject(O,h.z),V=y.unproject($,h.z);return[F,V]},_tileCoordsToBounds:function(h){var y=this._tileCoordsToNwSe(h),w=new U(y[0],y[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var y=h.split(":"),w=new B(+y[0],+y[1]);return w.z=+y[2],w},_removeTile:function(h){var y=this._tiles[h];y&&(pn(y.el),delete this._tiles[h],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){rt(h,"leaflet-tile");var y=this.getTileSize();h.style.width=y.x+"px",h.style.height=y.y+"px",h.onselectstart=f,h.onmousemove=f,je.ielt9&&this.options.opacity<1&&ja(h,this.options.opacity)},_addTile:function(h,y){var w=this._getTilePos(h),O=this._tileCoordsToKey(h),$=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile($),this.createTile.length<2&&j(o(this._tileReady,this,h,null,$)),Dn($,w),this._tiles[O]={el:$,coords:h,current:!0},y.appendChild($),this.fire("tileloadstart",{tile:$,coords:h})},_tileReady:function(h,y,w){y&&this.fire("tileerror",{error:y,tile:w,coords:h});var O=this._tileCoordsToKey(h);w=this._tiles[O],w&&(w.loaded=+new Date,this._map._fadeAnimated?(ja(w.el,0),I(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),y||(rt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var y=new B(this._wrapX?c(h.x,this._wrapX):h.x,this._wrapY?c(h.y,this._wrapY):h.y);return y.z=h.z,y},_pxBoundsToTileRange:function(h){var y=this.getTileSize();return new Z(h.min.unscaleBy(y).floor(),h.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function npe(h){return new hy(h)}var jh=hy.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,y){this._url=h,y=g(this,y),y.detectRetina&&je.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,y){return this._url===h&&y===void 0&&(y=!0),this._url=h,y||this.redraw(),this},createTile:function(h,y){var w=document.createElement("img");return Qe(w,"load",o(this._tileOnLoad,this,y,w)),Qe(w,"error",o(this._tileOnError,this,y,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(h),w},getTileUrl:function(h){var y={r:je.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-h.y;this.options.tms&&(y.y=w),y["-y"]=w}return b(this._url,i(y,this.options))},_tileOnLoad:function(h,y){je.ielt9?setTimeout(o(h,this,null,y),0):h(null,y)},_tileOnError:function(h,y,w){var O=this.options.errorTileUrl;O&&y.getAttribute("src")!==O&&(y.src=O),h(w,y)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,y=this.options.maxZoom,w=this.options.zoomReverse,O=this.options.zoomOffset;return w&&(h=y-h),h+O},_getSubdomain:function(h){var y=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var h,y;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(y=this._tiles[h].el,y.onload=f,y.onerror=f,!y.complete)){y.src=E;var w=this._tiles[h].coords;pn(y),delete this._tiles[h],this.fire("tileabort",{tile:y,coords:w})}},_removeTile:function(h){var y=this._tiles[h];if(y)return y.el.setAttribute("src",E),hy.prototype._removeTile.call(this,h)},_tileReady:function(h,y,w){if(!(!this._map||w&&w.getAttribute("src")===E))return hy.prototype._tileReady.call(this,h,y,w)}});function vB(h,y){return new jh(h,y)}var xB=jh.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,y){this._url=h;var w=i({},this.defaultWmsParams);for(var O in y)O in this.options||(w[O]=y[O]);y=g(this,y);var $=y.detectRetina&&je.retina?2:1,F=this.getTileSize();w.width=F.x*$,w.height=F.y*$,this.wmsParams=w},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,jh.prototype.onAdd.call(this,h)},getTileUrl:function(h){var y=this._tileCoordsToNwSe(h),w=this._crs,O=Y(w.project(y[0]),w.project(y[1])),$=O.min,F=O.max,V=(this._wmsVersion>=1.3&&this._crs===fB?[$.y,$.x,F.y,F.x]:[$.x,$.y,F.x,F.y]).join(","),K=jh.prototype.getTileUrl.call(this,h);return K+x(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(h,y){return i(this.wmsParams,h),y||this.redraw(),this}});function rpe(h,y){return new xB(h,y)}jh.WMS=xB,vB.wms=rpe;var Al=So.extend({options:{padding:.1},initialize:function(h){g(this,h),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,y){var w=this._map.getZoomScale(y,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),$=this._map.project(this._center,y),F=O.multiplyBy(-w).add($).subtract(this._map._getNewPixelOrigin(h,y));je.any3d?vf(this._container,F,w):Dn(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,y=this._map.getSize(),w=this._map.containerPointToLayerPoint(y.multiplyBy(-h)).round();this._bounds=new Z(w,w.add(y.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bB=Al.extend({options:{tolerance:0},getEvents:function(){var h=Al.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Al.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Qe(h,"mousemove",this._onMouseMove,this),Qe(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qe(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,pn(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var y in this._layers)h=this._layers[y],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Al.prototype._update.call(this);var h=this._bounds,y=this._container,w=h.getSize(),O=je.retina?2:1;Dn(y,h.min),y.width=O*w.x,y.height=O*w.y,y.style.width=w.x+"px",y.style.height=w.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Al.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[l(h)]=h;var y=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var y=h._order,w=y.next,O=y.prev;w?w.prev=O:this._drawLast=O,O?O.next=w:this._drawFirst=w,delete h._order,delete this._layers[l(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var y=h.options.dashArray.split(/[, ]+/),w=[],O,$;for($=0;$<y.length;$++){if(O=Number(y[$]),isNaN(O))return;w.push(O)}h.options._dashArray=w}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var y=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(h._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(h._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var y=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,y=this._redrawBounds;if(this._ctx.save(),y){var w=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)h=O.layer,(!y||h._pxBounds&&h._pxBounds.intersects(y))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,y){if(this._drawing){var w,O,$,F,V=h._parts,K=V.length,Q=this._ctx;if(K){for(Q.beginPath(),w=0;w<K;w++){for(O=0,$=V[w].length;O<$;O++)F=V[w][O],Q[O?"lineTo":"moveTo"](F.x,F.y);y&&Q.closePath()}this._fillStroke(Q,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var y=h._point,w=this._ctx,O=Math.max(Math.round(h._radius),1),$=(Math.max(Math.round(h._radiusY),1)||O)/O;$!==1&&(w.save(),w.scale(1,$)),w.beginPath(),w.arc(y.x,y.y/$,O,0,Math.PI*2,!1),$!==1&&w.restore(),this._fillStroke(w,h)}},_fillStroke:function(h,y){var w=y.options;w.fill&&(h.globalAlpha=w.fillOpacity,h.fillStyle=w.fillColor||w.color,h.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(h.setLineDash&&h.setLineDash(y.options&&y.options._dashArray||[]),h.globalAlpha=w.opacity,h.lineWidth=w.weight,h.strokeStyle=w.color,h.lineCap=w.lineCap,h.lineJoin=w.lineJoin,h.stroke())},_onClick:function(h){for(var y=this._map.mouseEventToLayerPoint(h),w,O,$=this._drawFirst;$;$=$.next)w=$.layer,w.options.interactive&&w._containsPoint(y)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(w))&&(O=w);this._fireEvent(O?[O]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,y)}},_handleMouseOut:function(h){var y=this._hoveredLayer;y&&(Cn(this._container,"leaflet-interactive"),this._fireEvent([y],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,y){if(!this._mouseHoverThrottled){for(var w,O,$=this._drawFirst;$;$=$.next)w=$.layer,w.options.interactive&&w._containsPoint(y)&&(O=w);O!==this._hoveredLayer&&(this._handleMouseOut(h),O&&(rt(this._container,"leaflet-interactive"),this._fireEvent([O],h,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,y,w){this._map._fireDOMEvent(y,w||y.type,h)},_bringToFront:function(h){var y=h._order;if(y){var w=y.next,O=y.prev;if(w)w.prev=O;else return;O?O.next=w:w&&(this._drawFirst=w),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(h)}},_bringToBack:function(h){var y=h._order;if(y){var w=y.next,O=y.prev;if(O)O.next=w;else return;w?w.prev=O:O&&(this._drawLast=O),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(h)}}});function _B(h){return je.canvas?new bB(h):null}var py=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ipe={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Al.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var y=h._container=py("shape");rt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",h._path=py("path"),y.appendChild(h._path),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){var y=h._container;this._container.appendChild(y),h.options.interactive&&h.addInteractiveTarget(y)},_removePath:function(h){var y=h._container;pn(y),h.removeInteractiveTarget(y),delete this._layers[l(h)]},_updateStyle:function(h){var y=h._stroke,w=h._fill,O=h.options,$=h._container;$.stroked=!!O.stroke,$.filled=!!O.fill,O.stroke?(y||(y=h._stroke=py("stroke")),$.appendChild(y),y.weight=O.weight+"px",y.color=O.color,y.opacity=O.opacity,O.dashArray?y.dashStyle=_(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=O.lineCap.replace("butt","flat"),y.joinstyle=O.lineJoin):y&&($.removeChild(y),h._stroke=null),O.fill?(w||(w=h._fill=py("fill")),$.appendChild(w),w.color=O.fillColor||O.color,w.opacity=O.fillOpacity):w&&($.removeChild(w),h._fill=null)},_updateCircle:function(h){var y=h._point.round(),w=Math.round(h._radius),O=Math.round(h._radiusY||w);this._setPath(h,h._empty()?"M0 0":"AL "+y.x+","+y.y+" "+w+","+O+" 0,"+65535*360)},_setPath:function(h,y){h._path.v=y},_bringToFront:function(h){Ph(h._container)},_bringToBack:function(h){$h(h._container)}},yb=je.vml?py:zt,my=Al.extend({_initContainer:function(){this._container=yb("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yb("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pn(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Al.prototype._update.call(this);var h=this._bounds,y=h.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,w.setAttribute("width",y.x),w.setAttribute("height",y.y)),Dn(w,h.min),w.setAttribute("viewBox",[h.min.x,h.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(h){var y=h._path=yb("path");h.options.className&&rt(y,h.options.className),h.options.interactive&&rt(y,"leaflet-interactive"),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){pn(h._path),h.removeInteractiveTarget(h._path),delete this._layers[l(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var y=h._path,w=h.options;y&&(w.stroke?(y.setAttribute("stroke",w.color),y.setAttribute("stroke-opacity",w.opacity),y.setAttribute("stroke-width",w.weight),y.setAttribute("stroke-linecap",w.lineCap),y.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?y.setAttribute("stroke-dasharray",w.dashArray):y.removeAttribute("stroke-dasharray"),w.dashOffset?y.setAttribute("stroke-dashoffset",w.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),w.fill?(y.setAttribute("fill",w.fillColor||w.color),y.setAttribute("fill-opacity",w.fillOpacity),y.setAttribute("fill-rule",w.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(h,y){this._setPath(h,Tt(h._parts,y))},_updateCircle:function(h){var y=h._point,w=Math.max(Math.round(h._radius),1),O=Math.max(Math.round(h._radiusY),1)||w,$="a"+w+","+O+" 0 1,0 ",F=h._empty()?"M0 0":"M"+(y.x-w)+","+y.y+$+w*2+",0 "+$+-w*2+",0 ";this._setPath(h,F)},_setPath:function(h,y){h._path.setAttribute("d",y)},_bringToFront:function(h){Ph(h._path)},_bringToBack:function(h){$h(h._path)}});je.vml&&my.include(ipe);function wB(h){return je.svg||je.vml?new my(h):null}gt.include({getRenderer:function(h){var y=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var y=this._paneRenderers[h];return y===void 0&&(y=this._createRenderer({pane:h}),this._paneRenderers[h]=y),y},_createRenderer:function(h){return this.options.preferCanvas&&_B(h)||wB(h)}});var SB=Mh.extend({initialize:function(h,y){Mh.prototype.initialize.call(this,this._boundsToLatLngs(h),y)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=me(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function ape(h,y){return new SB(h,y)}my.create=yb,my.pointsToPath=Tt,El.geometryToLayer=cb,El.coordsToLatLng=hO,El.coordsToLatLngs=fb,El.latLngToCoords=pO,El.latLngsToCoords=db,El.getFeature=Dh,El.asFeature=hb,gt.mergeOptions({boxZoom:!0});var EB=ms.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),oy(),KC(),this._startPoint=this._map.mouseEventToContainerPoint(h),Qe(document,{contextmenu:_f,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var y=new Z(this._point,this._startPoint),w=y.getSize();Dn(this._box,y.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(pn(this._box),Cn(this._container,"leaflet-crosshair")),sy(),ZC(),Xt(document,{contextmenu:_f,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",EB),gt.mergeOptions({doubleClickZoom:!0});var AB=ms.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var y=this._map,w=y.getZoom(),O=y.options.zoomDelta,$=h.originalEvent.shiftKey?w-O:w+O;y.options.doubleClickZoom==="center"?y.setZoom($):y.setZoomAround(h.containerPoint,$)}});gt.addInitHook("addHandler","doubleClickZoom",AB),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kB=ms.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Lu(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cn(this._map._container,"leaflet-grab"),Cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=me(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var y=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(y),this._prunePositions(y)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,y){return h-(h-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;h.x<y.min.x&&(h.x=this._viscousLimit(h.x,y.min.x)),h.y<y.min.y&&(h.y=this._viscousLimit(h.y,y.min.y)),h.x>y.max.x&&(h.x=this._viscousLimit(h.x,y.max.x)),h.y>y.max.y&&(h.y=this._viscousLimit(h.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,y=Math.round(h/2),w=this._initialWorldOffset,O=this._draggable._newPos.x,$=(O-y+w)%h+y-w,F=(O+y+w)%h-y-w,V=Math.abs($+w)<Math.abs(F+w)?$:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(h){var y=this._map,w=y.options,O=!w.inertia||h.noInertia||this._times.length<2;if(y.fire("dragend",h),O)y.fire("moveend");else{this._prunePositions(+new Date);var $=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,V=w.easeLinearity,K=$.multiplyBy(V/F),Q=K.distanceTo([0,0]),se=Math.min(w.inertiaMaxSpeed,Q),Ce=K.multiplyBy(se/Q),He=se/(w.inertiaDeceleration*V),ot=Ce.multiplyBy(-He/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),j(function(){y.panBy(ot,{duration:He,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",kB),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var CB=ms.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Qe(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,y=document.documentElement,w=h.scrollTop||y.scrollTop,O=h.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(O,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var y=this._panKeys={},w=this.keyCodes,O,$;for(O=0,$=w.left.length;O<$;O++)y[w.left[O]]=[-1*h,0];for(O=0,$=w.right.length;O<$;O++)y[w.right[O]]=[h,0];for(O=0,$=w.down.length;O<$;O++)y[w.down[O]]=[0,h];for(O=0,$=w.up.length;O<$;O++)y[w.up[O]]=[0,-1*h]},_setZoomDelta:function(h){var y=this._zoomKeys={},w=this.keyCodes,O,$;for(O=0,$=w.zoomIn.length;O<$;O++)y[w.zoomIn[O]]=h;for(O=0,$=w.zoomOut.length;O<$;O++)y[w.zoomOut[O]]=-h},_addHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var y=h.keyCode,w=this._map,O;if(y in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(O=this._panKeys[y],h.shiftKey&&(O=N(O).multiplyBy(3)),w.options.maxBounds&&(O=w._limitOffset(N(O),w.options.maxBounds)),w.options.worldCopyJump){var $=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(O)));w.panTo($)}else w.panBy(O)}else if(y in this._zoomKeys)w.setZoom(w.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;_f(h)}}});gt.addInitHook("addHandler","keyboard",CB),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var OB=ms.extend({addHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var y=Qz(h),w=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var O=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),O),_f(h)},_performZoom:function(){var h=this._map,y=h.getZoom(),w=this._map.options.zoomSnap||0;h._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),$=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,F=w?Math.ceil($/w)*w:$,V=h._limitZoom(y+(this._delta>0?F:-F))-y;this._delta=0,this._startTime=null,V&&(h.options.scrollWheelZoom==="center"?h.setZoom(y+V):h.setZoomAround(this._lastMousePos,y+V))}});gt.addInitHook("addHandler","scrollWheelZoom",OB);var ope=600;gt.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var PB=ms.extend({addHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var y=h.touches[0];this._startPos=this._newPos=new B(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Qe(document,"touchend",yr),Qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),ope),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Xt(document,"touchend",yr),Xt(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)},_onMove:function(h){var y=h.touches[0];this._newPos=new B(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,y){var w=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});w._simulated=!0,y.target.dispatchEvent(w)}});gt.addInitHook("addHandler","tapHold",PB),gt.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var $B=ms.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cn(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var y=this._map;if(!(!h.touches||h.touches.length!==2||y._animatingZoom||this._zooming)){var w=y.mouseEventToContainerPoint(h.touches[0]),O=y.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(w.add(O)._divideBy(2))),this._startDist=w.distanceTo(O),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),yr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var y=this._map,w=y.mouseEventToContainerPoint(h.touches[0]),O=y.mouseEventToContainerPoint(h.touches[1]),$=w.distanceTo(O)/this._startDist;if(this._zoom=y.getScaleZoom($,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&$<1||this._zoom>y.getMaxZoom()&&$>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,$===1)return}else{var F=w._add(O)._divideBy(2)._subtract(this._centerPoint);if($===1&&F.x===0&&F.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var V=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(V,this,!0),yr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",$B),gt.BoxZoom=EB,gt.DoubleClickZoom=AB,gt.Drag=kB,gt.Keyboard=CB,gt.ScrollWheelZoom=OB,gt.TapHold=PB,gt.TouchZoom=$B,n.Bounds=Z,n.Browser=je,n.CRS=mt,n.Canvas=bB,n.Circle=dO,n.CircleMarker=ub,n.Class=R,n.Control=wo,n.DivIcon=yB,n.DivOverlay=gs,n.DomEvent=Ehe,n.DomUtil=whe,n.Draggable=Lu,n.Evented=H,n.FeatureGroup=wl,n.GeoJSON=El,n.GridLayer=hy,n.Handler=ms,n.Icon=Nh,n.ImageOverlay=pb,n.LatLng=le,n.LatLngBounds=U,n.Layer=So,n.LayerGroup=Th,n.LineUtil=Lhe,n.Map=gt,n.Marker=lb,n.Mixin=The,n.Path=Fu,n.Point=B,n.PolyUtil=Nhe,n.Polygon=Mh,n.Polyline=Sl,n.Popup=mb,n.PosAnimation=Jz,n.Projection=Fhe,n.Rectangle=SB,n.Renderer=Al,n.SVG=my,n.SVGOverlay=gB,n.TileLayer=jh,n.Tooltip=gb,n.Transformation=Re,n.Util=W,n.VideoOverlay=mB,n.bind=o,n.bounds=Y,n.canvas=_B,n.circle=Ghe,n.circleMarker=qhe,n.control=cy,n.divIcon=tpe,n.extend=i,n.featureGroup=Uhe,n.geoJSON=pB,n.geoJson=Yhe,n.gridLayer=npe,n.icon=Whe,n.imageOverlay=Khe,n.latLng=ve,n.latLngBounds=me,n.layerGroup=Bhe,n.map=Ahe,n.marker=Hhe,n.point=N,n.polygon=Xhe,n.polyline=Vhe,n.popup=Jhe,n.rectangle=ape,n.setOptions=g,n.stamp=l,n.svg=wB,n.svgOverlay=Qhe,n.tileLayer=vB,n.tooltip=epe,n.transformation=oe,n.version=r,n.videoOverlay=Zhe;var spe=window.L;n.noConflict=function(){return window.L=spe,this},window.L=n})})(FD,FD.exports);var lC=FD.exports;function Q4(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function J4(e,t){return t==null?function(r,i){const a=X.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=X.useRef();a.current||(a.current=e(r,i));const o=X.useRef(r),{instance:s}=a.current;return X.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,i]),a}}function Jue(e,t){X.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function PGe(e){return function(n){const r=oC(),i=e(sC(n,r),r);return Kue(r.map,n.attribution),Z4(i.current,n.eventHandlers),Jue(i.current,r),i}}function $Ge(e,t){const n=X.useRef();X.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function TGe(e){return function(n){const r=oC(),i=e(sC(n,r),r);return Z4(i.current,n.eventHandlers),Jue(i.current,r),$Ge(i.current,n),i}}function NGe(e,t){const n=J4(e),r=OGe(n,t);return kGe(r)}function MGe(e,t){const n=J4(e,t),r=TGe(n);return AGe(r)}function DGe(e,t){const n=J4(e,t),r=PGe(n);return CGe(r)}function jGe(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function IGe(){return oC().map}const LGe=MGe(function({center:t,children:n,...r},i){const a=new lC.CircleMarker(t,r);return Q4(a,EGe(i,{overlayContainer:a}))},_Ge);function RD(){return RD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RD.apply(this,arguments)}function FGe({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:u,...c},f){const[d]=X.useState({className:i,id:a,style:s}),[p,m]=X.useState(null);X.useImperativeHandle(f,()=>(p==null?void 0:p.map)??null,[p]);const g=X.useCallback(v=>{if(v!==null&&p===null){const b=new lC.Map(v,c);n!=null&&u!=null?b.setView(n,u):e!=null&&b.fitBounds(e,t),l!=null&&b.whenReady(l),m(SGe(b))}},[]);X.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const x=p?q.createElement(Que,{value:p},r):o??null;return q.createElement("div",RD({},d,{ref:g}),x)}const RGe=X.forwardRef(FGe),zGe=NGe(function(t,n){const r=new lC.Popup(t,n.overlayContainer);return Q4(r,n)},function(t,n,{position:r},i){X.useEffect(function(){const{instance:o}=t;function s(u){u.popup===o&&(o.update(),i(!0))}function l(u){u.popup===o&&i(!1)}return n.map.on({popupopen:s,popupclose:l}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var c;n.map.off({popupopen:s,popupclose:l}),(c=n.overlayContainer)==null||c.unbindPopup(),n.map.removeLayer(o)}},[t,n,i,r])}),BGe=DGe(function({url:t,...n},r){const i=new lC.TileLayer(t,sC(n,r));return Q4(i,r)},function(t,n,r){jGe(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),$q=e=>{if(e.riskLevel==="critical"){const t=[` ${Math.floor(Math.random()*8+5)} grounding COs detected - Apex pattern`," Cost variance accelerating - review needed",` Schedule slip risk: ${Math.floor(Math.random()*15+5)} activities delayed`];return t[Math.floor(Math.random()*t.length)]}else if(e.cpi<.95||e.spi<.95){const t=[` ${Math.floor(Math.random()*5+2)} scope gaps identified by ML`," Electrical subcontractor variance detected"," Review recommended: change order clustering"];return t[Math.floor(Math.random()*t.length)]}else{const t=[" On track - performing above portfolio avg"," Top quartile in cost performance"," No anomalies detected - healthy project"];return t[Math.floor(Math.random()*t.length)]}},Tq=e=>{const t={UTILITY:["Transformer Install","Switchgear Testing","Grid Connection","Final Inspection"],TRANSIT:["Track Installation","Station Framing","Systems Integration","Safety Certification"],FACILITY:["Steel Erection","Envelope Closure","MEP Rough-In","Certificate of Occupancy"],HIGHWAY:["Grading Complete","Base Paving","Striping & Signage","Lane Opening"],DEFAULT:["Foundation Complete","Structural Steel","MEP Rough-In","Substantial Completion"]},n=t[e.type]||t.DEFAULT,r=n[Math.floor(Math.random()*n.length)],i=Math.floor(Math.random()*21+3);return{name:r,days:i}};function UGe({projects:e}){const t=IGe();return X.useEffect(()=>{if(e.length>0){const n=e.map(r=>[r.lat,r.lng]);t.fitBounds(n,{padding:[50,50]})}},[e,t]),null}function WGe({onNavigate:e,setSelectedProjectId:t}){const[n,r]=X.useState([]),[i,a]=X.useState(null),[o,s]=X.useState(!0);X.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await fetch("/api/projects/map");if(d.ok){const m=(await d.json()).map(g=>{const x=Tq(g);return{...g,percentComplete:g.percentComplete||Math.floor(Math.random()*40+30),coCount:g.coCount||Math.floor(Math.random()*25+5),pendingApprovals:g.pendingApprovals||Math.floor(Math.random()*4),alertCount:g.riskLevel==="critical"?Math.floor(Math.random()*3+1):g.riskLevel==="high"?Math.floor(Math.random()*2):0,aiInsight:$q(g),nextMilestone:x.name,daysToMilestone:x.days,cpiTrend:g.cpi>=1?"up":g.cpi>=.95?"stable":"down",spiTrend:g.spi>=1?"up":g.spi>=.95?"stable":"down"}});r(m)}}catch(d){console.error("Failed to fetch map data:",d);const p=[{id:"PRJ-001",name:"Downtown Transit Hub",type:"TRANSIT",city:"San Francisco",state:"CA",lat:37.7749,lng:-122.4194,budget:45e7,cpi:.89,spi:.92,riskLevel:"critical"},{id:"PRJ-002",name:"Riverside Substation",type:"UTILITY",city:"Portland",state:"OR",lat:45.5152,lng:-122.6784,budget:125e6,cpi:1.02,spi:.98,riskLevel:"low"},{id:"PRJ-003",name:"Airport Terminal Expansion",type:"FACILITY",city:"Seattle",state:"WA",lat:47.4502,lng:-122.3088,budget:38e7,cpi:.94,spi:.96,riskLevel:"medium"},{id:"PRJ-004",name:"Highway 101 Widening",type:"HIGHWAY",city:"San Jose",state:"CA",lat:37.3382,lng:-121.8863,budget:29e7,cpi:.97,spi:1.01,riskLevel:"low"},{id:"PRJ-005",name:"Metro Blue Line Extension",type:"TRANSIT",city:"Los Angeles",state:"CA",lat:34.0522,lng:-118.2437,budget:52e7,cpi:.91,spi:.88,riskLevel:"critical"}].map(m=>{const g=Tq(m);return{...m,percentComplete:Math.floor(Math.random()*40+30),coCount:Math.floor(Math.random()*25+5),pendingApprovals:Math.floor(Math.random()*4),alertCount:m.riskLevel==="critical"?Math.floor(Math.random()*3+1):m.riskLevel==="high"?Math.floor(Math.random()*2):0,aiInsight:$q(m),nextMilestone:g.name,daysToMilestone:g.days,cpiTrend:m.cpi>=1?"up":m.cpi>=.95?"stable":"down",spiTrend:m.spi>=1?"up":m.spi>=.95?"stable":"down"}});r(p)}finally{s(!1)}},u={critical:"#f85149",high:"#d29922",medium:"#58a6ff",low:"#3fb950"},c=n.reduce((d,p)=>d+p.budget,0),f=n.filter(d=>d.riskLevel==="critical").length;return o?S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsx("div",{className:"w-12 h-12 border-2 border-atlas-blue border-t-transparent rounded-full animate-spin"})}):S.jsxs("div",{className:"h-full flex",style:{minHeight:"calc(100vh - 120px)"},children:[S.jsxs("div",{className:"flex-1 relative",style:{minHeight:"500px"},children:[S.jsxs("div",{className:"absolute top-4 left-4 right-80 flex gap-4 z-[1000]",children:[S.jsxs("div",{className:"card p-3 flex items-center gap-3",children:[S.jsx(rm,{size:20,className:"text-atlas-blue"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-white",children:n.length}),S.jsx("div",{className:"text-xs text-slate-500",children:"Projects"})]})]}),S.jsxs("div",{className:"card p-3 flex items-center gap-3",children:[S.jsx(BE,{size:20,className:"text-atlas-green"}),S.jsxs("div",{children:[S.jsxs("div",{className:"text-lg font-bold text-white",children:["$",(c/1e9).toFixed(1),"B"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Total Value"})]})]}),S.jsxs("div",{className:"card p-3 flex items-center gap-3",children:[S.jsx(Vs,{size:20,className:"text-atlas-red"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-white",children:f}),S.jsx("div",{className:"text-xs text-slate-500",children:"Critical"})]})]})]}),S.jsxs(RGe,{center:[39.8283,-98.5795],zoom:4,className:"absolute inset-0",style:{background:"#0d1117",height:"100%",width:"100%"},children:[S.jsx(BGe,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",subdomains:"abcd",maxZoom:19}),S.jsx(UGe,{projects:n}),n.map(d=>S.jsx(LGe,{center:[d.lat,d.lng],radius:Math.max(8,Math.min(20,d.budget/5e7)),pathOptions:{color:u[d.riskLevel]||"#58a6ff",fillColor:u[d.riskLevel]||"#58a6ff",fillOpacity:.7,weight:(i==null?void 0:i.id)===d.id?3:1},eventHandlers:{click:()=>a(d)},children:S.jsx(zGe,{className:"atlas-popup",minWidth:320,maxWidth:360,children:S.jsxs("div",{className:"bg-navy-900 text-white rounded-lg overflow-hidden",style:{margin:"-14px -20px"},children:[S.jsxs("div",{className:"px-4 py-3 border-b border-navy-700/50 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2.5 h-2.5 rounded-full animate-pulse",style:{backgroundColor:u[d.riskLevel]}}),S.jsx("span",{className:"font-semibold text-white truncate max-w-[200px]",children:d.name})]}),S.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded uppercase",style:{backgroundColor:`${u[d.riskLevel]}20`,color:u[d.riskLevel]},children:d.riskLevel})]}),S.jsxs("div",{className:"px-4 py-2 border-b border-navy-700/30 flex items-center justify-between text-sm",children:[S.jsxs("span",{className:"text-slate-400",children:[d.city,", ",d.state]}),S.jsxs("span",{className:"font-bold text-atlas-blue",children:["$",(d.budget/1e6).toFixed(0),"M"]})]}),S.jsxs("div",{className:"px-4 py-3 grid grid-cols-2 gap-3 border-b border-navy-700/30",children:[S.jsxs("div",{className:"flex items-center justify-between bg-navy-800/50 rounded px-2.5 py-1.5",children:[S.jsx("span",{className:"text-xs text-slate-500",children:"CPI"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:`font-bold ${d.cpi>=1?"text-atlas-green":d.cpi>=.95?"text-atlas-blue":"text-atlas-red"}`,children:d.cpi.toFixed(2)}),d.cpiTrend==="up"&&S.jsx(am,{size:12,className:"text-atlas-green"}),d.cpiTrend==="down"&&S.jsx(im,{size:12,className:"text-atlas-red"}),d.cpiTrend==="stable"&&S.jsx(q6,{size:12,className:"text-slate-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between bg-navy-800/50 rounded px-2.5 py-1.5",children:[S.jsx("span",{className:"text-xs text-slate-500",children:"SPI"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:`font-bold ${d.spi>=1?"text-atlas-green":d.spi>=.95?"text-atlas-blue":"text-atlas-red"}`,children:d.spi.toFixed(2)}),d.spiTrend==="up"&&S.jsx(am,{size:12,className:"text-atlas-green"}),d.spiTrend==="down"&&S.jsx(im,{size:12,className:"text-atlas-red"}),d.spiTrend==="stable"&&S.jsx(q6,{size:12,className:"text-slate-500"})]})]})]}),S.jsxs("div",{className:"px-4 py-2 border-b border-navy-700/30",children:[S.jsxs("div",{className:"flex items-center justify-between mb-1",children:[S.jsx("span",{className:"text-xs text-slate-500",children:"Progress"}),S.jsxs("span",{className:"text-xs font-medium text-white",children:[d.percentComplete,"%"]})]}),S.jsx("div",{className:"h-1.5 bg-navy-700 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${d.percentComplete}%`,background:`linear-gradient(90deg, ${u[d.riskLevel]}, #58a6ff)`}})})]}),S.jsx("div",{className:"px-4 py-2.5 border-b border-navy-700/30 bg-navy-800/30",children:S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx(mp,{size:14,className:"text-atlas-purple mt-0.5 flex-shrink-0"}),S.jsxs("div",{children:[S.jsx("span",{className:"text-xs text-atlas-purple font-medium",children:"ATLAS AI"}),S.jsx("p",{className:"text-xs text-slate-300 mt-0.5 leading-relaxed",children:d.aiInsight})]})]})}),S.jsxs("div",{className:"px-4 py-2 border-b border-navy-700/30 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(nye,{size:14,className:"text-atlas-blue"}),S.jsx("span",{className:"text-xs text-slate-400",children:"Next:"}),S.jsx("span",{className:"text-xs text-white font-medium",children:d.nextMilestone})]}),S.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[S.jsx(JI,{size:12,className:"text-slate-500"}),S.jsxs("span",{className:"text-atlas-yellow font-medium",children:[d.daysToMilestone,"d"]})]})]}),S.jsxs("div",{className:"px-4 py-2 flex items-center gap-3 text-xs border-b border-navy-700/30",children:[S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx(Hge,{size:12,className:"text-slate-500"}),S.jsxs("span",{className:"text-slate-400",children:[d.pendingApprovals," Pending"]})]}),(d.alertCount||0)>0&&S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx(Vs,{size:12,className:"text-atlas-yellow"}),S.jsxs("span",{className:"text-atlas-yellow",children:[d.alertCount," Alert",d.alertCount!==1?"s":""]})]}),S.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[S.jsx(Vge,{size:12,className:"text-slate-500"}),S.jsxs("span",{className:"text-slate-400",children:[d.coCount," COs"]})]})]}),S.jsx("div",{className:"px-4 py-3",children:S.jsxs("button",{onClick:p=>{p.stopPropagation(),t(d.id),e("project")},className:"w-full py-2 bg-gradient-to-r from-atlas-blue to-atlas-purple rounded-lg text-white text-sm font-medium flex items-center justify-center gap-2 hover:opacity-90 transition-opacity",children:["View Full Details",S.jsx(W6,{size:14})]})})]})})},d.id))]}),S.jsxs("div",{className:"absolute bottom-4 left-4 card p-4 z-[1000]",children:[S.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-3",children:"Risk Level"}),S.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([d,p])=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:p}}),S.jsx("span",{className:"text-xs text-slate-300 capitalize",children:d}),S.jsxs("span",{className:"text-xs text-slate-500",children:["(",n.filter(m=>m.riskLevel===d).length,")"]})]},d))})]})]}),S.jsx("div",{className:"w-80 border-l border-navy-700/50 bg-navy-900/50 overflow-y-auto",children:i?S.jsxs("div",{className:"p-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"font-semibold text-white text-lg",children:i.name}),S.jsxs("p",{className:"text-sm text-slate-500",children:[i.city,", ",i.state]})]}),S.jsx("span",{className:`badge ${i.riskLevel==="critical"?"badge-red":i.riskLevel==="high"?"badge-yellow":i.riskLevel==="medium"?"badge-blue":"badge-green"}`,children:i.riskLevel})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"card p-4",children:[S.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Project Type"}),S.jsx("div",{className:"font-medium text-white",children:i.type})]}),S.jsxs("div",{className:"card p-4",children:[S.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Budget"}),S.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(i.budget/1e6).toFixed(0),"M"]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"card p-4 text-center",children:[S.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"CPI"}),S.jsx("div",{className:`text-xl font-bold ${i.cpi>=1?"text-atlas-green":i.cpi>=.95?"text-atlas-blue":i.cpi>=.9?"text-atlas-yellow":"text-atlas-red"}`,children:i.cpi.toFixed(2)})]}),S.jsxs("div",{className:"card p-4 text-center",children:[S.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"SPI"}),S.jsx("div",{className:`text-xl font-bold ${i.spi>=1?"text-atlas-green":i.spi>=.95?"text-atlas-blue":i.spi>=.9?"text-atlas-yellow":"text-atlas-red"}`,children:i.spi.toFixed(2)})]})]}),S.jsxs("button",{onClick:()=>{t(i.id),e("project")},className:"btn-primary w-full justify-center",children:[S.jsx(W6,{size:16}),"View Full Details"]}),S.jsxs("button",{onClick:()=>a(null),className:"w-full py-2 text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 transition-colors",children:[S.jsx(oZ,{size:14}),"Back to List"]})]})]}):S.jsxs("div",{className:"p-6",children:[S.jsxs("div",{className:"text-center py-8",children:[S.jsx(rm,{size:48,className:"mx-auto text-slate-600 mb-4"}),S.jsx("h3",{className:"font-medium text-slate-300 mb-2",children:"Select a Project"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Click on a marker to view project details"})]}),S.jsxs("div",{className:"space-y-2 mt-4",children:[S.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"All Projects"}),n.map(d=>S.jsx("div",{onClick:()=>a(d),className:"card-hover p-3 cursor-pointer",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:u[d.riskLevel]}}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-sm font-medium text-white truncate",children:d.name}),S.jsxs("div",{className:"text-xs text-slate-500",children:[d.city,", ",d.state]})]}),S.jsxs("div",{className:"text-sm text-slate-400",children:["$",(d.budget/1e6).toFixed(0),"M"]})]})},d.id))]})]})})]})}function ece(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ece(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ece(e))&&(r&&(r+=" "),r+=t);return r}var HGe=Array.isArray,ia=HGe,qGe=typeof Ul=="object"&&Ul&&Ul.Object===Object&&Ul,tce=qGe,GGe=tce,VGe=typeof self=="object"&&self&&self.Object===Object&&self,XGe=GGe||VGe||Function("return this")(),vl=XGe,YGe=vl,KGe=YGe.Symbol,Zx=KGe,Nq=Zx,nce=Object.prototype,ZGe=nce.hasOwnProperty,QGe=nce.toString,Zy=Nq?Nq.toStringTag:void 0;function JGe(e){var t=ZGe.call(e,Zy),n=e[Zy];try{e[Zy]=void 0;var r=!0}catch{}var i=QGe.call(e);return r&&(t?e[Zy]=n:delete e[Zy]),i}var eVe=JGe,tVe=Object.prototype,nVe=tVe.toString;function rVe(e){return nVe.call(e)}var iVe=rVe,Mq=Zx,aVe=eVe,oVe=iVe,sVe="[object Null]",lVe="[object Undefined]",Dq=Mq?Mq.toStringTag:void 0;function uVe(e){return e==null?e===void 0?lVe:sVe:Dq&&Dq in Object(e)?aVe(e):oVe(e)}var Nu=uVe;function cVe(e){return e!=null&&typeof e=="object"}var Mu=cVe,fVe=Nu,dVe=Mu,hVe="[object Symbol]";function pVe(e){return typeof e=="symbol"||dVe(e)&&fVe(e)==hVe}var Bg=pVe,mVe=ia,gVe=Bg,yVe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vVe=/^\w*$/;function xVe(e,t){if(mVe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||gVe(e)?!0:vVe.test(e)||!yVe.test(e)||t!=null&&e in Object(t)}var ez=xVe;function bVe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var mf=bVe;const Ug=kt(mf);var _Ve=Nu,wVe=mf,SVe="[object AsyncFunction]",EVe="[object Function]",AVe="[object GeneratorFunction]",kVe="[object Proxy]";function CVe(e){if(!wVe(e))return!1;var t=_Ve(e);return t==EVe||t==AVe||t==SVe||t==kVe}var tz=CVe;const Be=kt(tz);var OVe=vl,PVe=OVe["__core-js_shared__"],$Ve=PVe,Y$=$Ve,jq=function(){var e=/[^.]+$/.exec(Y$&&Y$.keys&&Y$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function TVe(e){return!!jq&&jq in e}var NVe=TVe,MVe=Function.prototype,DVe=MVe.toString;function jVe(e){if(e!=null){try{return DVe.call(e)}catch{}try{return e+""}catch{}}return""}var rce=jVe,IVe=tz,LVe=NVe,FVe=mf,RVe=rce,zVe=/[\\^$.*+?()[\]{}|]/g,BVe=/^\[object .+?Constructor\]$/,UVe=Function.prototype,WVe=Object.prototype,HVe=UVe.toString,qVe=WVe.hasOwnProperty,GVe=RegExp("^"+HVe.call(qVe).replace(zVe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VVe(e){if(!FVe(e)||LVe(e))return!1;var t=IVe(e)?GVe:BVe;return t.test(RVe(e))}var XVe=VVe;function YVe(e,t){return e==null?void 0:e[t]}var KVe=YVe,ZVe=XVe,QVe=KVe;function JVe(e,t){var n=QVe(e,t);return ZVe(n)?n:void 0}var Sh=JVe,eXe=Sh,tXe=eXe(Object,"create"),uC=tXe,Iq=uC;function nXe(){this.__data__=Iq?Iq(null):{},this.size=0}var rXe=nXe;function iXe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var aXe=iXe,oXe=uC,sXe="__lodash_hash_undefined__",lXe=Object.prototype,uXe=lXe.hasOwnProperty;function cXe(e){var t=this.__data__;if(oXe){var n=t[e];return n===sXe?void 0:n}return uXe.call(t,e)?t[e]:void 0}var fXe=cXe,dXe=uC,hXe=Object.prototype,pXe=hXe.hasOwnProperty;function mXe(e){var t=this.__data__;return dXe?t[e]!==void 0:pXe.call(t,e)}var gXe=mXe,yXe=uC,vXe="__lodash_hash_undefined__";function xXe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yXe&&t===void 0?vXe:t,this}var bXe=xXe,_Xe=rXe,wXe=aXe,SXe=fXe,EXe=gXe,AXe=bXe;function Wg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wg.prototype.clear=_Xe;Wg.prototype.delete=wXe;Wg.prototype.get=SXe;Wg.prototype.has=EXe;Wg.prototype.set=AXe;var kXe=Wg;function CXe(){this.__data__=[],this.size=0}var OXe=CXe;function PXe(e,t){return e===t||e!==e&&t!==t}var nz=PXe,$Xe=nz;function TXe(e,t){for(var n=e.length;n--;)if($Xe(e[n][0],t))return n;return-1}var cC=TXe,NXe=cC,MXe=Array.prototype,DXe=MXe.splice;function jXe(e){var t=this.__data__,n=NXe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():DXe.call(t,n,1),--this.size,!0}var IXe=jXe,LXe=cC;function FXe(e){var t=this.__data__,n=LXe(t,e);return n<0?void 0:t[n][1]}var RXe=FXe,zXe=cC;function BXe(e){return zXe(this.__data__,e)>-1}var UXe=BXe,WXe=cC;function HXe(e,t){var n=this.__data__,r=WXe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var qXe=HXe,GXe=OXe,VXe=IXe,XXe=RXe,YXe=UXe,KXe=qXe;function Hg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hg.prototype.clear=GXe;Hg.prototype.delete=VXe;Hg.prototype.get=XXe;Hg.prototype.has=YXe;Hg.prototype.set=KXe;var fC=Hg,ZXe=Sh,QXe=vl,JXe=ZXe(QXe,"Map"),rz=JXe,Lq=kXe,eYe=fC,tYe=rz;function nYe(){this.size=0,this.__data__={hash:new Lq,map:new(tYe||eYe),string:new Lq}}var rYe=nYe;function iYe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var aYe=iYe,oYe=aYe;function sYe(e,t){var n=e.__data__;return oYe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var dC=sYe,lYe=dC;function uYe(e){var t=lYe(this,e).delete(e);return this.size-=t?1:0,t}var cYe=uYe,fYe=dC;function dYe(e){return fYe(this,e).get(e)}var hYe=dYe,pYe=dC;function mYe(e){return pYe(this,e).has(e)}var gYe=mYe,yYe=dC;function vYe(e,t){var n=yYe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var xYe=vYe,bYe=rYe,_Ye=cYe,wYe=hYe,SYe=gYe,EYe=xYe;function qg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qg.prototype.clear=bYe;qg.prototype.delete=_Ye;qg.prototype.get=wYe;qg.prototype.has=SYe;qg.prototype.set=EYe;var iz=qg,ice=iz,AYe="Expected a function";function az(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(AYe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(az.Cache||ice),n}az.Cache=ice;var ace=az;const kYe=kt(ace);var CYe=ace,OYe=500;function PYe(e){var t=CYe(e,function(r){return n.size===OYe&&n.clear(),r}),n=t.cache;return t}var $Ye=PYe,TYe=$Ye,NYe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MYe=/\\(\\)?/g,DYe=TYe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(NYe,function(n,r,i,a){t.push(i?a.replace(MYe,"$1"):r||n)}),t}),jYe=DYe;function IYe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var oz=IYe,Fq=Zx,LYe=oz,FYe=ia,RYe=Bg,Rq=Fq?Fq.prototype:void 0,zq=Rq?Rq.toString:void 0;function oce(e){if(typeof e=="string")return e;if(FYe(e))return LYe(e,oce)+"";if(RYe(e))return zq?zq.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var zYe=oce,BYe=zYe;function UYe(e){return e==null?"":BYe(e)}var sce=UYe,WYe=ia,HYe=ez,qYe=jYe,GYe=sce;function VYe(e,t){return WYe(e)?e:HYe(e,t)?[e]:qYe(GYe(e))}var lce=VYe,XYe=Bg;function YYe(e){if(typeof e=="string"||XYe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var hC=YYe,KYe=lce,ZYe=hC;function QYe(e,t){t=KYe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ZYe(t[n++])];return n&&n==r?e:void 0}var sz=QYe,JYe=sz;function eKe(e,t,n){var r=e==null?void 0:JYe(e,t);return r===void 0?n:r}var uce=eKe;const Ea=kt(uce);function tKe(e){return e==null}var nKe=tKe;const Ze=kt(nKe);var rKe=Nu,iKe=ia,aKe=Mu,oKe="[object String]";function sKe(e){return typeof e=="string"||!iKe(e)&&aKe(e)&&rKe(e)==oKe}var lKe=sKe;const Yd=kt(lKe);var cce={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lz=Symbol.for("react.element"),uz=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),yC=Symbol.for("react.provider"),vC=Symbol.for("react.context"),uKe=Symbol.for("react.server_context"),xC=Symbol.for("react.forward_ref"),bC=Symbol.for("react.suspense"),_C=Symbol.for("react.suspense_list"),wC=Symbol.for("react.memo"),SC=Symbol.for("react.lazy"),cKe=Symbol.for("react.offscreen"),fce;fce=Symbol.for("react.module.reference");function xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lz:switch(e=e.type,e){case pC:case gC:case mC:case bC:case _C:return e;default:switch(e=e&&e.$$typeof,e){case uKe:case vC:case xC:case SC:case wC:case yC:return e;default:return t}}case uz:return t}}}Rt.ContextConsumer=vC;Rt.ContextProvider=yC;Rt.Element=lz;Rt.ForwardRef=xC;Rt.Fragment=pC;Rt.Lazy=SC;Rt.Memo=wC;Rt.Portal=uz;Rt.Profiler=gC;Rt.StrictMode=mC;Rt.Suspense=bC;Rt.SuspenseList=_C;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(e){return xo(e)===vC};Rt.isContextProvider=function(e){return xo(e)===yC};Rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lz};Rt.isForwardRef=function(e){return xo(e)===xC};Rt.isFragment=function(e){return xo(e)===pC};Rt.isLazy=function(e){return xo(e)===SC};Rt.isMemo=function(e){return xo(e)===wC};Rt.isPortal=function(e){return xo(e)===uz};Rt.isProfiler=function(e){return xo(e)===gC};Rt.isStrictMode=function(e){return xo(e)===mC};Rt.isSuspense=function(e){return xo(e)===bC};Rt.isSuspenseList=function(e){return xo(e)===_C};Rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pC||e===gC||e===mC||e===bC||e===_C||e===cKe||typeof e=="object"&&e!==null&&(e.$$typeof===SC||e.$$typeof===wC||e.$$typeof===yC||e.$$typeof===vC||e.$$typeof===xC||e.$$typeof===fce||e.getModuleId!==void 0)};Rt.typeOf=xo;cce.exports=Rt;var fKe=cce.exports,dKe=Nu,hKe=Mu,pKe="[object Number]";function mKe(e){return typeof e=="number"||hKe(e)&&dKe(e)==pKe}var dce=mKe;const gKe=kt(dce);var yKe=dce;function vKe(e){return yKe(e)&&e!=+e}var xKe=vKe;const Gg=kt(xKe);var vi=function(t){return t===0?0:t>0?1:-1},nd=function(t){return Yd(t)&&t.indexOf("%")===t.length-1},he=function(t){return gKe(t)&&!Gg(t)},bKe=function(t){return Ze(t)},Yn=function(t){return he(t)||Yd(t)},_Ke=0,Vg=function(t){var n=++_Ke;return"".concat(t||"").concat(n)},xi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Yd(t))return r;var a;if(nd(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Gg(a)&&(a=r),i&&a>n&&(a=n),a},rc=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},wKe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},rr=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function IS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ea(r,t))===n})}var SKe=function(t,n){return he(t)&&he(n)?t-n:Yd(t)&&Yd(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Vp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function zD(e){"@babel/helpers - typeof";return zD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zD(e)}var EKe=["viewBox","children"],AKe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bq=["points","pathLength"],K$={svg:EKe,polygon:Bq,polyline:Bq},cz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],LS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(X.isValidElement(t)&&(r=t.props),!Ug(r))return null;var i={};return Object.keys(r).forEach(function(a){cz.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},kKe=function(t,n,r){return function(i){return t(n,r,i),null}},Kd=function(t,n,r){if(!Ug(t)||zD(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];cz.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=kKe(o,n,r))}),i},CKe=["children"],OKe=["children"];function Uq(e,t){if(e==null)return{};var n=PKe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BD(e){"@babel/helpers - typeof";return BD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BD(e)}var Wq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},su=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Hq=null,Z$=null,fz=function e(t){if(t===Hq&&Array.isArray(Z$))return Z$;var n=[];return X.Children.forEach(t,function(r){Ze(r)||(fKe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Z$=n,Hq=t,n};function ro(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return su(i)}):r=[su(t)],fz(e).forEach(function(i){var a=Ea(i,"type.displayName")||Ea(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function fa(e,t){var n=ro(e,t);return n&&n[0]}var qq=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},$Ke=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TKe=function(t){return t&&t.type&&Yd(t.type)&&$Ke.indexOf(t.type)>=0},NKe=function(t){return t&&BD(t)==="object"&&"clipDot"in t},MKe=function(t,n,r,i){var a,o=(a=K$==null?void 0:K$[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Be(t)&&(i&&o.includes(n)||AKe.includes(n))||r&&cz.includes(n)},Me=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(X.isValidElement(t)&&(i=t.props),!Ug(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;MKe((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},UD=function e(t,n){if(t===n)return!0;var r=X.Children.count(t);if(r!==X.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Gq(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Gq(a,o))return!1}return!0},Gq=function(t,n){if(Ze(t)&&Ze(n))return!0;if(!Ze(t)&&!Ze(n)){var r=t.props||{},i=r.children,a=Uq(r,CKe),o=n.props||{},s=o.children,l=Uq(o,OKe);return i&&s?Vp(a,l)&&UD(i,s):!i&&!s?Vp(a,l):!1}return!1},Vq=function(t,n){var r=[],i={};return fz(t).forEach(function(a,o){if(TKe(a))r.push(a);else if(a){var s=su(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},DKe=function(t){var n=t&&t.type;return n&&Wq[n]?Wq[n]:null},jKe=function(t,n){return fz(n).indexOf(t)},IKe=["children","width","height","viewBox","className","style","title","desc"];function WD(){return WD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WD.apply(this,arguments)}function LKe(e,t){if(e==null)return{};var n=FKe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HD(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,u=LKe(e,IKe),c=i||{width:n,height:r,x:0,y:0},f=Ke("recharts-surface",a);return q.createElement("svg",WD({},Me(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),q.createElement("title",null,s),q.createElement("desc",null,l),t)}var RKe=["children","className"];function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qD.apply(this,arguments)}function zKe(e,t){if(e==null)return{};var n=BKe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ct=q.forwardRef(function(e,t){var n=e.children,r=e.className,i=zKe(e,RKe),a=Ke("recharts-layer",r);return q.createElement("g",qD({className:a},Me(i,!0),{ref:t}),n)}),Vo=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function UKe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var WKe=UKe,HKe=WKe;function qKe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:HKe(e,t,n)}var GKe=qKe,VKe="\\ud800-\\udfff",XKe="\\u0300-\\u036f",YKe="\\ufe20-\\ufe2f",KKe="\\u20d0-\\u20ff",ZKe=XKe+YKe+KKe,QKe="\\ufe0e\\ufe0f",JKe="\\u200d",eZe=RegExp("["+JKe+VKe+ZKe+QKe+"]");function tZe(e){return eZe.test(e)}var hce=tZe;function nZe(e){return e.split("")}var rZe=nZe,pce="\\ud800-\\udfff",iZe="\\u0300-\\u036f",aZe="\\ufe20-\\ufe2f",oZe="\\u20d0-\\u20ff",sZe=iZe+aZe+oZe,lZe="\\ufe0e\\ufe0f",uZe="["+pce+"]",GD="["+sZe+"]",VD="\\ud83c[\\udffb-\\udfff]",cZe="(?:"+GD+"|"+VD+")",mce="[^"+pce+"]",gce="(?:\\ud83c[\\udde6-\\uddff]){2}",yce="[\\ud800-\\udbff][\\udc00-\\udfff]",fZe="\\u200d",vce=cZe+"?",xce="["+lZe+"]?",dZe="(?:"+fZe+"(?:"+[mce,gce,yce].join("|")+")"+xce+vce+")*",hZe=xce+vce+dZe,pZe="(?:"+[mce+GD+"?",GD,gce,yce,uZe].join("|")+")",mZe=RegExp(VD+"(?="+VD+")|"+pZe+hZe,"g");function gZe(e){return e.match(mZe)||[]}var yZe=gZe,vZe=rZe,xZe=hce,bZe=yZe;function _Ze(e){return xZe(e)?bZe(e):vZe(e)}var wZe=_Ze,SZe=GKe,EZe=hce,AZe=wZe,kZe=sce;function CZe(e){return function(t){t=kZe(t);var n=EZe(t)?AZe(t):void 0,r=n?n[0]:t.charAt(0),i=n?SZe(n,1).join(""):t.slice(1);return r[e]()+i}}var OZe=CZe,PZe=OZe,$Ze=PZe("toUpperCase"),TZe=$Ze;const EC=kt(TZe);function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}var NZe=["type","size","sizeType"];function XD(){return XD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XD.apply(this,arguments)}function Xq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(n),!0).forEach(function(r){MZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZe(e,t,n){return t=DZe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZe(e){var t=jZe(e,"string");return h1(t)=="symbol"?t:t+""}function jZe(e,t){if(h1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(h1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IZe(e,t){if(e==null)return{};var n=LZe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var bce={symbolCircle:jL,symbolCross:$Se,symbolDiamond:NSe,symbolSquare:MSe,symbolStar:LSe,symbolTriangle:FSe,symbolWye:zSe},FZe=Math.PI/180,RZe=function(t){var n="symbol".concat(EC(t));return bce[n]||jL},zZe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*FZe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},BZe=function(t,n){bce["symbol".concat(EC(t))]=n},dz=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=IZe(t,NZe),u=Yq(Yq({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=RZe(r),v=wee().type(x).size(zZe(a,s,r));return v()},f=u.className,d=u.cx,p=u.cy,m=Me(u,!0);return d===+d&&p===+p&&a===+a?q.createElement("path",XD({},m,{className:Ke("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};dz.registerSymbol=BZe;function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function YD(){return YD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YD.apply(this,arguments)}function Kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UZe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kq(Object(n),!0).forEach(function(r){p1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HZe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wce(r.key),r)}}function qZe(e,t,n){return t&&HZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GZe(e,t,n){return t=FS(t),VZe(e,_ce()?Reflect.construct(t,n||[],FS(e).constructor):t.apply(e,n))}function VZe(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZe(e)}function XZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ce=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FS(e)}function YZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KD(e,t)}function KD(e,t){return KD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KD(e,t)}function p1(e,t,n){return t=wce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wce(e){var t=KZe(e,"string");return Bm(t)=="symbol"?t:t+""}function KZe(e,t){if(Bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ua=32,hz=function(e){function t(){return WZe(this,t),GZe(this,t,arguments)}return YZe(t,e),qZe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ua/2,o=Ua/6,s=Ua/3,l=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ua,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ua,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ua/8,"h").concat(Ua,"v").concat(Ua*3/4,"h").concat(-Ua,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=UZe({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(dz,{fill:l,cx:a,cy:a,size:Ua,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Ua,height:Ua},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,x=Ke(p1(p1({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Be(p.value)?null:p.value;Vo(!Be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return q.createElement("li",YD({className:x,style:f,key:"legend-item-".concat(m)},Kd(r.props,p,m)),q.createElement(HD,{width:o,height:o,viewBox:c,style:d},r.renderIcon(p)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(X.PureComponent);p1(hz,"displayName","Legend");p1(hz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZZe=fC;function QZe(){this.__data__=new ZZe,this.size=0}var JZe=QZe;function eQe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var tQe=eQe;function nQe(e){return this.__data__.get(e)}var rQe=nQe;function iQe(e){return this.__data__.has(e)}var aQe=iQe,oQe=fC,sQe=rz,lQe=iz,uQe=200;function cQe(e,t){var n=this.__data__;if(n instanceof oQe){var r=n.__data__;if(!sQe||r.length<uQe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lQe(r)}return n.set(e,t),this.size=n.size,this}var fQe=cQe,dQe=fC,hQe=JZe,pQe=tQe,mQe=rQe,gQe=aQe,yQe=fQe;function Xg(e){var t=this.__data__=new dQe(e);this.size=t.size}Xg.prototype.clear=hQe;Xg.prototype.delete=pQe;Xg.prototype.get=mQe;Xg.prototype.has=gQe;Xg.prototype.set=yQe;var Sce=Xg,vQe="__lodash_hash_undefined__";function xQe(e){return this.__data__.set(e,vQe),this}var bQe=xQe;function _Qe(e){return this.__data__.has(e)}var wQe=_Qe,SQe=iz,EQe=bQe,AQe=wQe;function RS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new SQe;++t<n;)this.add(e[t])}RS.prototype.add=RS.prototype.push=EQe;RS.prototype.has=AQe;var Ece=RS;function kQe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ace=kQe;function CQe(e,t){return e.has(t)}var kce=CQe,OQe=Ece,PQe=Ace,$Qe=kce,TQe=1,NQe=2;function MQe(e,t,n,r,i,a){var o=n&TQe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,p=n&NQe?new OQe:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var m=e[f],g=t[f];if(r)var x=o?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(x!==void 0){if(x)continue;d=!1;break}if(p){if(!PQe(t,function(v,b){if(!$Qe(p,b)&&(m===v||i(m,v,n,r,a)))return p.push(b)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}var Cce=MQe,DQe=vl,jQe=DQe.Uint8Array,IQe=jQe;function LQe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var FQe=LQe;function RQe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pz=RQe,Zq=Zx,Qq=IQe,zQe=nz,BQe=Cce,UQe=FQe,WQe=pz,HQe=1,qQe=2,GQe="[object Boolean]",VQe="[object Date]",XQe="[object Error]",YQe="[object Map]",KQe="[object Number]",ZQe="[object RegExp]",QQe="[object Set]",JQe="[object String]",eJe="[object Symbol]",tJe="[object ArrayBuffer]",nJe="[object DataView]",Jq=Zq?Zq.prototype:void 0,Q$=Jq?Jq.valueOf:void 0;function rJe(e,t,n,r,i,a,o){switch(n){case nJe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tJe:return!(e.byteLength!=t.byteLength||!a(new Qq(e),new Qq(t)));case GQe:case VQe:case KQe:return zQe(+e,+t);case XQe:return e.name==t.name&&e.message==t.message;case ZQe:case JQe:return e==t+"";case YQe:var s=UQe;case QQe:var l=r&HQe;if(s||(s=WQe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=qQe,o.set(e,t);var c=BQe(s(e),s(t),r,i,a,o);return o.delete(e),c;case eJe:if(Q$)return Q$.call(e)==Q$.call(t)}return!1}var iJe=rJe;function aJe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Oce=aJe,oJe=Oce,sJe=ia;function lJe(e,t,n){var r=t(e);return sJe(e)?r:oJe(r,n(e))}var uJe=lJe;function cJe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var fJe=cJe;function dJe(){return[]}var hJe=dJe,pJe=fJe,mJe=hJe,gJe=Object.prototype,yJe=gJe.propertyIsEnumerable,eG=Object.getOwnPropertySymbols,vJe=eG?function(e){return e==null?[]:(e=Object(e),pJe(eG(e),function(t){return yJe.call(e,t)}))}:mJe,xJe=vJe;function bJe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _Je=bJe,wJe=Nu,SJe=Mu,EJe="[object Arguments]";function AJe(e){return SJe(e)&&wJe(e)==EJe}var kJe=AJe,tG=kJe,CJe=Mu,Pce=Object.prototype,OJe=Pce.hasOwnProperty,PJe=Pce.propertyIsEnumerable,$Je=tG(function(){return arguments}())?tG:function(e){return CJe(e)&&OJe.call(e,"callee")&&!PJe.call(e,"callee")},mz=$Je,zS={exports:{}};function TJe(){return!1}var NJe=TJe;zS.exports;(function(e,t){var n=vl,r=NJe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(zS,zS.exports);var $ce=zS.exports,MJe=9007199254740991,DJe=/^(?:0|[1-9]\d*)$/;function jJe(e,t){var n=typeof e;return t=t??MJe,!!t&&(n=="number"||n!="symbol"&&DJe.test(e))&&e>-1&&e%1==0&&e<t}var gz=jJe,IJe=9007199254740991;function LJe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=IJe}var yz=LJe,FJe=Nu,RJe=yz,zJe=Mu,BJe="[object Arguments]",UJe="[object Array]",WJe="[object Boolean]",HJe="[object Date]",qJe="[object Error]",GJe="[object Function]",VJe="[object Map]",XJe="[object Number]",YJe="[object Object]",KJe="[object RegExp]",ZJe="[object Set]",QJe="[object String]",JJe="[object WeakMap]",eet="[object ArrayBuffer]",tet="[object DataView]",net="[object Float32Array]",ret="[object Float64Array]",iet="[object Int8Array]",aet="[object Int16Array]",oet="[object Int32Array]",set="[object Uint8Array]",uet="[object Uint8ClampedArray]",cet="[object Uint16Array]",fet="[object Uint32Array]",tn={};tn[net]=tn[ret]=tn[iet]=tn[aet]=tn[oet]=tn[set]=tn[uet]=tn[cet]=tn[fet]=!0;tn[BJe]=tn[UJe]=tn[eet]=tn[WJe]=tn[tet]=tn[HJe]=tn[qJe]=tn[GJe]=tn[VJe]=tn[XJe]=tn[YJe]=tn[KJe]=tn[ZJe]=tn[QJe]=tn[JJe]=!1;function det(e){return zJe(e)&&RJe(e.length)&&!!tn[FJe(e)]}var het=det;function pet(e){return function(t){return e(t)}}var Tce=pet,BS={exports:{}};BS.exports;(function(e,t){var n=tce,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(BS,BS.exports);var met=BS.exports,get=het,yet=Tce,nG=met,rG=nG&&nG.isTypedArray,vet=rG?yet(rG):get,Nce=vet,xet=_Je,bet=mz,_et=ia,wet=$ce,Eet=gz,Aet=Nce,ket=Object.prototype,Cet=ket.hasOwnProperty;function Oet(e,t){var n=_et(e),r=!n&&bet(e),i=!n&&!r&&wet(e),a=!n&&!r&&!i&&Aet(e),o=n||r||i||a,s=o?xet(e.length,String):[],l=s.length;for(var u in e)(t||Cet.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Eet(u,l)))&&s.push(u);return s}var Pet=Oet,$et=Object.prototype;function Tet(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$et;return e===n}var Net=Tet;function Met(e,t){return function(n){return e(t(n))}}var Mce=Met,Det=Mce,jet=Det(Object.keys,Object),Iet=jet,Let=Net,Fet=Iet,Ret=Object.prototype,zet=Ret.hasOwnProperty;function Bet(e){if(!Let(e))return Fet(e);var t=[];for(var n in Object(e))zet.call(e,n)&&n!="constructor"&&t.push(n);return t}var Uet=Bet,Wet=tz,Het=yz;function qet(e){return e!=null&&Het(e.length)&&!Wet(e)}var Qx=qet,Get=Pet,Vet=Uet,Xet=Qx;function Yet(e){return Xet(e)?Get(e):Vet(e)}var AC=Yet,Ket=uJe,Zet=xJe,Qet=AC;function Jet(e){return Ket(e,Qet,Zet)}var ett=Jet,iG=ett,ttt=1,ntt=Object.prototype,rtt=ntt.hasOwnProperty;function itt(e,t,n,r,i,a){var o=n&ttt,s=iG(e),l=s.length,u=iG(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:rtt.call(t,d)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var x=o;++f<l;){d=s[f];var v=e[d],b=t[d];if(r)var _=o?r(b,v,d,t,e,a):r(v,b,d,e,t,a);if(!(_===void 0?v===b||i(v,b,n,r,a):_)){g=!1;break}x||(x=d=="constructor")}if(g&&!x){var k=e.constructor,E=t.constructor;k!=E&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(g=!1)}return a.delete(e),a.delete(t),g}var att=itt,ott=Sh,stt=vl,ltt=ott(stt,"DataView"),utt=ltt,ctt=Sh,ftt=vl,dtt=ctt(ftt,"Promise"),htt=dtt,ptt=Sh,mtt=vl,gtt=ptt(mtt,"Set"),Dce=gtt,ytt=Sh,vtt=vl,xtt=ytt(vtt,"WeakMap"),btt=xtt,ZD=utt,QD=rz,JD=htt,ej=Dce,tj=btt,jce=Nu,Yg=rce,aG="[object Map]",_tt="[object Object]",oG="[object Promise]",sG="[object Set]",lG="[object WeakMap]",uG="[object DataView]",wtt=Yg(ZD),Stt=Yg(QD),Ett=Yg(JD),Att=Yg(ej),ktt=Yg(tj),Bf=jce;(ZD&&Bf(new ZD(new ArrayBuffer(1)))!=uG||QD&&Bf(new QD)!=aG||JD&&Bf(JD.resolve())!=oG||ej&&Bf(new ej)!=sG||tj&&Bf(new tj)!=lG)&&(Bf=function(e){var t=jce(e),n=t==_tt?e.constructor:void 0,r=n?Yg(n):"";if(r)switch(r){case wtt:return uG;case Stt:return aG;case Ett:return oG;case Att:return sG;case ktt:return lG}return t});var Ctt=Bf,J$=Sce,Ott=Cce,Ptt=iJe,$tt=att,cG=Ctt,fG=ia,dG=$ce,Ttt=Nce,Ntt=1,hG="[object Arguments]",pG="[object Array]",k_="[object Object]",Mtt=Object.prototype,mG=Mtt.hasOwnProperty;function Dtt(e,t,n,r,i,a){var o=fG(e),s=fG(t),l=o?pG:cG(e),u=s?pG:cG(t);l=l==hG?k_:l,u=u==hG?k_:u;var c=l==k_,f=u==k_,d=l==u;if(d&&dG(e)){if(!dG(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new J$),o||Ttt(e)?Ott(e,t,n,r,i,a):Ptt(e,t,l,n,r,i,a);if(!(n&Ntt)){var p=c&&mG.call(e,"__wrapped__"),m=f&&mG.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,x=m?t.value():t;return a||(a=new J$),i(g,x,n,r,a)}}return d?(a||(a=new J$),$tt(e,t,n,r,i,a)):!1}var jtt=Dtt,Itt=jtt,gG=Mu;function Ice(e,t,n,r,i){return e===t?!0:e==null||t==null||!gG(e)&&!gG(t)?e!==e&&t!==t:Itt(e,t,n,r,Ice,i)}var vz=Ice,Ltt=Sce,Ftt=vz,Rtt=1,ztt=2;function Btt(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Ltt;if(r)var d=r(u,c,l,e,t,f);if(!(d===void 0?Ftt(c,u,Rtt|ztt,r,f):d))return!1}}return!0}var Utt=Btt,Wtt=mf;function Htt(e){return e===e&&!Wtt(e)}var Lce=Htt,qtt=Lce,Gtt=AC;function Vtt(e){for(var t=Gtt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,qtt(i)]}return t}var Xtt=Vtt;function Ytt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Fce=Ytt,Ktt=Utt,Ztt=Xtt,Qtt=Fce;function Jtt(e){var t=Ztt(e);return t.length==1&&t[0][2]?Qtt(t[0][0],t[0][1]):function(n){return n===e||Ktt(n,e,t)}}var ent=Jtt;function tnt(e,t){return e!=null&&t in Object(e)}var nnt=tnt,rnt=lce,int=mz,ant=ia,ont=gz,snt=yz,lnt=hC;function unt(e,t,n){t=rnt(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=lnt(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&snt(i)&&ont(o,i)&&(ant(e)||int(e)))}var cnt=unt,fnt=nnt,dnt=cnt;function hnt(e,t){return e!=null&&dnt(e,t,fnt)}var pnt=hnt,mnt=vz,gnt=uce,ynt=pnt,vnt=ez,xnt=Lce,bnt=Fce,_nt=hC,wnt=1,Snt=2;function Ent(e,t){return vnt(e)&&xnt(t)?bnt(_nt(e),t):function(n){var r=gnt(n,e);return r===void 0&&r===t?ynt(n,e):mnt(t,r,wnt|Snt)}}var Ant=Ent;function knt(e){return e}var Kg=knt;function Cnt(e){return function(t){return t==null?void 0:t[e]}}var Ont=Cnt,Pnt=sz;function $nt(e){return function(t){return Pnt(t,e)}}var Tnt=$nt,Nnt=Ont,Mnt=Tnt,Dnt=ez,jnt=hC;function Int(e){return Dnt(e)?Nnt(jnt(e)):Mnt(e)}var Lnt=Int,Fnt=ent,Rnt=Ant,znt=Kg,Bnt=ia,Unt=Lnt;function Wnt(e){return typeof e=="function"?e:e==null?znt:typeof e=="object"?Bnt(e)?Rnt(e[0],e[1]):Fnt(e):Unt(e)}var xl=Wnt;function Hnt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Rce=Hnt;function qnt(e){return e!==e}var Gnt=qnt;function Vnt(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Xnt=Vnt,Ynt=Rce,Knt=Gnt,Znt=Xnt;function Qnt(e,t,n){return t===t?Znt(e,t,n):Ynt(e,Knt,n)}var Jnt=Qnt,ert=Jnt;function trt(e,t){var n=e==null?0:e.length;return!!n&&ert(e,t,0)>-1}var nrt=trt;function rrt(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var irt=rrt;function art(){}var ort=art,eT=Dce,srt=ort,lrt=pz,urt=1/0,crt=eT&&1/lrt(new eT([,-0]))[1]==urt?function(e){return new eT(e)}:srt,frt=crt,drt=Ece,hrt=nrt,prt=irt,mrt=kce,grt=frt,yrt=pz,vrt=200;function xrt(e,t,n){var r=-1,i=hrt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=prt;else if(a>=vrt){var u=t?null:grt(e);if(u)return yrt(u);o=!1,i=mrt,l=new drt}else l=t?[]:s;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var brt=xrt,_rt=xl,wrt=brt;function Srt(e,t){return e&&e.length?wrt(e,_rt(t)):[]}var Ert=Srt;const yG=kt(Ert);function zce(e,t,n){return t===!0?yG(e,n):Be(t)?yG(e,t):e}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var Art=["ref"];function vG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(n),!0).forEach(function(r){kC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function krt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uce(r.key),r)}}function Crt(e,t,n){return t&&xG(e.prototype,t),n&&xG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ort(e,t,n){return t=US(t),Prt(e,Bce()?Reflect.construct(t,n||[],US(e).constructor):t.apply(e,n))}function Prt(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $rt(e)}function $rt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bce=function(){return!!e})()}function US(e){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},US(e)}function Trt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nj(e,t)}function kC(e,t,n){return t=Uce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uce(e){var t=Nrt(e,"string");return Um(t)=="symbol"?t:t+""}function Nrt(e,t){if(Um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mrt(e,t){if(e==null)return{};var n=Drt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Drt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jrt(e){return e.value}function Irt(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=Mrt(t,Art);return q.createElement(hz,n)}var bG=1,yd=function(e){function t(){var n;krt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ort(this,t,[].concat(i)),kC(n,"lastBoundingBox",{width:-1,height:-1}),n}return Trt(t,e),Crt(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bG||Math.abs(i.height-this.lastBoundingBox.height)>bG)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$l({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $l($l({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=$l($l({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Irt(a,$l($l({},this.props),{},{payload:zce(c,u,jrt)})))}}],[{key:"getWithHeight",value:function(r,i){var a=$l($l({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(X.PureComponent);kC(yd,"displayName","Legend");kC(yd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _G=Zx,Lrt=mz,Frt=ia,wG=_G?_G.isConcatSpreadable:void 0;function Rrt(e){return Frt(e)||Lrt(e)||!!(wG&&e&&e[wG])}var zrt=Rrt,Brt=Oce,Urt=zrt;function Wce(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Urt),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?Wce(s,t-1,n,r,i):Brt(i,s):r||(i[i.length]=s)}return i}var Hce=Wce;function Wrt(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var Hrt=Wrt,qrt=Hrt,Grt=qrt(),Vrt=Grt,Xrt=Vrt,Yrt=AC;function Krt(e,t){return e&&Xrt(e,t,Yrt)}var qce=Krt,Zrt=Qx;function Qrt(e,t){return function(n,r){if(n==null)return n;if(!Zrt(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Jrt=Qrt,eit=qce,tit=Jrt,nit=tit(eit),xz=nit,rit=xz,iit=Qx;function ait(e,t){var n=-1,r=iit(e)?Array(e.length):[];return rit(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var Gce=ait;function oit(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var sit=oit,SG=Bg;function lit(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=SG(e),o=t!==void 0,s=t===null,l=t===t,u=SG(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var uit=lit,cit=uit;function fit(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=cit(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var dit=fit,tT=oz,hit=sz,pit=xl,mit=Gce,git=sit,yit=Tce,vit=dit,xit=Kg,bit=ia;function _it(e,t,n){t.length?t=tT(t,function(a){return bit(a)?function(o){return hit(o,a.length===1?a[0]:a)}:a}):t=[xit];var r=-1;t=tT(t,yit(pit));var i=mit(e,function(a,o,s){var l=tT(t,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return git(i,function(a,o){return vit(a,o,n)})}var wit=_it;function Sit(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Eit=Sit,Ait=Eit,EG=Math.max;function kit(e,t,n){return t=EG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=EG(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Ait(e,this,s)}}var Cit=kit;function Oit(e){return function(){return e}}var Pit=Oit,$it=Sh,Tit=function(){try{var e=$it(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Vce=Tit,Nit=Pit,AG=Vce,Mit=Kg,Dit=AG?function(e,t){return AG(e,"toString",{configurable:!0,enumerable:!1,value:Nit(t),writable:!0})}:Mit,jit=Dit,Iit=800,Lit=16,Fit=Date.now;function Rit(e){var t=0,n=0;return function(){var r=Fit(),i=Lit-(r-n);if(n=r,i>0){if(++t>=Iit)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zit=Rit,Bit=jit,Uit=zit,Wit=Uit(Bit),Hit=Wit,qit=Kg,Git=Cit,Vit=Hit;function Xit(e,t){return Vit(Git(e,t,qit),e+"")}var Yit=Xit,Kit=nz,Zit=Qx,Qit=gz,Jit=mf;function eat(e,t,n){if(!Jit(n))return!1;var r=typeof t;return(r=="number"?Zit(n)&&Qit(t,n.length):r=="string"&&t in n)?Kit(n[t],e):!1}var CC=eat,tat=Hce,nat=wit,rat=Yit,kG=CC,iat=rat(function(e,t){if(e==null)return[];var n=t.length;return n>1&&kG(e,t[0],t[1])?t=[]:n>2&&kG(t[0],t[1],t[2])&&(t=[t[0]]),nat(e,tat(t,1),[])}),aat=iat;const bz=kt(aat);function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rj.apply(this,arguments)}function oat(e,t){return cat(e)||uat(e,t)||lat(e,t)||sat()}function sat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lat(e,t){if(e){if(typeof e=="string")return CG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CG(e,t)}}function CG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uat(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cat(e){if(Array.isArray(e))return e}function OG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OG(Object(n),!0).forEach(function(r){fat(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fat(e,t,n){return t=dat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dat(e){var t=hat(e,"string");return m1(t)=="symbol"?t:t+""}function hat(e,t){if(m1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(m1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pat(e){return Array.isArray(e)&&Yn(e[0])&&Yn(e[1])?e.join(" ~ "):e}var mat=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,d=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,_=function(){if(c&&c.length){var I={padding:0,margin:0},W=(d?bz(c,d):c).map(function(R,M){if(R.type==="none")return null;var z=nT({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),H=R.formatter||f||pat,B=R.value,G=R.name,N=B,Z=G;if(H&&N!=null&&Z!=null){var Y=H(B,G,R,M,c);if(Array.isArray(Y)){var U=oat(Y,2);N=U[0],Z=U[1]}else N=Y}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:z},Yn(Z)?q.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Yn(Z)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},N),q.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:I},W)}return null},k=nT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=nT({margin:0},u),A=!Ze(g),C=A?g:"",P=Ke("recharts-default-tooltip",p),T=Ke("recharts-tooltip-label",m);A&&x&&c!==void 0&&c!==null&&(C=x(g,c));var D=b?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",rj({className:P,style:k},D),q.createElement("p",{className:T,style:E},q.isValidElement(C)?C:"".concat(C)),_())};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function C_(e,t,n){return t=gat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gat(e){var t=yat(e,"string");return g1(t)=="symbol"?t:t+""}function yat(e,t){if(g1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(g1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qy="recharts-tooltip-wrapper",vat={visibility:"hidden"};function xat(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ke(Qy,C_(C_(C_(C_({},"".concat(Qy,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(Qy,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(Qy,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(Qy,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function PG(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&he(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(t[r])return o[r]?c:f;if(o[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function bat(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function _at(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=PG({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=PG({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=bat({translateX:c,translateY:f,useTranslate3d:s})):u=vat,{cssProperties:u,cssClasses:xat({translateX:c,translateY:f,coordinate:n})}}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function $G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$G(Object(n),!0).forEach(function(r){aj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$G(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sat(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yce(r.key),r)}}function Eat(e,t,n){return t&&Sat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aat(e,t,n){return t=WS(t),kat(e,Xce()?Reflect.construct(t,n||[],WS(e).constructor):t.apply(e,n))}function kat(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cat(e)}function Cat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xce=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WS(e)}function Oat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ij(e,t)}function ij(e,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ij(e,t)}function aj(e,t,n){return t=Yce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yce(e){var t=Pat(e,"string");return Wm(t)=="symbol"?t:t+""}function Pat(e,t){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NG=1,$at=function(e){function t(){var n;wat(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Aat(this,t,[].concat(i)),aj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aj(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Oat(t,e),Eat(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NG||Math.abs(r.height-this.state.lastBoundingBox.height)>NG)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,_=_at({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),k=_.cssClasses,E=_.cssProperties,A=TG(TG({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return q.createElement("div",{tabIndex:-1,className:k,style:A,ref:function(P){r.wrapperNode=P}},u)}}])}(X.PureComponent),Tat=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gf={isSsr:Tat()};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function MG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MG(Object(n),!0).forEach(function(r){_z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mat(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zce(r.key),r)}}function Dat(e,t,n){return t&&Mat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jat(e,t,n){return t=HS(t),Iat(e,Kce()?Reflect.construct(t,n||[],HS(e).constructor):t.apply(e,n))}function Iat(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lat(e)}function Lat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kce=function(){return!!e})()}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HS(e)}function Fat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oj(e,t)}function oj(e,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oj(e,t)}function _z(e,t,n){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zce(e){var t=Rat(e,"string");return Hm(t)=="symbol"?t:t+""}function Rat(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zat(e){return e.dataKey}function Bat(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(mat,t)}var da=function(e){function t(){return Nat(this,t),jat(this,t,arguments)}return Fat(t,e),Dat(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,x=i.position,v=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,k=i.wrapperStyle,E=m??[];f&&E.length&&(E=zce(m.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,zat));var A=E.length>0;return q.createElement($at,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:A,offset:p,position:x,reverseDirection:v,useTranslate3d:b,viewBox:_,wrapperStyle:k},Bat(u,DG(DG({},this.props),{},{payload:E})))}}])}(X.PureComponent);_z(da,"displayName","Tooltip");_z(da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Uat=vl,Wat=function(){return Uat.Date.now()},Hat=Wat,qat=/\s/;function Gat(e){for(var t=e.length;t--&&qat.test(e.charAt(t)););return t}var Vat=Gat,Xat=Vat,Yat=/^\s+/;function Kat(e){return e&&e.slice(0,Xat(e)+1).replace(Yat,"")}var Zat=Kat,Qat=Zat,jG=mf,Jat=Bg,IG=NaN,eot=/^[-+]0x[0-9a-f]+$/i,tot=/^0b[01]+$/i,not=/^0o[0-7]+$/i,rot=parseInt;function iot(e){if(typeof e=="number")return e;if(Jat(e))return IG;if(jG(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jG(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Qat(e);var n=tot.test(e);return n||not.test(e)?rot(e.slice(2),n?2:8):eot.test(e)?IG:+e}var Qce=iot,aot=mf,rT=Hat,LG=Qce,oot="Expected a function",sot=Math.max,lot=Math.min;function uot(e,t,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(oot);t=LG(t)||0,aot(n)&&(c=!!n.leading,f="maxWait"in n,a=f?sot(LG(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d);function p(A){var C=r,P=i;return r=i=void 0,u=A,o=e.apply(P,C),o}function m(A){return u=A,s=setTimeout(v,t),c?p(A):o}function g(A){var C=A-l,P=A-u,T=t-C;return f?lot(T,a-P):T}function x(A){var C=A-l,P=A-u;return l===void 0||C>=t||C<0||f&&P>=a}function v(){var A=rT();if(x(A))return b(A);s=setTimeout(v,g(A))}function b(A){return s=void 0,d&&r?p(A):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function k(){return s===void 0?o:b(rT())}function E(){var A=rT(),C=x(A);if(r=arguments,i=this,l=A,C){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(v,t),p(l)}return s===void 0&&(s=setTimeout(v,t)),o}return E.cancel=_,E.flush=k,E}var cot=uot,fot=cot,dot=mf,hot="Expected a function";function pot(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(hot);return dot(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fot(e,t,{leading:r,maxWait:t,trailing:i})}var mot=pot;const Jce=kt(mot);function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function FG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FG(Object(n),!0).forEach(function(r){got(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function got(e,t,n){return t=yot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yot(e){var t=vot(e,"string");return y1(t)=="symbol"?t:t+""}function vot(e,t){if(y1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(y1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xot(e,t){return Sot(e)||wot(e,t)||_ot(e,t)||bot()}function bot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ot(e,t){if(e){if(typeof e=="string")return RG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RG(e,t)}}function RG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wot(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Sot(e){if(Array.isArray(e))return e}var Sw=X.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,d=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,x=e.id,v=e.className,b=e.onResize,_=e.style,k=_===void 0?{}:_,E=X.useRef(null),A=X.useRef();A.current=b,X.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var C=X.useState({containerWidth:i.width,containerHeight:i.height}),P=xot(C,2),T=P[0],D=P[1],j=X.useCallback(function(W,R){D(function(M){var z=Math.round(W),H=Math.round(R);return M.containerWidth===z&&M.containerHeight===H?M:{containerWidth:z,containerHeight:H}})},[]);X.useEffect(function(){var W=function(G){var N,Z=G[0].contentRect,Y=Z.width,U=Z.height;j(Y,U),(N=A.current)===null||N===void 0||N.call(A,Y,U)};g>0&&(W=Jce(W,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(W),M=E.current.getBoundingClientRect(),z=M.width,H=M.height;return j(z,H),R.observe(E.current),function(){R.disconnect()}},[j,g]);var I=X.useMemo(function(){var W=T.containerWidth,R=T.containerHeight;if(W<0||R<0)return null;Vo(nd(o)||nd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Vo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=nd(o)?W:o,z=nd(l)?R:l;n&&n>0&&(M?z=M/n:z&&(M=z*n),d&&z>d&&(z=d)),Vo(M>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,z,o,l,c,f,n);var H=!Array.isArray(p)&&su(p.type).endsWith("Chart");return q.Children.map(p,function(B){return q.isValidElement(B)?X.cloneElement(B,O_({width:M,height:z},H?{style:O_({height:"100%",width:"100%",maxHeight:z,maxWidth:M},B.props.style)}:{})):B})},[n,p,l,d,f,c,T,o]);return q.createElement("div",{id:x?"".concat(x):void 0,className:Ke("recharts-responsive-container",v),style:O_(O_({},k),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:E},I)}),v1=function(t){return null};v1.displayName="Cell";function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function zG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zG(Object(n),!0).forEach(function(r){Eot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eot(e,t,n){return t=Aot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aot(e){var t=kot(e,"string");return x1(t)=="symbol"?t:t+""}function kot(e,t){if(x1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(x1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zh={widthCache:{},cacheCount:0},Cot=2e3,Oot={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BG="recharts_measurement_span";function Pot(e){var t=sj({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var sv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gf.isSsr)return{width:0,height:0};var r=Pot(n),i=JSON.stringify({text:t,copyStyle:r});if(Zh.widthCache[i])return Zh.widthCache[i];try{var a=document.getElementById(BG);a||(a=document.createElement("span"),a.setAttribute("id",BG),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=sj(sj({},Oot),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Zh.widthCache[i]=l,++Zh.cacheCount>Cot&&(Zh.cacheCount=0,Zh.widthCache={}),l}catch{return{width:0,height:0}}},$ot=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function qS(e,t){return Dot(e)||Mot(e,t)||Not(e,t)||Tot()}function Tot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Not(e,t){if(e){if(typeof e=="string")return UG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UG(e,t)}}function UG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mot(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dot(e){if(Array.isArray(e))return e}function jot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lot(r.key),r)}}function Iot(e,t,n){return t&&WG(e.prototype,t),n&&WG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lot(e){var t=Fot(e,"string");return b1(t)=="symbol"?t:t+""}function Fot(e,t){if(b1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(b1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rot=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zot=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,efe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bot=Object.keys(efe),Ep="NaN";function Uot(e,t){return e*efe[t]}var P_=function(){function e(t,n){jot(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Rot.test(n)&&(this.num=NaN,this.unit=""),Bot.includes(n)&&(this.num=Uot(t,n),this.unit="px")}return Iot(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=zot.exec(n))!==null&&r!==void 0?r:[],a=qS(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function tfe(e){if(e.includes(Ep))return Ep;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=HG.exec(t))!==null&&n!==void 0?n:[],i=qS(r,4),a=i[1],o=i[2],s=i[3],l=P_.parse(a??""),u=P_.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ep;t=t.replace(HG,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,d=(f=qG.exec(t))!==null&&f!==void 0?f:[],p=qS(d,4),m=p[1],g=p[2],x=p[3],v=P_.parse(m??""),b=P_.parse(x??""),_=g==="+"?v.add(b):v.subtract(b);if(_.isNaN())return Ep;t=t.replace(qG,_.toString())}return t}var GG=/\(([^()]*)\)/;function Wot(e){for(var t=e;t.includes("(");){var n=GG.exec(t),r=qS(n,2),i=r[1];t=t.replace(GG,tfe(i))}return t}function Hot(e){var t=e.replace(/\s+/g,"");return t=Wot(t),t=tfe(t),t}function qot(e){try{return Hot(e)}catch{return Ep}}function iT(e){var t=qot(e.slice(5,-1));return t===Ep?"":t}var Got=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vot=["dx","dy","angle","className","breakAll"];function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lj.apply(this,arguments)}function VG(e,t){if(e==null)return{};var n=Xot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xot(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XG(e,t){return Qot(e)||Zot(e,t)||Kot(e,t)||Yot()}function Yot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kot(e,t){if(e){if(typeof e=="string")return YG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YG(e,t)}}function YG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zot(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qot(e){if(Array.isArray(e))return e}var nfe=/[ \f\n\r\t\v\u2028\u2029]+/,rfe=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];Ze(n)||(r?a=n.toString().split(""):a=n.toString().split(nfe));var o=a.map(function(l){return{word:l,width:sv(l,i).width}}),s=r?0:sv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Jot=function(t,n,r,i,a){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=he(o),f=s,d=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(z,H){var B=H.word,G=H.width,N=z[z.length-1];if(N&&(i==null||a||N.width+G+r<Number(i)))N.words.push(B),N.width+=G+r;else{var Z={words:[B],width:G};z.push(Z)}return z},[])},p=d(n),m=function(M){return M.reduce(function(z,H){return z.width>H.width?z:H})};if(!c)return p;for(var g="",x=function(M){var z=f.slice(0,M),H=rfe({breakAll:u,style:l,children:z+g}).wordsWithComputedWidth,B=d(H),G=B.length>o||m(B).width>Number(i);return[G,B]},v=0,b=f.length-1,_=0,k;v<=b&&_<=f.length-1;){var E=Math.floor((v+b)/2),A=E-1,C=x(A),P=XG(C,2),T=P[0],D=P[1],j=x(E),I=XG(j,1),W=I[0];if(!T&&!W&&(v=E+1),T&&W&&(b=E-1),!T&&W){k=D;break}_++}return k||p},KG=function(t){var n=Ze(t)?[]:t.toString().split(nfe);return[{words:n}]},est=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!gf.isSsr){var l,u,c=rfe({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return KG(i);return Jot({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return KG(i)},ZG="#808080",Zd=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,d=t.textAnchor,p=d===void 0?"start":d,m=t.verticalAnchor,g=m===void 0?"end":m,x=t.fill,v=x===void 0?ZG:x,b=VG(t,Got),_=X.useMemo(function(){return est({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),k=b.dx,E=b.dy,A=b.angle,C=b.className,P=b.breakAll,T=VG(b,Vot);if(!Yn(r)||!Yn(a))return null;var D=r+(he(k)?k:0),j=a+(he(E)?E:0),I;switch(g){case"start":I=iT("calc(".concat(u,")"));break;case"middle":I=iT("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=iT("calc(".concat(_.length-1," * -").concat(s,")"));break}var W=[];if(f){var R=_[0].width,M=b.width;W.push("scale(".concat((he(M)?M/R:1)/R,")"))}return A&&W.push("rotate(".concat(A,", ").concat(D,", ").concat(j,")")),W.length&&(T.transform=W.join(" ")),q.createElement("text",lj({},Me(T,!0),{x:D,y:j,className:Ke("recharts-text",C),textAnchor:p,fill:v.includes("url")?ZG:v}),_.map(function(z,H){var B=z.words.join(P?"":" ");return q.createElement("tspan",{x:D,dy:H===0?I:s,key:"".concat(B,"-").concat(H)},B)}))};const QG=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lv,scaleDiverging:aF,scaleDivergingLog:oF,scaleDivergingPow:AA,scaleDivergingSqrt:Ste,scaleDivergingSymlog:sF,scaleIdentity:VL,scaleImplicit:d2,scaleLinear:Bv,scaleLog:YL,scaleOrdinal:ox,scalePoint:q0,scalePow:bA,scaleQuantile:JL,scaleQuantize:eF,scaleRadial:vte,scaleSequential:wA,scaleSequentialLog:rF,scaleSequentialPow:SA,scaleSequentialQuantile:wte,scaleSequentialSqrt:_te,scaleSequentialSymlog:iF,scaleSqrt:yte,scaleSymlog:ZL,scaleThreshold:tF,scaleTime:xte,scaleUtc:bte,tickFormat:GL},Symbol.toStringTag,{value:"Module"}));var tst=Bg;function nst(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!tst(o):n(o,s)))var s=o,l=a}return l}var OC=nst;function rst(e,t){return e>t}var ife=rst,ist=OC,ast=ife,ost=Kg;function sst(e){return e&&e.length?ist(e,ost,ast):void 0}var lst=sst;const mc=kt(lst);function ust(e,t){return e<t}var afe=ust,cst=OC,fst=afe,dst=Kg;function hst(e){return e&&e.length?cst(e,dst,fst):void 0}var pst=hst;const PC=kt(pst);var mst=oz,gst=xl,yst=Gce,vst=ia;function xst(e,t){var n=vst(e)?mst:yst;return n(e,gst(t))}var bst=xst,_st=Hce,wst=bst;function Sst(e,t){return _st(wst(e,t),1)}var Est=Sst;const Ast=kt(Est);var kst=vz;function Cst(e,t){return kst(e,t)}var Ost=Cst;const Qd=kt(Ost);var Zg=1e9,Pst={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sz,dn=!0,po="[DecimalError] ",vd=po+"Invalid argument: ",wz=po+"Exponent out of range: ",Qg=Math.floor,Uf=Math.pow,$st=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ma,er=1e7,nn=7,ofe=9007199254740991,GS=Qg(ofe/nn),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(e){return lu(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,n=t.constructor;return Vt(lu(t,new n(e),0,1),n.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return Rn(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ma))throw Error(po+"NaN");if(n.s<1)throw Error(po+(n.s?"NaN":"-Infinity"));return n.eq(ma)?new r(0):(dn=!1,t=lu(_1(n,a),_1(e,a),a),dn=!0,Vt(t,i))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ufe(t,e):sfe(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(po+"NaN");return n.s?(dn=!1,t=lu(n,e,0,1).times(e),dn=!0,n.minus(t)):Vt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return lfe(this)};Pe.naturalLogarithm=Pe.ln=function(){return _1(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sfe(t,e):ufe(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vd+e);if(t=Rn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Pe.squareRoot=Pe.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(po+"NaN")}for(e=Rn(s),dn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ms(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(lu(s,a,o+2)).times(.5),Ms(a.d).slice(0,o)===(t=Ms(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Vt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return dn=!0,Vt(r,n)};Pe.times=Pe.mul=function(e){var t,n,r,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+t,a[i--]=s%er|0,t=s/er|0;a[i]=(a[i]+t)%er|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,dn?Vt(e,f.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(il(e,0,Zg),t===void 0?t=r.rounding:il(t,0,8),Vt(n,e+Rn(n)+1,t))};Pe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Jd(r,!0):(il(e,0,Zg),t===void 0?t=i.rounding:il(t,0,8),r=Vt(new i(r),e+1,t),n=Jd(r,!0,e+1)),n};Pe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Jd(i):(il(e,0,Zg),t===void 0?t=a.rounding:il(t,0,8),r=Vt(new a(i),e+Rn(i)+1,t),n=Jd(r.abs(),!1,e+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Rn(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(ma);if(s=new l(s),!s.s){if(e.s<1)throw Error(po+"Infinity");return s}if(s.eq(ma))return s;if(r=l.precision,e.eq(ma))return Vt(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=c<0?-c:c)<=ofe){for(i=new l(ma),t=Math.ceil(r/nn+4),dn=!1;n%2&&(i=i.times(s),eV(i.d,t)),n=Qg(n/2),n!==0;)s=s.times(s),eV(s.d,t);return dn=!0,e.s<0?new l(ma).div(i):Vt(i,r)}}else if(a<0)throw Error(po+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,dn=!1,i=e.times(_1(s,r+u)),dn=!0,i=lfe(i),i.s=a,i};Pe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Rn(i),r=Jd(i,n<=a.toExpNeg||n>=a.toExpPos)):(il(e,1,Zg),t===void 0?t=a.rounding:il(t,0,8),i=Vt(new a(i),e,t),n=Rn(i),r=Jd(i,e<=n||n<=a.toExpNeg,e)),r};Pe.toSignificantDigits=Pe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(il(e,1,Zg),t===void 0?t=r.rounding:il(t,0,8)),Vt(new r(n),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),n=e.constructor;return Jd(e,t<=n.toExpNeg||t>=n.toExpPos)};function sfe(e,t){var n,r,i,a,o,s,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),dn?Vt(t,f):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/er|0,l[a]%=er;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,dn?Vt(t,f):t}function il(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vd+e)}function Ms(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=nn-r.length,n&&(a+=Ju(n)),a+=r;o=e[t],r=o+"",n=nn-r.length,n&&(a+=Ju(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var lu=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%er|0,o=a/er|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*er+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,d,p,m,g,x,v,b,_,k,E,A,C,P,T=r.constructor,D=r.s==i.s?1:-1,j=r.d,I=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(po+"Division by zero");for(l=r.e-i.e,C=I.length,E=j.length,p=new T(D),m=p.d=[],u=0;I[u]==(j[u]||0);)++u;if(I[u]>(j[u]||0)&&--l,a==null?b=a=T.precision:o?b=a+(Rn(r)-Rn(i))+1:b=a,b<0)return new T(0);if(b=b/nn+2|0,u=0,C==1)for(c=0,I=I[0],b++;(u<E||c)&&b--;u++)_=c*er+(j[u]||0),m[u]=_/I|0,c=_%I|0;else{for(c=er/(I[0]+1)|0,c>1&&(I=e(I,c),j=e(j,c),C=I.length,E=j.length),k=C,g=j.slice(0,C),x=g.length;x<C;)g[x++]=0;P=I.slice(),P.unshift(0),A=I[0],I[1]>=er/2&&++A;do c=0,s=t(I,g,C,x),s<0?(v=g[0],C!=x&&(v=v*er+(g[1]||0)),c=v/A|0,c>1?(c>=er&&(c=er-1),f=e(I,c),d=f.length,x=g.length,s=t(f,g,d,x),s==1&&(c--,n(f,C<d?P:I,d))):(c==0&&(s=c=1),f=I.slice()),d=f.length,d<x&&f.unshift(0),n(g,f,x),s==-1&&(x=g.length,s=t(I,g,C,x),s<1&&(c++,n(g,C<x?P:I,x))),x=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[x++]=j[k]||0:(g=[j[k]],x=1);while((k++<E||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Vt(p,o?a+Rn(p)+1:a)}}();function lfe(e,t){var n,r,i,a,o,s,l=0,u=0,c=e.constructor,f=c.precision;if(Rn(e)>16)throw Error(wz+Rn(e));if(!e.s)return new c(ma);for(dn=!1,s=f,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Uf(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(ma),c.precision=s;;){if(i=Vt(i.times(e),s),n=n.times(++l),o=a.plus(lu(i,n,s)),Ms(o.d).slice(0,s)===Ms(a.d).slice(0,s)){for(;u--;)a=Vt(a.times(a),s);return c.precision=f,t==null?(dn=!0,Vt(a,f)):a}a=o}}function Rn(e){for(var t=e.e*nn,n=e.d[0];n>=10;n/=10)t++;return t}function aT(e,t,n){if(t>e.LN10.sd())throw dn=!0,n&&(e.precision=n),Error(po+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function Ju(e){for(var t="";e--;)t+="0";return t}function _1(e,t){var n,r,i,a,o,s,l,u,c,f=1,d=10,p=e,m=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(po+(p.s?"NaN":"-Infinity"));if(p.eq(ma))return new g(0);if(t==null?(dn=!1,u=x):u=t,p.eq(10))return t==null&&(dn=!0),aT(g,u);if(u+=d,g.precision=u,n=Ms(m),r=n.charAt(0),a=Rn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ms(p.d),r=n.charAt(0),f++;a=Rn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=aT(g,u+2,x).times(a+""),p=_1(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=x,t==null?(dn=!0,Vt(p,x)):p;for(s=o=p=lu(p.minus(ma),p.plus(ma),u),c=Vt(p.times(p),u),i=3;;){if(o=Vt(o.times(c),u),l=s.plus(lu(o,new g(i),u)),Ms(l.d).slice(0,u)===Ms(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(aT(g,u+2,x).times(a+""))),s=lu(s,new g(f),u),g.precision=x,t==null?(dn=!0,Vt(s,x)):s;s=l,i+=2}}function JG(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Qg(n/nn),e.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nn;r<i;)e.d.push(+t.slice(r,r+=nn));t=t.slice(r),r=nn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),dn&&(e.e>GS||e.e<-GS))throw Error(wz+n)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,n){var r,i,a,o,s,l,u,c,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=nn,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/nn),a=f.length,c>=a)return e;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=nn,i=r-nn+o}if(n!==void 0&&(a=Uf(10,o-i-1),s=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Uf(10,o-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Rn(e),f.length=1,t=t-a-1,f[0]=Uf(10,(nn-t%nn)%nn),e.e=Qg(-t/nn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Uf(10,nn-r),f[c]=i>0?(u/Uf(10,o-i)%Uf(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==er&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=er)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(dn&&(e.e>GS||e.e<-GS))throw Error(wz+Rn(e));return e}function ufe(e,t){var n,r,i,a,o,s,l,u,c,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),dn?Vt(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=er-1;--l[a],l[i]+=er}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,dn?Vt(t,p):t):new d(0)}function Jd(e,t,n){var r,i=Rn(e),a=Ms(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ju(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ju(-i-1)+a,n&&(r=n-o)>0&&(a+=Ju(r))):i>=o?(a+=Ju(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ju(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ju(r))),e.s<0?"-"+a:a}function eV(e,t){if(e.length>t)return e.length=t,!0}function cfe(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return JG(o,a.toString())}else if(typeof a!="string")throw Error(vd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,$st.test(a))JG(o,a);else throw Error(vd+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=cfe,i.config=i.set=Tst,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Tst(e){if(!e||typeof e!="object")throw Error(po+"Object expected");var t,n,r,i=["precision",1,Zg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Qg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(vd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vd+n+": "+r);return this}var Sz=cfe(Pst);ma=new Sz(1);const Bt=Sz;function Nst(e){return Ist(e)||jst(e)||Dst(e)||Mst()}function Mst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dst(e,t){if(e){if(typeof e=="string")return uj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uj(e,t)}}function jst(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ist(e){if(Array.isArray(e))return uj(e)}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lst=function(t){return t},ffe={},dfe=function(t){return t===ffe},tV=function(t){return function n(){return arguments.length===0||arguments.length===1&&dfe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Fst=function e(t,n){return t===1?n:tV(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==ffe}).length;return o>=t?n.apply(void 0,i):e(t-o,tV(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return dfe(f)?l.shift():f});return n.apply(void 0,Nst(c).concat(l))}))})},$C=function(t){return Fst(t.length,t)},cj=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Rst=$C(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),zst=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Lst;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},fj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},hfe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function Bst(e){var t;return e===0?t=1:t=Math.floor(new Bt(e).abs().log(10).toNumber())+1,t}function Ust(e,t,n){for(var r=new Bt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Wst=$C(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Hst=$C(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),qst=$C(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const TC={rangeStep:Ust,getDigitCount:Bst,interpolateNumber:Wst,uninterpolateNumber:Hst,uninterpolateTruncation:qst};function dj(e){return Xst(e)||Vst(e)||pfe(e)||Gst()}function Gst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vst(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Xst(e){if(Array.isArray(e))return hj(e)}function w1(e,t){return Zst(e)||Kst(e,t)||pfe(e,t)||Yst()}function Yst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(e,t){if(e){if(typeof e=="string")return hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(e,t)}}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kst(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Zst(e){if(Array.isArray(e))return e}function mfe(e){var t=w1(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function gfe(e,t,n){if(e.lte(0))return new Bt(0);var r=TC.getDigitCount(e.toNumber()),i=new Bt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Bt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new Bt(Math.ceil(l))}function Qst(e,t,n){var r=1,i=new Bt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Bt(10).pow(TC.getDigitCount(e)-1),i=new Bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Bt(Math.floor(e)))}else e===0?i=new Bt(Math.floor((t-1)/2)):n||(i=new Bt(Math.floor(e)));var o=Math.floor((t-1)/2),s=zst(Rst(function(l){return i.add(new Bt(l-o).mul(r)).toNumber()}),cj);return s(0,t)}function yfe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var a=gfe(new Bt(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Bt(0):(o=new Bt(e).add(t).div(2),o=o.sub(new Bt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Bt(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?yfe(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Bt(s).mul(a)),tickMax:o.add(new Bt(l).mul(a))})}function Jst(e){var t=w1(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=mfe([n,r]),l=w1(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(dj(cj(0,i-1).map(function(){return 1/0}))):[].concat(dj(cj(0,i-1).map(function(){return-1/0})),[c]);return n>r?fj(f):f}if(u===c)return Qst(u,i,a);var d=yfe(u,c,o,a),p=d.step,m=d.tickMin,g=d.tickMax,x=TC.rangeStep(m,g.add(new Bt(.1).mul(p)),p);return n>r?fj(x):x}function elt(e,t){var n=w1(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=mfe([r,i]),s=w1(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),f=gfe(new Bt(u).sub(l).div(c-1),a,0),d=[].concat(dj(TC.rangeStep(new Bt(l),new Bt(u).sub(new Bt(.99).mul(f)),f)),[u]);return r>i?fj(d):d}var tlt=hfe(Jst),nlt=hfe(elt),rlt="Invariant failed";function eh(e,t){throw new Error(rlt)}var ilt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(this,arguments)}function alt(e,t){return ult(e)||llt(e,t)||slt(e,t)||olt()}function olt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function slt(e,t){if(e){if(typeof e=="string")return nV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nV(e,t)}}function nV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function llt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ult(e){if(Array.isArray(e))return e}function clt(e,t){if(e==null)return{};var n=flt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function flt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hlt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bfe(r.key),r)}}function plt(e,t,n){return t&&hlt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mlt(e,t,n){return t=XS(t),glt(e,vfe()?Reflect.construct(t,n||[],XS(e).constructor):t.apply(e,n))}function glt(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ylt(e)}function ylt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vfe=function(){return!!e})()}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XS(e)}function vlt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pj(e,t)}function pj(e,t){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pj(e,t)}function xfe(e,t,n){return t=bfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bfe(e){var t=xlt(e,"string");return qm(t)=="symbol"?t:t+""}function xlt(e,t){if(qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NC=function(e){function t(){return dlt(this,t),mlt(this,t,arguments)}return vlt(t,e),plt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=clt(r,ilt),p=Me(d,!1);this.props.direction==="x"&&c.type!=="number"&&eh();var m=l.map(function(g){var x=u(g,s),v=x.x,b=x.y,_=x.value,k=x.errorVal;if(!k)return null;var E=[],A,C;if(Array.isArray(k)){var P=alt(k,2);A=P[0],C=P[1]}else A=C=k;if(a==="vertical"){var T=c.scale,D=b+i,j=D+o,I=D-o,W=T(_-A),R=T(_+C);E.push({x1:R,y1:j,x2:R,y2:I}),E.push({x1:W,y1:D,x2:R,y2:D}),E.push({x1:W,y1:j,x2:W,y2:I})}else if(a==="horizontal"){var M=f.scale,z=v+i,H=z-o,B=z+o,G=M(_-A),N=M(_+C);E.push({x1:H,y1:N,x2:B,y2:N}),E.push({x1:z,y1:G,x2:z,y2:N}),E.push({x1:H,y1:G,x2:B,y2:G})}return q.createElement(ct,VS({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),E.map(function(Z){return q.createElement("line",VS({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return q.createElement(ct,{className:"recharts-errorBars"},m)}}])}(q.Component);xfe(NC,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xfe(NC,"displayName","ErrorBar");function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(r){blt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function blt(e,t,n){return t=_lt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _lt(e){var t=wlt(e,"string");return S1(t)=="symbol"?t:t+""}function wlt(e,t){if(S1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _fe=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=fa(n,yd);if(!o)return null;var s=yd.defaultProps,l=s!==void 0?Mf(Mf({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Mf(Mf({},d),f.props):{},m=p.dataKey,g=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||x||"square",color:Ez(f),value:g||m,payload:p}}),Mf(Mf(Mf({},l),yd.getWithHeight(o,i)),{},{payload:u,item:o})};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function iV(e){return klt(e)||Alt(e)||Elt(e)||Slt()}function Slt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Elt(e,t){if(e){if(typeof e=="string")return mj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mj(e,t)}}function Alt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function klt(e){if(Array.isArray(e))return mj(e)}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aV(Object(n),!0).forEach(function(r){Xp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xp(e,t,n){return t=Clt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Clt(e){var t=Olt(e,"string");return E1(t)=="symbol"?t:t+""}function Olt(e,t){if(E1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,n){return Ze(e)||Ze(t)?n:Yn(t)?Ea(e,t,n):Be(t)?t(e):n}function lv(e,t,n,r){var i=Ast(e,function(s){return $n(s,t)});if(n==="number"){var a=i.filter(function(s){return he(s)||parseFloat(s)});return a.length?[PC(a),mc(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ze(s)}):i;return o.map(function(s){return Yn(s)||s instanceof Date?s:""})}var Plt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(vi(f-c)!==vi(d-f)){var m=[];if(vi(d-f)===vi(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var x=d+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){o=i[u].index;break}}else{var b=Math.min(c,d),_=Math.max(c,d);if(t>(b+f)/2&&t<=(_+f)/2){o=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&t>(r[k].coordinate+r[k-1].coordinate)/2&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&t>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},Ez=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?En(En({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},$lt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,x=m.cateAxisId,v=g.filter(function(C){return su(C.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,_=b!==void 0?En(En({},b),v[0].props):v[0].props,k=_.barSize,E=_[x];o[E]||(o[E]=[]);var A=Ze(k)?n:k;o[E].push({item:v[0],stackList:v.slice(1),barSize:Ze(A)?void 0:xi(A,r,0)})}}return o},Tlt=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=xi(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,m=o.reduce(function(k,E){return k+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,x={offset:g-u,size:0};c=o.reduce(function(k,E){var A={item:E.item,position:{offset:x.offset+x.size+u,size:d?p:E.barSize}},C=[].concat(iV(k),[A]);return x=C[C.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){C.push({item:P,position:x})}),C},f)}else{var v=xi(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var b=(i-2*v-(l-1)*u)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;c=o.reduce(function(k,E,A){var C=[].concat(iV(k),[{item:E.item,position:{offset:v+(b+u)*A+(b-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return c},Nlt=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=_fe({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&he(t[p]))return En(En({},t),{},Xp({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&he(t[m]))return En(En({},t),{},Xp({},m,t[m]+(d||0)))}return t},Mlt=function(t,n,r){return Ze(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},wfe=function(t,n,r,i,a){var o=n.props.children,s=ro(o,NC).filter(function(u){return Mlt(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=$n(c,r);if(Ze(f))return u;var d=Array.isArray(f)?[PC(f),mc(f)]:[f,f],p=l.reduce(function(m,g){var x=$n(c,g,0),v=d[0]-Math.abs(Array.isArray(x)?x[0]:x),b=d[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Dlt=function(t,n,r,i,a){var o=n.map(function(s){return wfe(t,s,r,a,i)}).filter(function(s){return!Ze(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Sfe=function(t,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&wfe(t,l,u,i)||lv(t,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},Efe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Afe=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Zl=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?vi(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Gg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:a?a[f]:f,index:d,offset:u}})},oT=new WeakMap,$_=function(t,n){if(typeof n!="function")return t;oT.has(t)||oT.set(t,new WeakMap);var r=oT.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},kfe=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Lv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Bv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:q0(),realScaleType:"point"}:a==="category"?{scale:Lv(),realScaleType:"band"}:{scale:Bv(),realScaleType:"linear"};if(Yd(i)){var l="scale".concat(EC(i));return{scale:(QG[l]||q0)(),realScaleType:QG[l]?l:"point"}}return Be(i)?{scale:i}:{scale:q0(),realScaleType:"point"}},oV=1e-4,Cfe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-oV,o=Math.max(i[0],i[1])+oV,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},jlt=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Ilt=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(a[0]=r),(!he(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Llt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Gg(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},Flt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Gg(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Rlt={sign:Llt,expand:ZSe,none:dm,silhouette:QSe,wiggle:JSe,positive:Flt},zlt=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Rlt[r],o=KSe().keys(i).value(function(s,l){return+$n(s,l,0)}).order(RN).offset(a);return o(t)},Blt=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?En(En({},d.type.defaultProps),d.props):d.props,g=m.stackId,x=m.hide;if(x)return f;var v=m[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(Yn(g)){var _=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(d),b.hasStack=!0,b.stackGroups[g]=_}else b.stackGroups[Vg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return En(En({},f),{},Xp({},v,b))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var v=p.stackGroups[x];return En(En({},g),{},Xp({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:zlt(t,v.items,a)}))},m)}return En(En({},f),{},Xp({},d,p))},c)},Ofe=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=tlt(u,a,s);return t.domain([PC(c),mc(c)]),{niceTicks:c}}if(a&&i==="number"){var f=t.domain(),d=nlt(f,a,s);return{niceTicks:d}}return null};function sV(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(i[t.dataKey])){var s=IS(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=$n(i,Ze(o)?t.dataKey:o);return Ze(l)?null:t.scale(l)}var lV=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=$n(o,n.dataKey,n.domain[s]);return Ze(l)?null:n.scale(l)-a/2+i},Ult=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Wlt=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?En(En({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Yn(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Hlt=function(t){return t.reduce(function(n,r){return[PC(r.concat([n[0]]).filter(he)),mc(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},Pfe=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Hlt(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=function(t,n,r){if(Be(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(he(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(uV.test(t[0])){var a=+uV.exec(t[0])[1];i[0]=n[0]-a}else Be(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(he(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(cV.test(t[1])){var o=+cV.exec(t[1])[1];i[1]=n[1]+o}else Be(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},YS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=bz(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},fV=function(t,n,r){return!t||!t.length||Qd(t,Ea(r,"type.defaultProps.domain"))?n:t},$fe=function(t,n){var r=t.type.defaultProps?En(En({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return En(En({},Me(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ez(t),value:$n(n,i),type:l,payload:n,chartType:u,hide:c})};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function dV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dV(Object(n),!0).forEach(function(r){Tfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tfe(e,t,n){return t=qlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qlt(e){var t=Glt(e,"string");return A1(t)=="symbol"?t:t+""}function Glt(e,t){if(A1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(A1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vlt(e,t){return Zlt(e)||Klt(e,t)||Ylt(e,t)||Xlt()}function Xlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ylt(e,t){if(e){if(typeof e=="string")return hV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hV(e,t)}}function hV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Klt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Zlt(e){if(Array.isArray(e))return e}var KS=Math.PI/180,Qlt=function(t){return t*180/Math.PI},$t=function(t,n,r,i){return{x:t+Math.cos(-KS*i)*r,y:n+Math.sin(-KS*i)*r}},Nfe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Mfe=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=xi(t.cx,o,o/2),f=xi(t.cy,s,s/2),d=Nfe(o,s,r),p=xi(t.innerRadius,d,0),m=xi(t.outerRadius,d,d*.8),g=Object.keys(n);return g.reduce(function(x,v){var b=n[v],_=b.domain,k=b.reversed,E;if(Ze(b.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[p,m]),k&&(E=[E[1],E[0]]);else{E=b.range;var A=E,C=Vlt(A,2);l=C[0],u=C[1]}var P=kfe(b,a),T=P.realScaleType,D=P.scale;D.domain(_).range(E),Cfe(D);var j=Ofe(D,Dl(Dl({},b),{},{realScaleType:T})),I=Dl(Dl(Dl({},b),j),{},{range:E,radius:m,realScaleType:T,scale:D,cx:c,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return Dl(Dl({},x),{},Tfe({},v,I))},{})},Jlt=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},eut=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=Jlt({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Qlt(u),angleInRadian:u}},tut=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},nut=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},pV=function(t,n){var r=t.x,i=t.y,a=eut({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=tut(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?Dl(Dl({},n),{},{radius:o,angle:nut(p,n)}):null},Dfe=function(t){return!X.isValidElement(t)&&!Be(t)&&typeof t!="boolean"?t.className:""};function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}var rut=["offset"];function iut(e){return lut(e)||sut(e)||out(e)||aut()}function aut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function out(e,t){if(e){if(typeof e=="string")return yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yj(e,t)}}function sut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lut(e){if(Array.isArray(e))return yj(e)}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uut(e,t){if(e==null)return{};var n=cut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mV(Object(n),!0).forEach(function(r){fut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fut(e,t,n){return t=dut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dut(e){var t=hut(e,"string");return k1(t)=="symbol"?t:t+""}function hut(e,t){if(k1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(k1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C1.apply(this,arguments)}var put=function(t){var n=t.value,r=t.formatter,i=Ze(t.children)?n:t.children;return Be(r)?r(i):i},mut=function(t,n){var r=vi(n-t),i=Math.min(Math.abs(n-t),360);return r*i},gut=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,x=(f+d)/2,v=mut(p,m),b=v>=0?1:-1,_,k;i==="insideStart"?(_=p+b*o,k=g):i==="insideEnd"?(_=m-b*o,k=!g):i==="end"&&(_=m+b*o,k=g),k=v<=0?k:!k;var E=$t(u,c,x,_),A=$t(u,c,x,_+(k?1:-1)*359),C="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),P=Ze(t.id)?Vg("recharts-radial-line-"):t.id;return q.createElement("text",C1({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",s)}),q.createElement("defs",null,q.createElement("path",{id:P,d:C})),q.createElement("textPath",{xlinkHref:"#".concat(P)},n))},yut=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,d=(c+f)/2;if(i==="outside"){var p=$t(o,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,v=$t(o,s,x,d),b=v.x,_=v.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},vut=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,x=g*i,v=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Un(Un({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var k={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return Un(Un({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var E={x:s-x,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Un(Un({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(a==="right"){var A={x:s+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Un(Un({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var C=r?{width:u,height:c}:{};return a==="insideLeft"?Un({x:s+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},C):a==="insideRight"?Un({x:s+u-x,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?Un({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},C):a==="insideBottom"?Un({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?Un({x:s+x,y:l+d,textAnchor:b,verticalAnchor:m},C):a==="insideTopRight"?Un({x:s+u-x,y:l+d,textAnchor:v,verticalAnchor:m},C):a==="insideBottomLeft"?Un({x:s+x,y:l+c-d,textAnchor:b,verticalAnchor:p},C):a==="insideBottomRight"?Un({x:s+u-x,y:l+c-d,textAnchor:v,verticalAnchor:p},C):Ug(a)&&(he(a.x)||nd(a.x))&&(he(a.y)||nd(a.y))?Un({x:s+xi(a.x,u),y:l+xi(a.y,c),textAnchor:"end",verticalAnchor:"end"},C):Un({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},xut=function(t){return"cx"in t&&he(t.cx)};function ir(e){var t=e.offset,n=t===void 0?5:t,r=uut(e,rut),i=Un({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!a||Ze(s)&&Ze(l)&&!X.isValidElement(u)&&!Be(u))return null;if(X.isValidElement(u))return X.cloneElement(u,i);var p;if(Be(u)){if(p=X.createElement(u,i),X.isValidElement(p))return p}else p=put(i);var m=xut(a),g=Me(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gut(i,p,g);var x=m?yut(i):vut(i);return q.createElement(Zd,C1({className:Ke("recharts-label",f)},g,x,{breakAll:d}),p)}ir.displayName="Label";var jfe=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,d=t.y,p=t.top,m=t.left,g=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(he(g)&&he(x)){if(he(f)&&he(d))return{x:f,y:d,width:g,height:x};if(he(p)&&he(m))return{x:p,y:m,width:g,height:x}}return he(f)&&he(d)?{x:f,y:d,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},but=function(t,n){return t?t===!0?q.createElement(ir,{key:"label-implicit",viewBox:n}):Yn(t)?q.createElement(ir,{key:"label-implicit",viewBox:n,value:t}):X.isValidElement(t)?t.type===ir?X.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(ir,{key:"label-implicit",content:t,viewBox:n}):Be(t)?q.createElement(ir,{key:"label-implicit",content:t,viewBox:n}):Ug(t)?q.createElement(ir,C1({viewBox:n},t,{key:"label-implicit"})):null:null},_ut=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=jfe(t),o=ro(i,ir).map(function(l,u){return X.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=but(t.label,n||a);return[s].concat(iut(o))};ir.parseViewBox=jfe;ir.renderCallByParent=_ut;function wut(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Sut=wut;const Ife=kt(Sut);function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}var Eut=["valueAccessor"],Aut=["data","dataKey","clockWise","id","textBreakAll"];function kut(e){return $ut(e)||Put(e)||Out(e)||Cut()}function Cut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Out(e,t){if(e){if(typeof e=="string")return vj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vj(e,t)}}function Put(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ut(e){if(Array.isArray(e))return vj(e)}function vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZS.apply(this,arguments)}function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gV(Object(n),!0).forEach(function(r){Tut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tut(e,t,n){return t=Nut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nut(e){var t=Mut(e,"string");return O1(t)=="symbol"?t:t+""}function Mut(e,t){if(O1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(O1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vV(e,t){if(e==null)return{};var n=Dut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var jut=function(t){return Array.isArray(t.value)?Ife(t.value):t.value};function Hs(e){var t=e.valueAccessor,n=t===void 0?jut:t,r=vV(e,Eut),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=vV(r,Aut);return!i||!i.length?null:q.createElement(ct,{className:"recharts-label-list"},i.map(function(c,f){var d=Ze(a)?n(c,f):$n(c&&c.payload,a),p=Ze(s)?{}:{id:"".concat(s,"-").concat(f)};return q.createElement(ir,ZS({},Me(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:ir.parseViewBox(Ze(o)?c:yV(yV({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Hs.displayName="LabelList";function Iut(e,t){return e?e===!0?q.createElement(Hs,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Be(e)?q.createElement(Hs,{key:"labelList-implicit",data:t,content:e}):Ug(e)?q.createElement(Hs,ZS({data:t},e,{key:"labelList-implicit"})):null:null}function Lut(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=ro(r,Hs).map(function(o,s){return X.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=Iut(e.label,t);return[a].concat(kut(i))}Hs.renderCallByParent=Lut;function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xj.apply(this,arguments)}function xV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xV(Object(n),!0).forEach(function(r){Fut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fut(e,t,n){return t=Rut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rut(e){var t=zut(e,"string");return P1(t)=="symbol"?t:t+""}function zut(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var But=function(t,n){var r=vi(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},T_=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/KS,d=u?a:a+o*f,p=$t(n,r,c,d),m=$t(n,r,i,d),g=u?a-o*f:a,x=$t(n,r,c*Math.cos(f*KS),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},Lfe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=But(o,s),u=o+l,c=$t(n,r,a,o),f=$t(n,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=$t(n,r,i,o),m=$t(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Uut=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=vi(c-u),d=T_({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,x=T_({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=x.circleTangency,b=x.lineTangency,_=x.theta,k=l?Math.abs(u-c):Math.abs(u-c)-g-_;if(k<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Lfe({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var A=T_({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=A.circleTangency,P=A.lineTangency,T=A.theta,D=T_({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=D.circleTangency,I=D.lineTangency,W=D.theta,R=l?Math.abs(u-c):Math.abs(u-c)-T-W;if(R<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Wut={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ffe=function(t){var n=bV(bV({},Wut),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(o<a||c===f)return null;var p=Ke("recharts-sector",d),m=o-a,g=xi(s,m,0,!0),x;return g>0&&Math.abs(c-f)<360?x=Uut({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=Lfe({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),q.createElement("path",xj({},Me(n,!0),{className:p,d:x,role:"img"}))};function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bj.apply(this,arguments)}function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_V(Object(n),!0).forEach(function(r){Hut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hut(e,t,n){return t=qut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qut(e){var t=Gut(e,"string");return $1(t)=="symbol"?t:t+""}function Gut(e,t){if($1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SV={curveBasisClosed:Aee,curveBasisOpen:Cee,curveBasis:See,curveBumpX:OSe,curveBumpY:PSe,curveLinearClosed:Mee,curveLinear:ax,curveMonotoneX:Iee,curveMonotoneY:Lee,curveNatural:Ree,curveStep:zee,curveStepAfter:Uee,curveStepBefore:Bee},N_=function(t){return t.x===+t.x&&t.y===+t.y},Jy=function(t){return t.x},e0=function(t){return t.y},Vut=function(t,n){if(Be(t))return t;var r="curve".concat(EC(t));return(r==="curveMonotone"||r==="curveBump")&&n?SV["".concat(r).concat(n==="vertical"?"Y":"X")]:SV[r]||ax},Xut=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=Vut(r,s),f=u?a.filter(function(g){return N_(g)}):a,d;if(Array.isArray(o)){var p=u?o.filter(function(g){return N_(g)}):o,m=f.map(function(g,x){return wV(wV({},g),{},{base:p[x]})});return s==="vertical"?d=yp().y(e0).x1(Jy).x0(function(g){return g.base.x}):d=yp().x(Jy).y1(e0).y0(function(g){return g.base.y}),d.defined(N_).curve(c),d(m)}return s==="vertical"&&he(o)?d=yp().y(e0).x1(Jy).x0(o):he(o)?d=yp().x(Jy).y1(e0).y0(o):d=DL().x(Jy).y(e0),d.defined(N_).curve(c),d(f)},Yp=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Xut(t):i;return X.createElement("path",bj({},Me(t,!1),LS(t),{className:Ke("recharts-curve",n),d:o,ref:a}))},Rfe={exports:{}},Yut="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kut=Yut,Zut=Kut;function zfe(){}function Bfe(){}Bfe.resetWarningCache=zfe;var Qut=function(){function e(r,i,a,o,s,l){if(l!==Zut){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Bfe,resetWarningCache:zfe};return n.PropTypes=n,n};Rfe.exports=Qut();var Jut=Rfe.exports;const Mt=kt(Jut),{getOwnPropertyNames:ect,getOwnPropertySymbols:tct}=Object,{hasOwnProperty:nct}=Object.prototype;function sT(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function M_(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=e(n,r,i);return a.delete(n),a.delete(r),l}}function rct(e){return e!=null?e[Symbol.toStringTag]:void 0}function EV(e){return ect(e).concat(tct(e))}const ict=Object.hasOwn||((e,t)=>nct.call(e,t));function Eh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const act="__v",oct="__o",sct="_owner",{getOwnPropertyDescriptor:AV,keys:kV}=Object;function lct(e,t){return e.byteLength===t.byteLength&&QS(new Uint8Array(e),new Uint8Array(t))}function uct(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function cct(e,t){return e.byteLength===t.byteLength&&QS(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function fct(e,t){return Eh(e.getTime(),t.getTime())}function dct(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function hct(e,t){return e===t}function CV(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const u=t.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=o.value,p=s.value;if(n.equals(d[0],p[0],l,f,e,t,n)&&n.equals(d[1],p[1],d[0],p[0],e,t,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const pct=Eh;function mct(e,t,n){const r=kV(e);let i=r.length;if(kV(t).length!==i)return!1;for(;i-- >0;)if(!Ufe(e,t,n,r[i]))return!1;return!0}function t0(e,t,n){const r=EV(e);let i=r.length;if(EV(t).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!Ufe(e,t,n,a)||(o=AV(e,a),s=AV(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function gct(e,t){return Eh(e.valueOf(),t.valueOf())}function yct(e,t){return e.source===t.source&&e.flags===t.flags}function OV(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.values();let o,s;for(;(o=a.next())&&!o.done;){const l=t.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function QS(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function vct(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ufe(e,t,n,r){return(r===sct||r===oct||r===act)&&(e.$$typeof||t.$$typeof)?!0:ict(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const xct="[object ArrayBuffer]",bct="[object Arguments]",_ct="[object Boolean]",wct="[object DataView]",Sct="[object Date]",Ect="[object Error]",Act="[object Map]",kct="[object Number]",Cct="[object Object]",Oct="[object RegExp]",Pct="[object Set]",$ct="[object String]",Tct={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Nct="[object URL]",Mct=Object.prototype.toString;function Dct({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:m}){return function(x,v,b){if(x===v)return!0;if(x==null||v==null)return!1;const _=typeof x;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?s(x,v,b):_==="function"?a(x,v,b):!1;const k=x.constructor;if(k!==v.constructor)return!1;if(k===Object)return l(x,v,b);if(Array.isArray(x))return t(x,v,b);if(k===Date)return r(x,v,b);if(k===RegExp)return c(x,v,b);if(k===Map)return o(x,v,b);if(k===Set)return f(x,v,b);const E=Mct.call(x);if(E===Sct)return r(x,v,b);if(E===Oct)return c(x,v,b);if(E===Act)return o(x,v,b);if(E===Pct)return f(x,v,b);if(E===Cct)return typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,b);if(E===Nct)return p(x,v,b);if(E===Ect)return i(x,v,b);if(E===bct)return l(x,v,b);if(Tct[E])return d(x,v,b);if(E===xct)return e(x,v,b);if(E===wct)return n(x,v,b);if(E===_ct||E===kct||E===$ct)return u(x,v,b);if(m){let A=m[E];if(!A){const C=rct(x);C&&(A=m[C])}if(A)return A(x,v,b)}return!1}}function jct({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:lct,areArraysEqual:n?t0:uct,areDataViewsEqual:cct,areDatesEqual:fct,areErrorsEqual:dct,areFunctionsEqual:hct,areMapsEqual:n?sT(CV,t0):CV,areNumbersEqual:pct,areObjectsEqual:n?t0:mct,arePrimitiveWrappersEqual:gct,areRegExpsEqual:yct,areSetsEqual:n?sT(OV,t0):OV,areTypedArraysEqual:n?sT(QS,t0):QS,areUrlsEqual:vct,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=M_(r.areArraysEqual),a=M_(r.areMapsEqual),o=M_(r.areObjectsEqual),s=M_(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function Ict(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function Lct({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:c}=n();return t(s,l,{cache:u,equals:r,meta:c,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return t(s,l,a)}}const Fct=yf();yf({strict:!0});yf({circular:!0});yf({circular:!0,strict:!0});yf({createInternalComparator:()=>Eh});yf({strict:!0,createInternalComparator:()=>Eh});yf({circular:!0,createInternalComparator:()=>Eh});yf({circular:!0,createInternalComparator:()=>Eh,strict:!0});function yf(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,a=jct(e),o=Dct(a),s=n?n(o):Ict(o);return Lct({circular:t,comparator:o,createState:r,equals:s,strict:i})}function Rct(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function PV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):Rct(i)};requestAnimationFrame(r)}function _j(e){"@babel/helpers - typeof";return _j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_j(e)}function zct(e){return Hct(e)||Wct(e)||Uct(e)||Bct()}function Bct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uct(e,t){if(e){if(typeof e=="string")return $V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $V(e,t)}}function $V(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hct(e){if(Array.isArray(e))return e}function qct(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=zct(o),l=s[0],u=s.slice(1);if(typeof l=="number"){PV(i.bind(null,u),l);return}i(l),PV(i.bind(null,u));return}_j(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function TV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TV(Object(n),!0).forEach(function(r){Wfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wfe(e,t,n){return t=Gct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gct(e){var t=Vct(e,"string");return T1(t)==="symbol"?t:String(t)}function Vct(e,t){if(T1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(T1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xct=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Yct=function(t){return t},Kct=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uv=function(t,n){return Object.keys(n).reduce(function(r,i){return NV(NV({},r),{},Wfe({},i,t(i,n[i])))},{})},MV=function(t,n,r){return t.map(function(i){return"".concat(Kct(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Zct(e,t){return eft(e)||Jct(e,t)||Hfe(e,t)||Qct()}function Qct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jct(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eft(e){if(Array.isArray(e))return e}function tft(e){return ift(e)||rft(e)||Hfe(e)||nft()}function nft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hfe(e,t){if(e){if(typeof e=="string")return wj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wj(e,t)}}function rft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ift(e){if(Array.isArray(e))return wj(e)}function wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JS=1e-4,qfe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Gfe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},DV=function(t,n){return function(r){var i=qfe(t,n);return Gfe(i,r)}},aft=function(t,n){return function(r){var i=qfe(t,n),a=[].concat(tft(i.map(function(o,s){return o*s}).slice(1)),[0]);return Gfe(a,r)}},jV=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=Zct(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=DV(i,o),d=DV(a,s),p=aft(i,o),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,_=b,k=0;k<8;++k){var E=f(_)-b,A=p(_);if(Math.abs(E-b)<JS||A<JS)return d(_);_=m(_-E/A)}return d(_)};return g.isStepper=!1,g},oft=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(c,f,d){var p=-(c-f)*r,m=d*a,g=d+(p-m)*s/1e3,x=d*s/1e3+c;return Math.abs(x-f)<JS&&Math.abs(g)<JS?[f,0]:[x,g]};return l.isStepper=!0,l.dt=s,l},sft=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jV(i);case"spring":return oft();default:if(i.split("(")[0]==="cubic-bezier")return jV(i)}return typeof i=="function"?i:null};function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function IV(e){return cft(e)||uft(e)||Vfe(e)||lft()}function lft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cft(e){if(Array.isArray(e))return Ej(e)}function LV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LV(Object(n),!0).forEach(function(r){Sj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sj(e,t,n){return t=fft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fft(e){var t=dft(e,"string");return N1(t)==="symbol"?t:String(t)}function dft(e,t){if(N1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(N1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hft(e,t){return gft(e)||mft(e,t)||Vfe(e,t)||pft()}function pft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(e,t){if(e){if(typeof e=="string")return Ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ej(e,t)}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gft(e){if(Array.isArray(e))return e}var eE=function(t,n,r){return t+(n-t)*r},Aj=function(t){var n=t.from,r=t.to;return n!==r},yft=function e(t,n,r){var i=uv(function(a,o){if(Aj(o)){var s=t(o.from,o.to,o.velocity),l=hft(s,2),u=l[0],c=l[1];return vr(vr({},o),{},{from:u,velocity:c})}return o},n);return r<1?uv(function(a,o){return Aj(o)?vr(vr({},o),{},{velocity:eE(o.velocity,i[a].velocity,r),from:eE(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const vft=function(e,t,n,r,i){var a=Xct(e,t),o=a.reduce(function(x,v){return vr(vr({},x),{},Sj({},v,[e[v],t[v]]))},{}),s=a.reduce(function(x,v){return vr(vr({},x),{},Sj({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return uv(function(v,b){return b.from},s)},p=function(){return!Object.values(s).filter(Aj).length},m=function(v){u||(u=v);var b=v-u,_=b/n.dt;s=yft(n,s,_),i(vr(vr(vr({},e),t),d())),u=v,p()||(l=requestAnimationFrame(f))},g=function(v){c||(c=v);var b=(v-c)/r,_=uv(function(E,A){return eE.apply(void 0,IV(A).concat([n(b)]))},o);if(i(vr(vr(vr({},e),t),_)),b<1)l=requestAnimationFrame(f);else{var k=uv(function(E,A){return eE.apply(void 0,IV(A).concat([n(1)]))},o);i(vr(vr(vr({},e),t),k))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var xft=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function bft(e,t){if(e==null)return{};var n=_ft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _ft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lT(e){return Aft(e)||Eft(e)||Sft(e)||wft()}function wft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sft(e,t){if(e){if(typeof e=="string")return kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(e,t)}}function Eft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aft(e){if(Array.isArray(e))return kj(e)}function kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){N0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N0(e,t,n){return t=Xfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xfe(r.key),r)}}function Oft(e,t,n){return t&&Cft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xfe(e){var t=Pft(e,"string");return Gm(t)==="symbol"?t:String(t)}function Pft(e,t){if(Gm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cj(e,t)}function Cj(e,t){return Cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cj(e,t)}function Tft(e){var t=Nft();return function(){var r=tE(e),i;if(t){var a=tE(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Oj(this,i)}}function Oj(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pj(e)}function Pj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tE(e){return tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tE(e)}var ns=function(e){$ft(n,e);var t=Tft(n);function n(r,i){var a;kft(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Pj(a)),a.changeStyle=a.changeStyle.bind(Pj(a)),!s||p<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),Oj(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof d=="function")return a.state={style:u},Oj(a);a.state={style:l?N0({},l,u):u}}else a.state={style:{}};return a}return Oft(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,d=this.state.style;if(s){if(!o){var p={style:l?N0({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(Fct(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var x={style:l?N0({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(x)}this.runAnimation(ko(ko({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=vft(o,s,sft(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,x,v){if(v===0)return g;var b=x.duration,_=x.easing,k=_===void 0?"ease":_,E=x.style,A=x.properties,C=x.onAnimationEnd,P=v>0?o[v-1]:x,T=A||Object.keys(E);if(typeof k=="function"||k==="spring")return[].concat(lT(g),[a.runJSAnimation.bind(a,{from:P.style,to:E,duration:b,easing:k}),b]);var D=MV(T,b,k),j=ko(ko(ko({},P.style),E),{},{transition:D});return[].concat(lT(g),[j,b,C]).filter(Yct)};return this.manager.start([l].concat(lT(o.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qct());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?N0({},s,l):l,x=MV(Object.keys(g),o,u);m.start([c,a,ko(ko({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=bft(i,xft),u=X.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,x=g===void 0?{}:g,v=m.className,b=X.cloneElement(p,ko(ko({},l),{},{style:ko(ko({},x),c),className:v}));return b};return u===1?f(X.Children.only(a)):q.createElement("div",null,X.Children.map(a,function(d){return f(d)}))}}]),n}(X.PureComponent);ns.displayName="Animate";ns.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ns.propTypes={from:Mt.oneOfType([Mt.object,Mt.string]),to:Mt.oneOfType([Mt.object,Mt.string]),attributeName:Mt.string,duration:Mt.number,begin:Mt.number,easing:Mt.oneOfType([Mt.string,Mt.func]),steps:Mt.arrayOf(Mt.shape({duration:Mt.number.isRequired,style:Mt.object.isRequired,easing:Mt.oneOfType([Mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Mt.func]),properties:Mt.arrayOf("string"),onAnimationEnd:Mt.func})),children:Mt.oneOfType([Mt.node,Mt.func]),isActive:Mt.bool,canBegin:Mt.bool,onAnimationEnd:Mt.func,shouldReAnimate:Mt.bool,onAnimationStart:Mt.func,onAnimationReStart:Mt.func};function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(this,arguments)}function Mft(e,t){return Lft(e)||Ift(e,t)||jft(e,t)||Dft()}function Dft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jft(e,t){if(e){if(typeof e=="string")return RV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RV(e,t)}}function RV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ift(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lft(e){if(Array.isArray(e))return e}function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(n),!0).forEach(function(r){Fft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fft(e,t,n){return t=Rft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rft(e){var t=zft(e,"string");return M1(t)=="symbol"?t:t+""}function zft(e,t){if(M1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(M1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UV=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=a[d]>o?o:a[d];c="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),c+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*f[1])),c+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),c+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);c="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(n,`
            L `).concat(t+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-l*m,",").concat(n+i,`
            L `).concat(t+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*m," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Bft=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},Uft={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Az=function(t){var n=BV(BV({},Uft),t),r=X.useRef(),i=X.useState(-1),a=Mft(i,2),o=a[0],s=a[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=Ke("recharts-rectangle",p);return b?q.createElement(ns,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(k){var E=k.width,A=k.height,C=k.x,P=k.y;return q.createElement(ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:m},q.createElement("path",nE({},Me(n,!0),{className:_,d:UV(C,P,E,A,d),ref:r})))}):q.createElement("path",nE({},Me(n,!0),{className:_,d:UV(l,u,c,f,d)}))},Wft=["points","className","baseLinePoints","connectNulls"];function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(this,arguments)}function Hft(e,t){if(e==null)return{};var n=qft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qft(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function WV(e){return Yft(e)||Xft(e)||Vft(e)||Gft()}function Gft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vft(e,t){if(e){if(typeof e=="string")return $j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $j(e,t)}}function Xft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yft(e){if(Array.isArray(e))return $j(e)}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var HV=function(t){return t&&t.x===+t.x&&t.y===+t.y},Kft=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){HV(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),HV(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},cv=function(t,n){var r=Kft(t);n&&(r=[r.reduce(function(a,o){return[].concat(WV(a),WV(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Zft=function(t,n,r){var i=cv(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cv(n.reverse(),r).slice(1))},Yfe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=Hft(t,Wft);if(!n||!n.length)return null;var s=Ke("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Zft(n,i,a);return q.createElement("g",{className:s},q.createElement("path",Ap({},Me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?q.createElement("path",Ap({},Me(o,!0),{fill:"none",d:cv(n,a)})):null,l?q.createElement("path",Ap({},Me(o,!0),{fill:"none",d:cv(i,a)})):null)}var c=cv(n,a);return q.createElement("path",Ap({},Me(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tj.apply(this,arguments)}var Jx=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?X.createElement("circle",Tj({},Me(t,!1),LS(t),{className:o,cx:n,cy:r,r:i})):null};function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}var Qft=["x","y","top","left","width","height","className"];function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nj.apply(this,arguments)}function qV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qV(Object(n),!0).forEach(function(r){edt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function edt(e,t,n){return t=tdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tdt(e){var t=ndt(e,"string");return D1(t)=="symbol"?t:t+""}function ndt(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(D1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rdt(e,t){if(e==null)return{};var n=idt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function idt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var adt=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},odt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,d=t.height,p=d===void 0?0:d,m=t.className,g=rdt(t,Qft),x=Jft({x:r,y:a,top:s,left:u,width:f,height:p},g);return!he(r)||!he(a)||!he(f)||!he(p)||!he(s)||!he(u)?null:q.createElement("path",Nj({},Me(x,!0),{className:Ke("recharts-cross",m),d:adt(r,a,f,p,s,u)}))},sdt=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function ldt(e,t){if(e==null)return{};var n=udt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function udt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(this,arguments)}function GV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GV(Object(n),!0).forEach(function(r){cdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cdt(e,t,n){return t=fdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fdt(e){var t=ddt(e,"string");return j1(t)=="symbol"?t:t+""}function ddt(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hdt=function(t,n,r,i){var a="";return i.forEach(function(o,s){var l=$t(n,r,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},pdt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=I1({stroke:"#ccc"},Me(t,!1));return q.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var c=$t(n,r,i,u),f=$t(n,r,a,u);return q.createElement("line",bu({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},mdt=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.index,o=I1(I1({stroke:"#ccc"},Me(t,!1)),{},{fill:"none"});return q.createElement("circle",bu({},o,{className:Ke("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:n,cy:r,r:i}))},gdt=function(t){var n=t.radius,r=t.index,i=I1(I1({stroke:"#ccc"},Me(t,!1)),{},{fill:"none"});return q.createElement("path",bu({},i,{className:Ke("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(r),d:hdt(n,t.cx,t.cy,t.polarAngles)}))},ydt=function(t){var n=t.polarRadius,r=t.gridType;return!n||!n.length?null:q.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,a){var o=a;return r==="circle"?q.createElement(mdt,bu({key:o},t,{radius:i,index:a})):q.createElement(gdt,bu({key:o},t,{radius:i,index:a}))}))},Kfe=function(t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,u=l===void 0?0:l,c=t.gridType,f=c===void 0?"polygon":c,d=t.radialLines,p=d===void 0?!0:d,m=ldt(t,sdt);return u<=0?null:q.createElement("g",{className:"recharts-polar-grid"},q.createElement(pdt,bu({cx:r,cy:a,innerRadius:s,outerRadius:u,gridType:f,radialLines:p},m)),q.createElement(ydt,bu({cx:r,cy:a,innerRadius:s,outerRadius:u,gridType:f,radialLines:p},m)))};Kfe.displayName="PolarGrid";var vdt=OC,xdt=ife,bdt=xl;function _dt(e,t){return e&&e.length?vdt(e,bdt(t),xdt):void 0}var wdt=_dt;const Sdt=kt(wdt);var Edt=OC,Adt=xl,kdt=afe;function Cdt(e,t){return e&&e.length?Edt(e,Adt(t),kdt):void 0}var Odt=Cdt;const Pdt=kt(Odt);var $dt=["cx","cy","angle","ticks","axisLine"],Tdt=["ticks","tick","angle","tickFormatter","stroke"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VV(Object(n),!0).forEach(function(r){MC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XV(e,t){if(e==null)return{};var n=Ndt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ndt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qfe(r.key),r)}}function Ddt(e,t,n){return t&&YV(e.prototype,t),n&&YV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jdt(e,t,n){return t=rE(t),Idt(e,Zfe()?Reflect.construct(t,n||[],rE(e).constructor):t.apply(e,n))}function Idt(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ldt(e)}function Ldt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zfe=function(){return!!e})()}function rE(e){return rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rE(e)}function Fdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mj(e,t)}function MC(e,t,n){return t=Qfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qfe(e){var t=Rdt(e,"string");return Vm(t)=="symbol"?t:t+""}function Rdt(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jg=function(e){function t(){return Mdt(this,t),jdt(this,t,arguments)}return Fdt(t,e),Ddt(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return $t(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Sdt(s,function(c){return c.coordinate||0}),u=Pdt(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=XV(r,$dt),c=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=$t(i,a,c[0],o),d=$t(i,a,c[1],o),p=Df(Df(Df({},Me(u,!1)),{},{fill:"none"},Me(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return q.createElement("line",fv({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=XV(i,Tdt),f=this.getTickTextAnchor(),d=Me(c,!1),p=Me(o,!1),m=a.map(function(g,x){var v=r.getTickValueCoord(g),b=Df(Df(Df(Df({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:x},v),{},{payload:g});return q.createElement(ct,fv({className:Ke("recharts-polar-radius-axis-tick",Dfe(o)),key:"tick-".concat(g.coordinate)},Kd(r.props,g,x)),t.renderTickItem(o,b,l?l(g.value,x):g.value))});return q.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:q.createElement(ct,{className:Ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):Be(r)?o=r(i):o=q.createElement(Zd,fv({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(X.PureComponent);MC(Jg,"displayName","PolarRadiusAxis");MC(Jg,"axisType","radiusAxis");MC(Jg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(n),!0).forEach(function(r){DC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ede(r.key),r)}}function Bdt(e,t,n){return t&&ZV(e.prototype,t),n&&ZV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Udt(e,t,n){return t=iE(t),Wdt(e,Jfe()?Reflect.construct(t,n||[],iE(e).constructor):t.apply(e,n))}function Wdt(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hdt(e)}function Hdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jfe=function(){return!!e})()}function iE(e){return iE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iE(e)}function qdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dj(e,t)}function DC(e,t,n){return t=ede(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ede(e){var t=Gdt(e,"string");return Xm(t)=="symbol"?t:t+""}function Gdt(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vdt=Math.PI/180,QV=1e-5,ey=function(e){function t(){return zdt(this,t),Udt(this,t,arguments)}return qdt(t,e),Bdt(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=$t(a,o,s,r.coordinate),d=$t(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Vdt),o;return a>QV?o=i==="outer"?"start":"end":a<-QV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=jf(jf({},Me(this.props,!1)),{},{fill:"none"},Me(s,!1));if(l==="circle")return q.createElement(Jx,Yf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(d){return $t(i,a,o,d.coordinate)});return q.createElement(Yfe,Yf({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=Me(this.props,!1),f=Me(o,!1),d=jf(jf({},c),{},{fill:"none"},Me(s,!1)),p=a.map(function(m,g){var x=r.getTickLineCoord(m),v=r.getTickTextAnchor(m),b=jf(jf(jf({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:x.x2,y:x.y2});return q.createElement(ct,Yf({className:Ke("recharts-polar-angle-axis-tick",Dfe(o)),key:"tick-".concat(m.coordinate)},Kd(r.props,m,g)),s&&q.createElement("line",Yf({className:"recharts-polar-angle-axis-tick-line"},d,x)),o&&t.renderTickItem(o,b,l?l(m.value,g):m.value))});return q.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:q.createElement(ct,{className:Ke("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):Be(r)?o=r(i):o=q.createElement(Zd,Yf({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(X.PureComponent);DC(ey,"displayName","PolarAngleAxis");DC(ey,"axisType","angleAxis");DC(ey,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Xdt=Mce,Ydt=Xdt(Object.getPrototypeOf,Object),Kdt=Ydt,Zdt=Nu,Qdt=Kdt,Jdt=Mu,eht="[object Object]",tht=Function.prototype,nht=Object.prototype,tde=tht.toString,rht=nht.hasOwnProperty,iht=tde.call(Object);function aht(e){if(!Jdt(e)||Zdt(e)!=eht)return!1;var t=Qdt(e);if(t===null)return!0;var n=rht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&tde.call(n)==iht}var oht=aht;const sht=kt(oht);var lht=Nu,uht=Mu,cht="[object Boolean]";function fht(e){return e===!0||e===!1||uht(e)&&lht(e)==cht}var dht=fht;const hht=kt(dht);function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aE.apply(this,arguments)}function pht(e,t){return vht(e)||yht(e,t)||ght(e,t)||mht()}function mht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ght(e,t){if(e){if(typeof e=="string")return JV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JV(e,t)}}function JV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yht(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vht(e){if(Array.isArray(e))return e}function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){xht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xht(e,t,n){return t=bht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bht(e){var t=_ht(e,"string");return L1(t)=="symbol"?t:t+""}function _ht(e,t){if(L1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nX=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},wht={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sht=function(t){var n=tX(tX({},wht),t),r=X.useRef(),i=X.useState(-1),a=pht(i,2),o=a[0],s=a[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var b=Ke("recharts-trapezoid",p);return v?q.createElement(ns,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:v},function(_){var k=_.upperWidth,E=_.lowerWidth,A=_.height,C=_.x,P=_.y;return q.createElement(ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},q.createElement("path",aE({},Me(n,!0),{className:b,d:nX(C,P,k,E,A),ref:r})))}):q.createElement("g",null,q.createElement("path",aE({},Me(n,!0),{className:b,d:nX(l,u,c,f,d)})))},Eht=["option","shapeType","propTransformer","activeClassName","isActive"];function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function Aht(e,t){if(e==null)return{};var n=kht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kht(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(r){Cht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cht(e,t,n){return t=Oht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oht(e){var t=Pht(e,"string");return F1(t)=="symbol"?t:t+""}function Pht(e,t){if(F1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(F1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ht(e,t){return oE(oE({},t),e)}function Tht(e,t){return e==="symbols"}function iX(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(Az,n);case"trapezoid":return q.createElement(Sht,n);case"sector":return q.createElement(Ffe,n);case"symbols":if(Tht(t))return q.createElement(dz,n);break;default:return null}}function Nht(e){return X.isValidElement(e)?e.props:e}function nde(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?$ht:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=Aht(e,Eht),u;if(X.isValidElement(t))u=X.cloneElement(t,oE(oE({},l),Nht(t)));else if(Be(t))u=t(l);else if(sht(t)&&!hht(t)){var c=i(t,l);u=q.createElement(iX,{shapeType:n,elementProps:c})}else{var f=l;u=q.createElement(iX,{shapeType:n,elementProps:f})}return s?q.createElement(ct,{className:o},u):u}function jC(e,t){return t!=null&&"trapezoids"in e.props}function IC(e,t){return t!=null&&"sectors"in e.props}function R1(e,t){return t!=null&&"points"in e.props}function Mht(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Dht(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function jht(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Iht(e,t){var n;return jC(e,t)?n=Mht:IC(e,t)?n=Dht:R1(e,t)&&(n=jht),n}function Lht(e,t){var n;return jC(e,t)?n="trapezoids":IC(e,t)?n="sectors":R1(e,t)&&(n="points"),n}function Fht(e,t){if(jC(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(IC(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return R1(e,t)?t.payload:{}}function Rht(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Lht(n,t),a=Fht(n,t),o=r.filter(function(l,u){var c=Qd(a,l),f=n.props[i].filter(function(m){var g=Iht(n,t);return g(m,t)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var Ew;function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}function aX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(n),!0).forEach(function(r){Xa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ide(r.key),r)}}function Bht(e,t,n){return t&&oX(e.prototype,t),n&&oX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uht(e,t,n){return t=sE(t),Wht(e,rde()?Reflect.construct(t,n||[],sE(e).constructor):t.apply(e,n))}function Wht(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hht(e)}function Hht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rde=function(){return!!e})()}function sE(e){return sE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sE(e)}function qht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jj(e,t)}function jj(e,t){return jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jj(e,t)}function Xa(e,t,n){return t=ide(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ide(e){var t=Ght(e,"string");return Ym(t)=="symbol"?t:t+""}function Ght(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Du=function(e){function t(n){var r;return zht(this,t),r=Uht(this,t,[n]),Xa(r,"pieRef",null),Xa(r,"sectorRefs",[]),Xa(r,"id",Vg("recharts-pie-")),Xa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(i)&&i()}),Xa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return qht(t,e),Bht(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=Me(this.props,!1),f=Me(o,!1),d=Me(s,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,x){var v=(g.startAngle+g.endAngle)/2,b=$t(g.cx,g.cy,g.outerRadius+p,v),_=Kt(Kt(Kt(Kt({},c),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(b.x,g.cx)},b),k=Kt(Kt(Kt(Kt({},c),g),{},{fill:"none",stroke:g.fill},d),{},{index:x,points:[$t(g.cx,g.cy,g.outerRadius,v),b]}),E=l;return Ze(l)&&Ze(u)?E="value":Ze(l)&&(E=u),q.createElement(ct,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},s&&t.renderLabelLineItem(s,k,"line"),t.renderLabelItem(o,_,$n(g,E)))});return q.createElement(ct,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=f?o:d,m=Kt(Kt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return q.createElement(ct,kp({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Kd(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),q.createElement(nde,kp({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,d=f.prevSectors,p=f.prevIsAnimationActive;return q.createElement(ns,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,x=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(_,k){var E=d&&d[k],A=k>0?Ea(_,"paddingAngle",0):0;if(E){var C=rr(E.endAngle-E.startAngle,_.endAngle-_.startAngle),P=Kt(Kt({},_),{},{startAngle:b+A,endAngle:b+C(g)+A});x.push(P),b=P.endAngle}else{var T=_.endAngle,D=_.startAngle,j=rr(0,T-D),I=j(g),W=Kt(Kt({},_),{},{startAngle:b+A,endAngle:b+I+A});x.push(W),b=W.endAngle}}),q.createElement(ct,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Qd(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!o||!o.length||!he(u)||!he(c)||!he(f)||!he(d))return null;var g=Ke("recharts-pie",s);return q.createElement(ct,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),ir.renderCallByParent(this.props,null,!1),(!p||m)&&Hs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(q.isValidElement(r))return q.cloneElement(r,i);if(Be(r))return r(i);var o=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return q.createElement(Yp,kp({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(q.isValidElement(r))return q.cloneElement(r,i);var o=a;if(Be(r)&&(o=r(i),q.isValidElement(o)))return o;var s=Ke("recharts-pie-label-text",typeof r!="boolean"&&!Be(r)?r.className:"");return q.createElement(Zd,kp({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(X.PureComponent);Ew=Du;Xa(Du,"displayName","Pie");Xa(Du,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xa(Du,"parseDeltaAngle",function(e,t){var n=vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Xa(Du,"getRealPieData",function(e){var t=e.data,n=e.children,r=Me(e,!1),i=ro(n,v1);return t&&t.length?t.map(function(a,o){return Kt(Kt(Kt({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Kt(Kt({},r),a.props)}):[]});Xa(Du,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=Nfe(i,a),s=r+xi(e.cx,i,i/2),l=n+xi(e.cy,a,a/2),u=xi(e.innerRadius,o,0),c=xi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Xa(Du,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Kt(Kt({},t.type.defaultProps),t.props):t.props,i=Ew.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),m=Ew.parseCoordinateOfPie(r,n),g=Ew.parseDeltaAngle(o,s),x=Math.abs(g),v=u;Ze(u)&&Ze(f)?(Vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Ze(u)&&(Vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=i.filter(function(P){return $n(P,v,0)!==0}).length,_=(x>=360?b:b-1)*l,k=x-b*p-_,E=i.reduce(function(P,T){var D=$n(T,v,0);return P+(he(D)?D:0)},0),A;if(E>0){var C;A=i.map(function(P,T){var D=$n(P,v,0),j=$n(P,c,T),I=(he(D)?D:0)/E,W;T?W=C.endAngle+vi(g)*l*(D!==0?1:0):W=o;var R=W+vi(g)*((D!==0?p:0)+I*k),M=(W+R)/2,z=(m.innerRadius+m.outerRadius)/2,H=[{name:j,value:D,payload:P,dataKey:v,type:d}],B=$t(m.cx,m.cy,z,M);return C=Kt(Kt(Kt({percent:I,cornerRadius:a,name:j,tooltipPayload:H,midAngle:M,middleRadius:z,tooltipPosition:B},P),m),{},{value:$n(P,v),startAngle:W,endAngle:R,payload:P,paddingAngle:vi(g)*l}),C})}return Kt(Kt({},m),{},{sectors:A,data:i})});function Vht(e){return e&&e.length?e[0]:void 0}var Xht=Vht,Yht=Xht;const Kht=kt(Yht);var Zht=["key"];function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Qht(e,t){if(e==null)return{};var n=Jht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jht(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lE.apply(this,arguments)}function sX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(n),!0).forEach(function(r){Bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ept(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ode(r.key),r)}}function tpt(e,t,n){return t&&lX(e.prototype,t),n&&lX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function npt(e,t,n){return t=uE(t),rpt(e,ade()?Reflect.construct(t,n||[],uE(e).constructor):t.apply(e,n))}function rpt(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ipt(e)}function ipt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ade(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ade=function(){return!!e})()}function uE(e){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uE(e)}function apt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ij(e,t)}function Bl(e,t,n){return t=ode(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ode(e){var t=opt(e,"string");return Km(t)=="symbol"?t:t+""}function opt(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eb=function(e){function t(){var n;ept(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=npt(this,t,[].concat(i)),Bl(n,"state",{isAnimationFinished:!1}),Bl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(o)&&o()}),Bl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(o)&&o()}),Bl(n,"handleMouseEnter",function(o){var s=n.props.onMouseEnter;s&&s(n.props,o)}),Bl(n,"handleMouseLeave",function(o){var s=n.props.onMouseLeave;s&&s(n.props,o)}),n}return apt(t,e),tpt(t,[{key:"renderDots",value:function(r){var i=this.props,a=i.dot,o=i.dataKey,s=Me(this.props,!1),l=Me(a,!0),u=r.map(function(c,f){var d=si(si(si({key:"dot-".concat(f),r:3},s),l),{},{dataKey:o,cx:c.x,cy:c.y,index:f,payload:c});return t.renderDotItem(a,d)});return q.createElement(ct,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return q.isValidElement(a)?c=q.cloneElement(a,si(si({},this.props),{},{points:r})):Be(a)?c=a(si(si({},this.props),{},{points:r})):c=q.createElement(Yfe,lE({},Me(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:s?l:null,connectNulls:u})),q.createElement(ct,{className:"recharts-radar-polygon"},c,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return q.createElement(ns,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var p=d.t,m=f&&f.length/a.length,g=a.map(function(x,v){var b=f&&f[Math.floor(v*m)];if(b){var _=rr(b.x,x.x),k=rr(b.y,x.y);return si(si({},x),{},{x:_(p),y:k(p)})}var E=rr(x.cx,x.x),A=rr(x.cy,x.y);return si(si({},x),{},{x:E(p),y:A(p)})});return r.renderPolygonStatically(g)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=r.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!Qd(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.className,o=r.points,s=r.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,u=Ke("recharts-radar",a);return q.createElement(ct,{className:u},this.renderPolygon(),(!s||l)&&Hs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var a;if(q.isValidElement(r))a=q.cloneElement(r,i);else if(Be(r))a=r(i);else{var o=i.key,s=Qht(i,Zht);a=q.createElement(Jx,lE({},s,{key:o,className:Ke("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return a}}])}(X.PureComponent);Bl(eb,"displayName","Radar");Bl(eb,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!gf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Bl(eb,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,i=e.dataKey,a=e.bandSize,o=n.cx,s=n.cy,l=!1,u=[],c=n.type!=="number"?a??0:0;r.forEach(function(d,p){var m=$n(d,n.dataKey,p),g=$n(d,i),x=n.scale(m)+c,v=Array.isArray(g)?Ife(g):g,b=Ze(v)?void 0:t.scale(v);Array.isArray(g)&&g.length>=2&&(l=!0),u.push(si(si({},$t(o,s,b,x)),{},{name:m,value:g,cx:o,cy:s,radius:b,angle:x,payload:d}))});var f=[];return l&&u.forEach(function(d){if(Array.isArray(d.value)){var p=Kht(d.value),m=Ze(p)?void 0:t.scale(p);f.push(si(si({},d),{},{radius:m},$t(o,s,m,d.angle)))}else f.push(d)}),{points:u,isRange:l,baseLinePoints:f}});var spt=Math.ceil,lpt=Math.max;function upt(e,t,n,r){for(var i=-1,a=lpt(spt((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var cpt=upt,fpt=Qce,uX=1/0,dpt=17976931348623157e292;function hpt(e){if(!e)return e===0?e:0;if(e=fpt(e),e===uX||e===-uX){var t=e<0?-1:1;return t*dpt}return e===e?e:0}var sde=hpt,ppt=cpt,mpt=CC,uT=sde;function gpt(e){return function(t,n,r){return r&&typeof r!="number"&&mpt(t,n,r)&&(n=r=void 0),t=uT(t),n===void 0?(n=t,t=0):n=uT(n),r=r===void 0?t<n?1:-1:uT(r),ppt(t,n,r,e)}}var ypt=gpt,vpt=ypt,xpt=vpt(),bpt=xpt;const cE=kt(bpt);function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function cX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(n),!0).forEach(function(r){lde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lde(e,t,n){return t=_pt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _pt(e){var t=wpt(e,"string");return z1(t)=="symbol"?t:t+""}function wpt(e,t){if(z1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(z1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Spt=["Webkit","Moz","O","ms"],Ept=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Spt.reduce(function(a,o){return fX(fX({},a),{},lde({},o+r,n))},{});return i[t]=n,i};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fE.apply(this,arguments)}function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){la(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Apt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cde(r.key),r)}}function kpt(e,t,n){return t&&hX(e.prototype,t),n&&hX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cpt(e,t,n){return t=dE(t),Opt(e,ude()?Reflect.construct(t,n||[],dE(e).constructor):t.apply(e,n))}function Opt(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ppt(e)}function Ppt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ude(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ude=function(){return!!e})()}function dE(e){return dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dE(e)}function $pt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lj(e,t)}function Lj(e,t){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lj(e,t)}function la(e,t,n){return t=cde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cde(e){var t=Tpt(e,"string");return Zm(t)=="symbol"?t:t+""}function Tpt(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Npt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=q0().domain(cE(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},pX=function(t){return t.changedTouches&&!!t.changedTouches.length},Qm=function(e){function t(n){var r;return Apt(this,t),r=Cpt(this,t,[n]),la(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),la(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),la(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),la(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),la(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),la(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),la(r,"handleSlideDragStart",function(i){var a=pX(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $pt(t,e),kpt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),d=Math.max(i,a),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=$n(a[r],s,r);return Be(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+c-f-s,u+c-f-o):g<0&&(g=Math.max(g,u-o,u-s));var x=this.getIndex({startX:o+g,endX:s+g});(x.startIndex!==d||x.endIndex!==p)&&m&&m(x),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=pX(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,x=c.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+d-p-u):b<0&&(b=Math.max(b,f-u)),v[o]=u+b;var _=this.getIndex(v),k=_.startIndex,E=_.endIndex,A=function(){var P=x.length-1;return o==="startX"&&(s>l?k%g===0:E%g===0)||s<l&&E===P||o==="endX"&&(s>l?E%g===0:k%g===0)||s>l&&E===P};this.setState(la(la({},o,u+b),"brushMoveStartX",r.pageX),function(){m&&A()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(la({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=X.Children.only(u);return f?q.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),b=cT(cT({},Me(this.props,!1)),{},{x:v,y:u,width:c,height:f}),_=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[x])===null||o===void 0?void 0:o.name);return q.createElement(ct,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return q.createElement(ct,{className:"recharts-brush-texts"},q.createElement(Zd,fE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:o+s/2},m),this.getTextOfTick(i)),q.createElement(Zd,fE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,x=d.isSlideMoving,v=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!he(s)||!he(l)||!he(u)||!he(c)||u<=0||c<=0)return null;var _=Ke("recharts-brush",a),k=q.Children.count(o)===1,E=Ept("userSelect","none");return q.createElement(ct,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return q.isValidElement(r)?a=q.cloneElement(r,i):Be(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return cT({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Npt({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(X.PureComponent);la(Qm,"displayName","Brush");la(Qm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mpt=xz;function Dpt(e,t){var n;return Mpt(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var jpt=Dpt,Ipt=Ace,Lpt=xl,Fpt=jpt,Rpt=ia,zpt=CC;function Bpt(e,t,n){var r=Rpt(e)?Ipt:Fpt;return n&&zpt(e,t,n)&&(t=void 0),r(e,Lpt(t))}var Upt=Bpt;const Wpt=kt(Upt);var qs=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},mX=Vce;function Hpt(e,t,n){t=="__proto__"&&mX?mX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var qpt=Hpt,Gpt=qpt,Vpt=qce,Xpt=xl;function Ypt(e,t){var n={};return t=Xpt(t),Vpt(e,function(r,i,a){Gpt(n,i,t(r,i,a))}),n}var Kpt=Ypt;const Zpt=kt(Kpt);function Qpt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Jpt=Qpt,emt=xz;function tmt(e,t){var n=!0;return emt(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var nmt=tmt,rmt=Jpt,imt=nmt,amt=xl,omt=ia,smt=CC;function lmt(e,t,n){var r=omt(e)?rmt:imt;return n&&smt(e,t,n)&&(t=void 0),r(e,amt(t))}var umt=lmt;const fde=kt(umt);var cmt=["x","y"];function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fj.apply(this,arguments)}function gX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gX(Object(n),!0).forEach(function(r){fmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fmt(e,t,n){return t=dmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dmt(e){var t=hmt(e,"string");return B1(t)=="symbol"?t:t+""}function hmt(e,t){if(B1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(B1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pmt(e,t){if(e==null)return{};var n=mmt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gmt(e,t){var n=e.x,r=e.y,i=pmt(e,cmt),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),d=parseInt(f,10);return n0(n0(n0(n0(n0({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function yX(e){return q.createElement(nde,Fj({shapeType:"rectangle",propTransformer:gmt,activeClassName:"recharts-active-bar"},e))}var ymt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=he(r)||bKe(r);return a?t(r,i):(a||eh(),n)}},vmt=["value","background"],dde;function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function xmt(e,t){if(e==null)return{};var n=bmt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hE.apply(this,arguments)}function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vX(Object(n),!0).forEach(function(r){gc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pde(r.key),r)}}function wmt(e,t,n){return t&&xX(e.prototype,t),n&&xX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Smt(e,t,n){return t=pE(t),Emt(e,hde()?Reflect.construct(t,n||[],pE(e).constructor):t.apply(e,n))}function Emt(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Amt(e)}function Amt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hde=function(){return!!e})()}function pE(e){return pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pE(e)}function kmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rj(e,t)}function Rj(e,t){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rj(e,t)}function gc(e,t,n){return t=pde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pde(e){var t=Cmt(e,"string");return Jm(t)=="symbol"?t:t+""}function Cmt(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ah=function(e){function t(){var n;_mt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Smt(this,t,[].concat(i)),gc(n,"state",{isAnimationFinished:!1}),gc(n,"id",Vg("recharts-bar-")),gc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),gc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return kmt(t,e),wmt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Me(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:o,g=Ln(Ln(Ln({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(ct,hE({className:"recharts-bar-rectangle"},Kd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),q.createElement(yX,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return q.createElement(ns,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(x,v){var b=d&&d[v];if(b){var _=rr(b.x,x.x),k=rr(b.y,x.y),E=rr(b.width,x.width),A=rr(b.height,x.height);return Ln(Ln({},x),{},{x:_(m),y:k(m),width:E(m),height:A(m)})}if(o==="horizontal"){var C=rr(0,x.height),P=C(m);return Ln(Ln({},x),{},{y:x.y+x.height-P,height:P})}var T=rr(0,x.width),D=T(m);return Ln(Ln({},x),{},{width:D})});return q.createElement(ct,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Qd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Me(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,d=xmt(u,vmt);if(!f)return null;var p=Ln(Ln(Ln(Ln(Ln({},d),{},{fill:"#eee"},f),l),Kd(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return q.createElement(yX,hE({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=ro(c,NC);if(!f)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:$n(x,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(ct,m,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=Ke("recharts-bar",o),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,k=b||_,E=Ze(g)?this.id:g;return q.createElement(ct,{className:v},b||_?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:b?u:u-f/2,y:_?c:c-d/2,width:b?f:f*2,height:_?d:d*2}))):null,q.createElement(ct,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,E),(!p||x)&&Hs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(X.PureComponent);dde=Ah;gc(Ah,"displayName","Bar");gc(Ah,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gc(Ah,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=jlt(r,n);if(!p)return null;var m=t.layout,g=n.type.defaultProps,x=g!==void 0?Ln(Ln({},g),n.props):n.props,v=x.dataKey,b=x.children,_=x.minPointSize,k=m==="horizontal"?o:a,E=u?k.scale.domain():null,A=Ult({numericAxis:k}),C=ro(b,v1),P=f.map(function(T,D){var j,I,W,R,M,z;u?j=Ilt(u[c+D],E):(j=$n(T,v),Array.isArray(j)||(j=[A,j]));var H=ymt(_,dde.defaultProps.minPointSize)(j[1],D);if(m==="horizontal"){var B,G=[o.scale(j[0]),o.scale(j[1])],N=G[0],Z=G[1];I=lV({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:T,index:D}),W=(B=Z??N)!==null&&B!==void 0?B:void 0,R=p.size;var Y=N-Z;if(M=Number.isNaN(Y)?0:Y,z={x:I,y:o.y,width:R,height:o.height},Math.abs(H)>0&&Math.abs(M)<Math.abs(H)){var U=vi(M||H)*(Math.abs(H)-Math.abs(M));W-=U,M+=U}}else{var me=[a.scale(j[0]),a.scale(j[1])],le=me[0],ve=me[1];if(I=le,W=lV({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:T,index:D}),R=ve-le,M=p.size,z={x:a.x,y:W,width:a.width,height:M},Math.abs(H)>0&&Math.abs(R)<Math.abs(H)){var mt=vi(R||H)*(Math.abs(H)-Math.abs(R));R+=mt}}return Ln(Ln(Ln({},T),{},{x:I,y:W,width:R,height:M,value:u?j:j[1],payload:T,background:z},C&&C[D]&&C[D].props),{},{tooltipPayload:[$fe(n,T)],tooltipPosition:{x:I+R/2,y:W+M/2}})});return Ln({data:P,layout:m},d)});function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function Omt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mde(r.key),r)}}function Pmt(e,t,n){return t&&bX(e.prototype,t),n&&bX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_X(Object(n),!0).forEach(function(r){LC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LC(e,t,n){return t=mde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mde(e){var t=$mt(e,"string");return U1(t)=="symbol"?t:t+""}function $mt(e,t){if(U1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(U1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gde=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!fa(u,Ah);return c.reduce(function(p,m){var g=n[m],x=g.orientation,v=g.domain,b=g.padding,_=b===void 0?{}:b,k=g.mirror,E=g.reversed,A="".concat(x).concat(k?"Mirror":""),C,P,T,D,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=v[1]-v[0],W=1/0,R=g.categoricalDomain.sort(SKe);if(R.forEach(function(me,le){le>0&&(W=Math.min((me||0)-(R[le-1]||0),W))}),Number.isFinite(W)){var M=W/I,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(C=M*z/2),g.padding==="no-gap"){var H=xi(t.barCategoryGap,M*z),B=M*z/2;C=B-H-(B-H)/z*H}}}i==="xAxis"?P=[r.left+(_.left||0)+(C||0),r.left+r.width-(_.right||0)-(C||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(C||0),r.top+r.height-(_.bottom||0)-(C||0)]:P=g.range,E&&(P=[P[1],P[0]]);var G=kfe(g,a,d),N=G.scale,Z=G.realScaleType;N.domain(v).range(P),Cfe(N);var Y=Ofe(N,Mo(Mo({},g),{},{realScaleType:Z}));i==="xAxis"?(j=x==="top"&&!k||x==="bottom"&&k,T=r.left,D=f[A]-j*g.height):i==="yAxis"&&(j=x==="left"&&!k||x==="right"&&k,T=f[A]-j*g.width,D=r.top);var U=Mo(Mo(Mo({},g),Y),{},{realScaleType:Z,x:T,y:D,scale:N,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return U.bandSize=YS(U,Y),!g.hide&&i==="xAxis"?f[A]+=(j?-1:1)*U.height:g.hide||(f[A]+=(j?-1:1)*U.width),Mo(Mo({},p),{},LC({},m,U))},{})},yde=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Tmt=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return yde({x:n,y:r},{x:i,y:a})},vde=function(){function e(t){Omt(this,e),this.scale=t}return Pmt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();LC(vde,"EPS",1e-4);var kz=function(t){var n=Object.keys(t).reduce(function(r,i){return Mo(Mo({},r),{},LC({},i,vde.create(t[i])))},{});return Mo(Mo({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Zpt(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return fde(i,function(a,o){return n[o].isInRange(a)})}})};function Nmt(e){return(e%180+180)%180}var Mmt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nmt(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Dmt=xl,jmt=Qx,Imt=AC;function Lmt(e){return function(t,n,r){var i=Object(t);if(!jmt(t)){var a=Dmt(n);t=Imt(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var Fmt=Lmt,Rmt=sde;function zmt(e){var t=Rmt(e),n=t%1;return t===t?n?t-n:t:0}var Bmt=zmt,Umt=Rce,Wmt=xl,Hmt=Bmt,qmt=Math.max;function Gmt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Hmt(n);return i<0&&(i=qmt(r+i,0)),Umt(e,Wmt(t),i)}var Vmt=Gmt,Xmt=Fmt,Ymt=Vmt,Kmt=Xmt(Ymt),Zmt=Kmt;const Qmt=kt(Zmt);var Jmt=kYe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Cz=X.createContext(void 0),Oz=X.createContext(void 0),xde=X.createContext(void 0),bde=X.createContext({}),_de=X.createContext(void 0),wde=X.createContext(0),Sde=X.createContext(0),wX=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,c=Jmt(a);return q.createElement(Cz.Provider,{value:r},q.createElement(Oz.Provider,{value:i},q.createElement(bde.Provider,{value:a},q.createElement(xde.Provider,{value:c},q.createElement(_de.Provider,{value:o},q.createElement(wde.Provider,{value:u},q.createElement(Sde.Provider,{value:l},s)))))))},egt=function(){return X.useContext(_de)},Ede=function(t){var n=X.useContext(Cz);n==null&&eh();var r=n[t];return r==null&&eh(),r},tgt=function(){var t=X.useContext(Cz);return rc(t)},ngt=function(){var t=X.useContext(Oz),n=Qmt(t,function(r){return fde(r.domain,Number.isFinite)});return n||rc(t)},Ade=function(t){var n=X.useContext(Oz);n==null&&eh();var r=n[t];return r==null&&eh(),r},rgt=function(){var t=X.useContext(xde);return t},igt=function(){return X.useContext(bde)},Pz=function(){return X.useContext(Sde)},$z=function(){return X.useContext(wde)};function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function agt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ogt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cde(r.key),r)}}function sgt(e,t,n){return t&&ogt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lgt(e,t,n){return t=mE(t),ugt(e,kde()?Reflect.construct(t,n||[],mE(e).constructor):t.apply(e,n))}function ugt(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cgt(e)}function cgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kde=function(){return!!e})()}function mE(e){return mE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mE(e)}function fgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zj(e,t)}function SX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SX(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tz(e,t,n){return t=Cde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cde(e){var t=dgt(e,"string");return eg(t)=="symbol"?t:t+""}function dgt(e,t){if(eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hgt(e,t){return ygt(e)||ggt(e,t)||mgt(e,t)||pgt()}function pgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mgt(e,t){if(e){if(typeof e=="string")return AX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AX(e,t)}}function AX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ggt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ygt(e){if(Array.isArray(e))return e}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bj.apply(this,arguments)}var vgt=function(t,n){var r;return q.isValidElement(t)?r=q.cloneElement(t,n):Be(t)?r=t(n):r=q.createElement("line",Bj({},n,{className:"recharts-reference-line-line"})),r},xgt=function(t,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,d=a.width,p=a.height;if(r){var m=u.y,g=t.y.apply(m,{position:o});if(qs(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?x.reverse():x}if(n){var v=u.x,b=t.x.apply(v,{position:o});if(qs(u,"discard")&&!t.x.isInRange(b))return null;var _=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?_.reverse():_}if(i){var k=u.segment,E=k.map(function(A){return t.apply(A,{position:o})});return qs(u,"discard")&&Wpt(E,function(A){return!t.isInRange(A)})?null:E}return null};function bgt(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=egt(),c=Ede(i),f=Ade(a),d=rgt();if(!u||!d)return null;Vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=kz({x:c.scale,y:f.scale}),m=Yn(t),g=Yn(n),x=r&&r.length===2,v=xgt(p,m,g,x,d,e.position,c.orientation,f.orientation,e);if(!v)return null;var b=hgt(v,2),_=b[0],k=_.x,E=_.y,A=b[1],C=A.x,P=A.y,T=qs(e,"hidden")?"url(#".concat(u,")"):void 0,D=EX(EX({clipPath:T},Me(e,!0)),{},{x1:k,y1:E,x2:C,y2:P});return q.createElement(ct,{className:Ke("recharts-reference-line",s)},vgt(o,D),ir.renderCallByParent(e,Tmt({x1:k,y1:E,x2:C,y2:P})))}var Nz=function(e){function t(){return agt(this,t),lgt(this,t,arguments)}return fgt(t,e),sgt(t,[{key:"render",value:function(){return q.createElement(bgt,this.props)}}])}(q.Component);Tz(Nz,"displayName","ReferenceLine");Tz(Nz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uj.apply(this,arguments)}function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kX(Object(n),!0).forEach(function(r){FC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pde(r.key),r)}}function Sgt(e,t,n){return t&&wgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Egt(e,t,n){return t=gE(t),Agt(e,Ode()?Reflect.construct(t,n||[],gE(e).constructor):t.apply(e,n))}function Agt(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kgt(e)}function kgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ode(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ode=function(){return!!e})()}function gE(e){return gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gE(e)}function Cgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wj(e,t)}function FC(e,t,n){return t=Pde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pde(e){var t=Ogt(e,"string");return tg(t)=="symbol"?t:t+""}function Ogt(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pgt=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=kz({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return qs(t,"discard")&&!o.isInRange(s)?null:s},RC=function(e){function t(){return _gt(this,t),Egt(this,t,arguments)}return Cgt(t,e),Sgt(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Yn(i),c=Yn(a);if(Vo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Pgt(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,x=m.className,v=qs(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=CX(CX({clipPath:v},Me(this.props,!0)),{},{cx:d,cy:p});return q.createElement(ct,{className:Ke("recharts-reference-dot",x)},t.renderDot(g,b),ir.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(q.Component);FC(RC,"displayName","ReferenceDot");FC(RC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});FC(RC,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Be(e)?n=e(t):n=q.createElement(Jx,Uj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hj.apply(this,arguments)}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function OX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OX(Object(n),!0).forEach(function(r){zC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tde(r.key),r)}}function Ngt(e,t,n){return t&&Tgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mgt(e,t,n){return t=yE(t),Dgt(e,$de()?Reflect.construct(t,n||[],yE(e).constructor):t.apply(e,n))}function Dgt(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jgt(e)}function jgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($de=function(){return!!e})()}function yE(e){return yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yE(e)}function Igt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qj(e,t)}function zC(e,t,n){return t=Tde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tde(e){var t=Lgt(e,"string");return ng(t)=="symbol"?t:t+""}function Lgt(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fgt=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var d=kz({x:c.scale,y:f.scale}),p={x:t?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return qs(a,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:yde(p,m)},BC=function(e){function t(){return $gt(this,t),Mgt(this,t,arguments)}return Igt(t,e),Ngt(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Vo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yn(i),d=Yn(a),p=Yn(o),m=Yn(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var x=Fgt(f,d,p,m,this.props);if(!x&&!g)return null;var v=qs(this.props,"hidden")?"url(#".concat(c,")"):void 0;return q.createElement(ct,{className:Ke("recharts-reference-area",l)},t.renderRect(g,PX(PX({clipPath:v},Me(this.props,!0)),x)),ir.renderCallByParent(this.props,x))}}])}(q.Component);zC(BC,"displayName","ReferenceArea");zC(BC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zC(BC,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Be(e)?n=e(t):n=q.createElement(Az,Hj({},t,{className:"recharts-reference-area-rect"})),n});function Nde(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Rgt(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Mmt(r,n)}function zgt(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function vE(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Bgt(e,t){return Nde(e,t+1)}function Ugt(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,l=0,u=1,c=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:Nde(r,u)};var g=l,x,v=function(){return x===void 0&&(x=n(m,g)),x},b=m.coordinate,_=l===0||vE(e,b,v,c,s);_||(l=0,c=o,u+=1),_&&(c=b+e*(v()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}function $X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(n),!0).forEach(function(r){Wgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wgt(e,t,n){return t=Hgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hgt(e){var t=qgt(e,"string");return W1(t)=="symbol"?t:t+""}function qgt(e,t){if(W1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(W1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ggt(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,u=function(d){var p=a[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===o-1){var x=e*(p.coordinate+e*g()/2-l);a[d]=p=zr(zr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else a[d]=p=zr(zr({},p),{},{tickCoord:p.coordinate});var v=vE(e,p.tickCoord,g,s,l);v&&(l=p.tickCoord-e*(g()/2+i),a[d]=zr(zr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function Vgt(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,u=t.end;if(a){var c=r[s-1],f=n(c,s-1),d=e*(c.coordinate+e*f/2-u);o[s-1]=c=zr(zr({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate});var p=vE(e,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-e*(f/2+i),o[s-1]=zr(zr({},c),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var _=o[b],k,E=function(){return k===void 0&&(k=n(_,b)),k};if(b===0){var A=e*(_.coordinate-e*E()/2-l);o[b]=_=zr(zr({},_),{},{tickCoord:A<0?_.coordinate-A*e:_.coordinate})}else o[b]=_=zr(zr({},_),{},{tickCoord:_.coordinate});var C=vE(e,_.tickCoord,E,l,u);C&&(l=_.tickCoord+e*(E()/2+i),o[b]=zr(zr({},_),{},{isShow:!0}))},x=0;x<m;x++)g(x);return o}function Mz(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(he(l)||gf.isSsr)return Bgt(i,typeof l=="number"&&he(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?sv(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(_,k){var E=Be(u)?u(_.value,k):_.value;return p==="width"?Rgt(sv(E,{fontSize:t,letterSpacing:n}),m,f):sv(E,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?vi(i[1].coordinate-i[0].coordinate):1,v=zgt(a,x,p);return l==="equidistantPreserveStart"?Ugt(x,v,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=Vgt(x,v,g,i,o,l==="preserveStartEnd"):d=Ggt(x,v,g,i,o),d.filter(function(b){return b.isShow}))}var Xgt=["viewBox"],Ygt=["viewBox"],Kgt=["ticks"];function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(r){Dz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fT(e,t){if(e==null)return{};var n=Zgt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dde(r.key),r)}}function Jgt(e,t,n){return t&&NX(e.prototype,t),n&&NX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eyt(e,t,n){return t=xE(t),tyt(e,Mde()?Reflect.construct(t,n||[],xE(e).constructor):t.apply(e,n))}function tyt(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nyt(e)}function nyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mde=function(){return!!e})()}function xE(e){return xE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xE(e)}function ryt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gj(e,t)}function Gj(e,t){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gj(e,t)}function Dz(e,t,n){return t=Dde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dde(e){var t=iyt(e,"string");return rg(t)=="symbol"?t:t+""}function iyt(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ty=function(e){function t(n){var r;return Qgt(this,t),r=eyt(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return ryt(t,e),Jgt(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=fT(r,Xgt),s=this.props,l=s.viewBox,u=fT(s,Ygt);return!Vp(a,l)||!Vp(o,u)||!Vp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,x,v,b,_=f?-1:1,k=r.tickSize||c,E=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,x=o+ +!f*l,g=x-_*k,b=g-_*d,v=E;break;case"left":g=x=r.coordinate,m=a+ +!f*s,p=m-_*k,v=p-_*d,b=E;break;case"right":g=x=r.coordinate,m=a+ +f*s,p=m+_*k,v=p+_*d,b=E;break;default:p=m=r.coordinate,x=o+ +f*l,g=x+_*k,b=g+_*d,v=E;break}return{line:{x1:p,y1:g,x2:m,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Bn(Bn(Bn({},Me(this.props,!1)),Me(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Bn(Bn({},f),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Bn(Bn({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return q.createElement("line",Cp({},f,{className:Ke("recharts-cartesian-axis-line",Ea(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=Mz(Bn(Bn({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Me(this.props,!1),v=Me(c,!1),b=Bn(Bn({},x),{},{fill:"none"},Me(l,!1)),_=p.map(function(k,E){var A=o.getTickLineCoord(k),C=A.line,P=A.tick,T=Bn(Bn(Bn(Bn({textAnchor:m,verticalAnchor:g},x),{},{stroke:"none",fill:u},v),P),{},{index:E,payload:k,visibleTicksCount:p.length,tickFormatter:f});return q.createElement(ct,Cp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Kd(o.props,k,E)),l&&q.createElement("line",Cp({},b,C,{className:Ke("recharts-cartesian-axis-tick-line",Ea(l,"className"))})),c&&t.renderTickItem(c,T,"".concat(Be(f)?f(k.value,E):k.value).concat(d||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=fT(f,Kgt),m=d;return Be(l)&&(m=d&&d.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:q.createElement(ct,{className:Ke("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ke(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,Bn(Bn({},i),{},{className:s})):Be(r)?o=r(Bn(Bn({},i),{},{className:s})):o=q.createElement(Zd,Cp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(X.Component);Dz(ty,"displayName","CartesianAxis");Dz(ty,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ayt=["x1","y1","x2","y2","key"],oyt=["offset"];function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function MX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MX(Object(n),!0).forEach(function(r){syt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function syt(e,t,n){return t=lyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lyt(e){var t=uyt(e,"string");return th(t)=="symbol"?t:t+""}function uyt(e,t){if(th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}function DX(e,t){if(e==null)return{};var n=cyt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cyt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var fyt=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return q.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jde(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Be(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=DX(t,ayt),u=Me(l,!1);u.offset;var c=DX(u,oyt);n=q.createElement("line",rd({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function dyt(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Wr(Wr({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return jde(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function hyt(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Wr(Wr({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return jde(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function pyt(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+o-d:c[p+1]-d;if(g<=0)return null;var x=p%t.length;return q.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:a,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function myt(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,p){return d-p});a!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?a+s-d:c[p+1]-d;if(g<=0)return null;var x=p%r.length;return q.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var gyt=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return Afe(Mz(Wr(Wr(Wr({},ty.defaultProps),r),{},{ticks:Zl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},yyt=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return Afe(Mz(Wr(Wr(Wr({},ty.defaultProps),r),{},{ticks:Zl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Qh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jz(e){var t,n,r,i,a,o,s=Pz(),l=$z(),u=igt(),c=Wr(Wr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Qh.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Qh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Qh.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Qh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qh.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,x=c.horizontalValues,v=c.verticalValues,b=tgt(),_=ngt();if(!he(p)||p<=0||!he(m)||m<=0||!he(f)||f!==+f||!he(d)||d!==+d)return null;var k=c.verticalCoordinatesGenerator||gyt,E=c.horizontalCoordinatesGenerator||yyt,A=c.horizontalPoints,C=c.verticalPoints;if((!A||!A.length)&&Be(E)){var P=x&&x.length,T=E({yAxis:_?Wr(Wr({},_),{},{ticks:P?x:_.ticks}):void 0,width:s,height:l,offset:u},P?!0:g);Vo(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(th(T),"]")),Array.isArray(T)&&(A=T)}if((!C||!C.length)&&Be(k)){var D=v&&v.length,j=k({xAxis:b?Wr(Wr({},b),{},{ticks:D?v:b.ticks}):void 0,width:s,height:l,offset:u},D?!0:g);Vo(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(th(j),"]")),Array.isArray(j)&&(C=j)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(fyt,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),q.createElement(dyt,rd({},c,{offset:u,horizontalPoints:A,xAxis:b,yAxis:_})),q.createElement(hyt,rd({},c,{offset:u,verticalPoints:C,xAxis:b,yAxis:_})),q.createElement(pyt,rd({},c,{horizontalPoints:A})),q.createElement(myt,rd({},c,{verticalPoints:C})))}jz.displayName="CartesianGrid";var vyt=["layout","type","stroke","connectNulls","isRange","ref"],xyt=["key"],Ide;function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function Lde(e,t){if(e==null)return{};var n=byt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function byt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){Ds(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rde(r.key),r)}}function wyt(e,t,n){return t&&IX(e.prototype,t),n&&IX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Syt(e,t,n){return t=bE(t),Eyt(e,Fde()?Reflect.construct(t,n||[],bE(e).constructor):t.apply(e,n))}function Eyt(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ayt(e)}function Ayt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fde=function(){return!!e})()}function bE(e){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bE(e)}function kyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vj(e,t)}function Vj(e,t){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vj(e,t)}function Ds(e,t,n){return t=Rde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rde(e){var t=Cyt(e,"string");return ig(t)=="symbol"?t:t+""}function Cyt(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gs=function(e){function t(){var n;_yt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Syt(this,t,[].concat(i)),Ds(n,"state",{isAnimationFinished:!0}),Ds(n,"id",Vg("recharts-area-")),Ds(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(o)&&o()}),Ds(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(o)&&o()}),n}return kyt(t,e),wyt(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=Me(this.props,!1),p=Me(u,!0),m=c.map(function(x,v){var b=qu(qu(qu({key:"dot-".concat(v),r:3},d),p),{},{index:v,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return t.renderDotItem(u,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(ct,id({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,c=r*Math.abs(l-u),f=mc(o.map(function(d){return d.y||0}));return he(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(mc(a.map(function(d){return d.y||0})),f)),he(f)?q.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,c=r*Math.abs(l-u),f=mc(o.map(function(d){return d.x||0}));return he(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(mc(a.map(function(d){return d.x||0})),f)),he(f)?q.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var p=Lde(s,vyt);return q.createElement(ct,{clipPath:a?"url(#clipPath-".concat(o,")"):null},q.createElement(Yp,id({},Me(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&q.createElement(Yp,id({},Me(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&q.createElement(Yp,id({},Me(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,x=m.prevBaseLine;return q.createElement(ns,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(g){var _=g.length/s.length,k=s.map(function(P,T){var D=Math.floor(T*_);if(g[D]){var j=g[D],I=rr(j.x,P.x),W=rr(j.y,P.y);return qu(qu({},P),{},{x:I(b),y:W(b)})}return P}),E;if(he(l)&&typeof l=="number"){var A=rr(x,l);E=A(b)}else if(Ze(l)||Gg(l)){var C=rr(x,0);E=C(b)}else E=l.map(function(P,T){var D=Math.floor(T*_);if(x[D]){var j=x[D],I=rr(j.x,P.x),W=rr(j.y,P.y);return qu(qu({},P),{},{x:I(b),y:W(b)})}return P});return a.renderAreaStatically(k,E,r,i)}return q.createElement(ct,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),q.createElement(ct,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&o&&o.length&&(!c&&d>0||!Qd(c,o)||!Qd(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,d=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,_=Ke("recharts-area",l),k=f&&f.allowDataOverflow,E=d&&d.allowDataOverflow,A=k||E,C=Ze(x)?this.id:x,P=(r=Me(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=P.r,D=T===void 0?3:T,j=P.strokeWidth,I=j===void 0?2:j,W=NKe(o)?o:{},R=W.clipDot,M=R===void 0?!0:R,z=D*2+I;return q.createElement(ct,{className:_},k||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:k?c:c-p/2,y:E?u:u-m/2,width:k?p:p*2,height:E?m:m*2})),!M&&q.createElement("clipPath",{id:"clipPath-dots-".concat(C)},q.createElement("rect",{x:c-z/2,y:u-z/2,width:p+z,height:m+z}))):null,b?null:this.renderArea(A,C),(o||b)&&this.renderDots(A,M,C),(!g||v)&&Hs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(X.PureComponent);Ide=Gs;Ds(Gs,"displayName","Area");Ds(Gs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!gf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ds(Gs,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(he(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ds(Gs,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=t.layout,m=u&&u.length,g=Ide.getBaseValue(t,n,r,i),x=p==="horizontal",v=!1,b=f.map(function(k,E){var A;m?A=u[c+E]:(A=$n(k,l),Array.isArray(A)?v=!0:A=[g,A]);var C=A[1]==null||m&&$n(k,l)==null;return x?{x:sV({axis:r,ticks:a,bandSize:s,entry:k,index:E}),y:C?null:i.scale(A[1]),value:A,payload:k}:{x:C?null:r.scale(A[1]),y:sV({axis:i,ticks:o,bandSize:s,entry:k,index:E}),value:A,payload:k}}),_;return m||v?_=b.map(function(k){var E=Array.isArray(k.value)?k.value[0]:null;return x?{x:k.x,y:E!=null&&k.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:k.y}}):_=x?i.scale(g):r.scale(g),qu({points:b,baseLine:_,layout:p,isRange:v},d)});Ds(Gs,"renderDotItem",function(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Be(e))n=e(t);else{var r=Ke("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Lde(t,xyt);n=q.createElement(Jx,id({},a,{key:i,className:r}))}return n});function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function Oyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ude(r.key),r)}}function $yt(e,t,n){return t&&Pyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tyt(e,t,n){return t=_E(t),Nyt(e,zde()?Reflect.construct(t,n||[],_E(e).constructor):t.apply(e,n))}function Nyt(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Myt(e)}function Myt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zde=function(){return!!e})()}function _E(e){return _E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_E(e)}function Dyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xj(e,t)}function Xj(e,t){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xj(e,t)}function Bde(e,t,n){return t=Ude(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e){var t=jyt(e,"string");return ag(t)=="symbol"?t:t+""}function jyt(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yj.apply(this,arguments)}function Iyt(e){var t=e.xAxisId,n=Pz(),r=$z(),i=Ede(t);return i==null?null:X.createElement(ty,Yj({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Zl(o,!0)}}))}var ny=function(e){function t(){return Oyt(this,t),Tyt(this,t,arguments)}return Dyt(t,e),$yt(t,[{key:"render",value:function(){return X.createElement(Iyt,this.props)}}])}(X.Component);Bde(ny,"displayName","XAxis");Bde(ny,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function Lyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qde(r.key),r)}}function Ryt(e,t,n){return t&&Fyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zyt(e,t,n){return t=wE(t),Byt(e,Wde()?Reflect.construct(t,n||[],wE(e).constructor):t.apply(e,n))}function Byt(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uyt(e)}function Uyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wde=function(){return!!e})()}function wE(e){return wE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wE(e)}function Wyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kj(e,t)}function Kj(e,t){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kj(e,t)}function Hde(e,t,n){return t=qde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qde(e){var t=Hyt(e,"string");return og(t)=="symbol"?t:t+""}function Hyt(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zj.apply(this,arguments)}var qyt=function(t){var n=t.yAxisId,r=Pz(),i=$z(),a=Ade(n);return a==null?null:X.createElement(ty,Zj({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Zl(s,!0)}}))},ry=function(e){function t(){return Lyt(this,t),zyt(this,t,arguments)}return Wyt(t,e),Ryt(t,[{key:"render",value:function(){return X.createElement(qyt,this.props)}}])}(X.Component);Hde(ry,"displayName","YAxis");Hde(ry,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LX(e){return Yyt(e)||Xyt(e)||Vyt(e)||Gyt()}function Gyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vyt(e,t){if(e){if(typeof e=="string")return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}}function Xyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yyt(e){if(Array.isArray(e))return Qj(e)}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jj=function(t,n,r,i,a){var o=ro(t,Nz),s=ro(t,RC),l=[].concat(LX(o),LX(s)),u=ro(t,BC),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,x){if(x.props[c]===r&&qs(x.props,"extendDomain")&&he(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,x){if(x.props[c]===r&&qs(x.props,"extendDomain")&&he(x.props[p])&&he(x.props[m])){var v=x.props[p],b=x.props[m];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,x){return he(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},d)),d},Gde={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,d),!0;case 5:return x.fn.call(x.context,c,f,d,p),!0;case 6:return x.fn.call(x.context,c,f,d,p,m),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var k=x.length,E;for(_=0;_<k;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),v){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,f);break;case 4:x[_].fn.call(x[_].context,c,f,d);break;default:if(!b)for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,x=[],v=m.length;g<v;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Gde);var Kyt=Gde.exports;const Zyt=kt(Kyt);var dT=new Zyt,hT="recharts.syncMouseEvents";function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function Qyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vde(r.key),r)}}function e0t(e,t,n){return t&&Jyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pT(e,t,n){return t=Vde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vde(e){var t=t0t(e,"string");return H1(t)=="symbol"?t:t+""}function t0t(e,t){if(H1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(H1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n0t=function(){function e(){Qyt(this,e),pT(this,"activeIndex",0),pT(this,"coordinateList",[]),pT(this,"layout","horizontal")}return e0t(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function r0t(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function i0t(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Xde(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=$t(t,n,r,i),s=$t(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function a0t(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,d=$t(s,l,u,f),p=$t(s,l,c,f);r=d.x,i=d.y,a=p.x,o=p.y}else return Xde(t);return[{x:r,y:i},{x:a,y:o}]}function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}function FX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FX(Object(n),!0).forEach(function(r){o0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o0t(e,t,n){return t=s0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s0t(e){var t=l0t(e,"string");return q1(t)=="symbol"?t:t+""}function l0t(e,t){if(q1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(q1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0t(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,d=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Yp;if(d==="ScatterChart")m=o,g=odt;else if(d==="BarChart")m=i0t(f,o,l,c),g=Az;else if(f==="radial"){var x=Xde(o),v=x.cx,b=x.cy,_=x.radius,k=x.startAngle,E=x.endAngle;m={cx:v,cy:b,startAngle:k,endAngle:E,innerRadius:_,outerRadius:_},g=Ffe}else m={points:a0t(f,o,l)},g=Yp;var A=D_(D_(D_(D_({stroke:"#ccc",pointerEvents:"none"},l),m),Me(p,!1)),{},{payload:s,payloadIndex:u,className:Ke("recharts-tooltip-cursor",p.className)});return X.isValidElement(p)?X.cloneElement(p,A):X.createElement(g,A)}var c0t=["item"],f0t=["children","className","width","height","style","compact","title","desc"];function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}function RX(e,t){return p0t(e)||h0t(e,t)||Kde(e,t)||d0t()}function d0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function p0t(e){if(Array.isArray(e))return e}function zX(e,t){if(e==null)return{};var n=m0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function g0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zde(r.key),r)}}function v0t(e,t,n){return t&&y0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x0t(e,t,n){return t=SE(t),b0t(e,Yde()?Reflect.construct(t,n||[],SE(e).constructor):t.apply(e,n))}function b0t(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0t(e)}function _0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yde=function(){return!!e})()}function SE(e){return SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SE(e)}function w0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eI(e,t)}function eI(e,t){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eI(e,t)}function lg(e){return A0t(e)||E0t(e)||Kde(e)||S0t()}function S0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(e,t){if(e){if(typeof e=="string")return tI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(e,t)}}function E0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A0t(e){if(Array.isArray(e))return tI(e)}function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BX(Object(n),!0).forEach(function(r){We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function We(e,t,n){return t=Zde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zde(e){var t=k0t(e,"string");return sg(t)=="symbol"?t:t+""}function k0t(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0t={xAxis:["bottom","top"],yAxis:["left","right"]},O0t={width:"100%",height:"100%"},Qde={x:0,y:0};function j_(e){return e}var P0t=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},$0t=function(t,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return re(re(re({},i),$t(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return re(re(re({},i),$t(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Qde},UC=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(lg(s),lg(u)):s},[]);return o.length>0?o:t&&t.length&&he(i)&&he(a)?t.slice(i,a+1):[]};function Jde(e){return e==="number"?[0,"auto"]:void 0}var nI=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=UC(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;d=IS(p,o.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(lg(l),[$fe(u,d)]):l},[])},UX=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=P0t(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=Plt(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=nI(t,n,c,f),p=$0t(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},T0t=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=t.stackOffset,p=Efe(c,a);return r.reduce(function(m,g){var x,v=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,b=v.type,_=v.dataKey,k=v.allowDataOverflow,E=v.allowDuplicatedCategory,A=v.scale,C=v.ticks,P=v.includeHidden,T=v[o];if(m[T])return m;var D=UC(t.data,{graphicalItems:i.filter(function(Y){var U,me=o in Y.props?Y.props[o]:(U=Y.type.defaultProps)===null||U===void 0?void 0:U[o];return me===T}),dataStartIndex:l,dataEndIndex:u}),j=D.length,I,W,R;r0t(v.domain,k,b)&&(I=gj(v.domain,null,k),p&&(b==="number"||A!=="auto")&&(R=lv(D,_,"category")));var M=Jde(b);if(!I||I.length===0){var z,H=(z=v.domain)!==null&&z!==void 0?z:M;if(_){if(I=lv(D,_,b),b==="category"&&p){var B=wKe(I);E&&B?(W=I,I=cE(0,j)):E||(I=fV(H,I,g).reduce(function(Y,U){return Y.indexOf(U)>=0?Y:[].concat(lg(Y),[U])},[]))}else if(b==="category")E?I=I.filter(function(Y){return Y!==""&&!Ze(Y)}):I=fV(H,I,g).reduce(function(Y,U){return Y.indexOf(U)>=0||U===""||Ze(U)?Y:[].concat(lg(Y),[U])},[]);else if(b==="number"){var G=Dlt(D,i.filter(function(Y){var U,me,le=o in Y.props?Y.props[o]:(U=Y.type.defaultProps)===null||U===void 0?void 0:U[o],ve="hide"in Y.props?Y.props.hide:(me=Y.type.defaultProps)===null||me===void 0?void 0:me.hide;return le===T&&(P||!ve)}),_,a,c);G&&(I=G)}p&&(b==="number"||A!=="auto")&&(R=lv(D,_,"category"))}else p?I=cE(0,j):s&&s[T]&&s[T].hasStack&&b==="number"?I=d==="expand"?[0,1]:Pfe(s[T].stackGroups,l,u):I=Sfe(D,i.filter(function(Y){var U=o in Y.props?Y.props[o]:Y.type.defaultProps[o],me="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return U===T&&(P||!me)}),b,c,!0);if(b==="number")I=Jj(f,I,T,a,C),H&&(I=gj(H,I,k));else if(b==="category"&&H){var N=H,Z=I.every(function(Y){return N.indexOf(Y)>=0});Z&&(I=N)}}return re(re({},m),{},We({},T,re(re({},v),{},{axisType:a,domain:I,categoricalDomain:R,duplicateDomain:W,originalDomain:(x=v.domain)!==null&&x!==void 0?x:M,isCategorical:p,layout:c})))},{})},N0t=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=UC(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=Efe(c,a),g=-1;return r.reduce(function(x,v){var b=v.type.defaultProps!==void 0?re(re({},v.type.defaultProps),v.props):v.props,_=b[o],k=Jde("number");if(!x[_]){g++;var E;return m?E=cE(0,p):s&&s[_]&&s[_].hasStack?(E=Pfe(s[_].stackGroups,l,u),E=Jj(f,E,_,a)):(E=gj(k,Sfe(d,r.filter(function(A){var C,P,T=o in A.props?A.props[o]:(C=A.type.defaultProps)===null||C===void 0?void 0:C[o],D="hide"in A.props?A.props.hide:(P=A.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===_&&!D}),"number",c),i.defaultProps.allowDataOverflow),E=Jj(f,E,_,a)),re(re({},x),{},We({},_,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ea(C0t,"".concat(a,".").concat(g%2),null),domain:E,originalDomain:k,isCategorical:m,layout:c})))}return x},{})},M0t=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,f="".concat(i,"Id"),d=ro(c,a),p={};return d&&d.length?p=T0t(t,{axes:d,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=N0t(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},D0t=function(t){var n=rc(t),r=Zl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bz(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:YS(n,r)}},WX=function(t){var n=t.children,r=t.defaultShowTooltip,i=fa(n,Qm),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},j0t=function(t){return!t||!t.length?!1:t.some(function(n){var r=su(n&&n.type);return r&&r.indexOf("Bar")>=0})},HX=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I0t=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=fa(f,Qm),m=fa(f,yd),g=Object.keys(l).reduce(function(E,A){var C=l[A],P=C.orientation;return!C.mirror&&!C.hide?re(re({},E),{},We({},P,E[P]+C.width)):E},{left:d.left||0,right:d.right||0}),x=Object.keys(o).reduce(function(E,A){var C=o[A],P=C.orientation;return!C.mirror&&!C.hide?re(re({},E),{},We({},P,Ea(E,"".concat(P))+C.height)):E},{top:d.top||0,bottom:d.bottom||0}),v=re(re({},x),g),b=v.bottom;p&&(v.bottom+=p.props.height||Qm.defaultProps.height),m&&n&&(v=Nlt(v,i,r,n));var _=u-v.left-v.right,k=c-v.top-v.bottom;return re(re({brushBottom:b},v),{},{width:Math.max(_,0),height:Math.max(k,0)})},L0t=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},WC=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,d=function(v,b){var _=b.graphicalItems,k=b.stackGroups,E=b.offset,A=b.updateId,C=b.dataStartIndex,P=b.dataEndIndex,T=v.barSize,D=v.layout,j=v.barGap,I=v.barCategoryGap,W=v.maxBarSize,R=HX(D),M=R.numericAxisName,z=R.cateAxisName,H=j0t(_),B=[];return _.forEach(function(G,N){var Z=UC(v.data,{graphicalItems:[G],dataStartIndex:C,dataEndIndex:P}),Y=G.type.defaultProps!==void 0?re(re({},G.type.defaultProps),G.props):G.props,U=Y.dataKey,me=Y.maxBarSize,le=Y["".concat(M,"Id")],ve=Y["".concat(z,"Id")],mt={},it=l.reduce(function(aa,Na){var ju=b["".concat(Na.axisType,"Map")],kh=Y["".concat(Na.axisType,"Id")];ju&&ju[kh]||Na.axisType==="zAxis"||eh();var Ch=ju[kh];return re(re({},aa),{},We(We({},Na.axisType,Ch),"".concat(Na.axisType,"Ticks"),Zl(Ch)))},mt),be=it[z],De=it["".concat(z,"Ticks")],Re=k&&k[le]&&k[le].hasStack&&Wlt(G,k[le].stackGroups),oe=su(G.type).indexOf("Bar")>=0,Ct=YS(be,De),nt=[],zt=H&&$lt({barSize:T,stackGroups:k,totalSize:L0t(it,z)});if(oe){var Tt,ln,gr=Ze(me)?W:me,bo=(Tt=(ln=YS(be,De,!0))!==null&&ln!==void 0?ln:gr)!==null&&Tt!==void 0?Tt:0;nt=Tlt({barGap:j,barCategoryGap:I,bandSize:bo!==Ct?bo:Ct,sizeList:zt[ve],maxBarSize:gr}),bo!==Ct&&(nt=nt.map(function(aa){return re(re({},aa),{},{position:re(re({},aa.position),{},{offset:aa.position.offset-bo/2})})}))}var ds=G&&G.type&&G.type.getComposedData;ds&&B.push({props:re(re({},ds(re(re({},it),{},{displayedData:Z,props:v,dataKey:U,item:G,bandSize:Ct,barPosition:nt,offset:E,stackedData:Re,layout:D,dataStartIndex:C,dataEndIndex:P}))),{},We(We(We({key:G.key||"item-".concat(N)},M,it[M]),z,it[z]),"animationId",A)),childIndex:jKe(G,v.children),item:G})}),B},p=function(v,b){var _=v.props,k=v.dataStartIndex,E=v.dataEndIndex,A=v.updateId;if(!qq({props:_}))return null;var C=_.children,P=_.layout,T=_.stackOffset,D=_.data,j=_.reverseStackOrder,I=HX(P),W=I.numericAxisName,R=I.cateAxisName,M=ro(C,r),z=Blt(D,M,"".concat(W,"Id"),"".concat(R,"Id"),T,j),H=l.reduce(function(Y,U){var me="".concat(U.axisType,"Map");return re(re({},Y),{},We({},me,M0t(_,re(re({},U),{},{graphicalItems:M,stackGroups:U.axisType===W&&z,dataStartIndex:k,dataEndIndex:E}))))},{}),B=I0t(re(re({},H),{},{props:_,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(H).forEach(function(Y){H[Y]=c(_,H[Y],B,Y.replace("Map",""),n)});var G=H["".concat(R,"Map")],N=D0t(G),Z=d(_,re(re({},H),{},{dataStartIndex:k,dataEndIndex:E,updateId:A,graphicalItems:M,stackGroups:z,offset:B}));return re(re({formattedGraphicalItems:Z,graphicalItems:M,offset:B,stackGroups:z},N),H)},m=function(x){function v(b){var _,k,E;return g0t(this,v),E=x0t(this,v,[b]),We(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(E,"accessibilityManager",new n0t),We(E,"handleLegendBBoxUpdate",function(A){if(A){var C=E.state,P=C.dataStartIndex,T=C.dataEndIndex,D=C.updateId;E.setState(re({legendBBox:A},p({props:E.props,dataStartIndex:P,dataEndIndex:T,updateId:D},re(re({},E.state),{},{legendBBox:A}))))}}),We(E,"handleReceiveSyncEvent",function(A,C,P){if(E.props.syncId===A){if(P===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(C)}}),We(E,"handleBrushChange",function(A){var C=A.startIndex,P=A.endIndex;if(C!==E.state.dataStartIndex||P!==E.state.dataEndIndex){var T=E.state.updateId;E.setState(function(){return re({dataStartIndex:C,dataEndIndex:P},p({props:E.props,dataStartIndex:C,dataEndIndex:P,updateId:T},E.state))}),E.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),We(E,"handleMouseEnter",function(A){var C=E.getMouseInfo(A);if(C){var P=re(re({},C),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var T=E.props.onMouseEnter;Be(T)&&T(P,A)}}),We(E,"triggeredAfterMouseMove",function(A){var C=E.getMouseInfo(A),P=C?re(re({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var T=E.props.onMouseMove;Be(T)&&T(P,A)}),We(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),We(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),We(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),We(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var P=E.props.onMouseLeave;Be(P)&&P(C,A)}),We(E,"handleOuterEvent",function(A){var C=DKe(A),P=Ea(E.props,"".concat(C));if(C&&Be(P)){var T,D;/.*touch.*/i.test(C)?D=E.getMouseInfo(A.changedTouches[0]):D=E.getMouseInfo(A),P((T=D)!==null&&T!==void 0?T:{},A)}}),We(E,"handleClick",function(A){var C=E.getMouseInfo(A);if(C){var P=re(re({},C),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var T=E.props.onClick;Be(T)&&T(P,A)}}),We(E,"handleMouseDown",function(A){var C=E.props.onMouseDown;if(Be(C)){var P=E.getMouseInfo(A);C(P,A)}}),We(E,"handleMouseUp",function(A){var C=E.props.onMouseUp;if(Be(C)){var P=E.getMouseInfo(A);C(P,A)}}),We(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),We(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),We(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),We(E,"handleDoubleClick",function(A){var C=E.props.onDoubleClick;if(Be(C)){var P=E.getMouseInfo(A);C(P,A)}}),We(E,"handleContextMenu",function(A){var C=E.props.onContextMenu;if(Be(C)){var P=E.getMouseInfo(A);C(P,A)}}),We(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&dT.emit(hT,E.props.syncId,A,E.eventEmitterSymbol)}),We(E,"applySyncEvent",function(A){var C=E.props,P=C.layout,T=C.syncMethod,D=E.state.updateId,j=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(re({dataStartIndex:j,dataEndIndex:I},p({props:E.props,dataStartIndex:j,dataEndIndex:I,updateId:D},E.state)));else if(A.activeTooltipIndex!==void 0){var W=A.chartX,R=A.chartY,M=A.activeTooltipIndex,z=E.state,H=z.offset,B=z.tooltipTicks;if(!H)return;if(typeof T=="function")M=T(B,A);else if(T==="value"){M=-1;for(var G=0;G<B.length;G++)if(B[G].value===A.activeLabel){M=G;break}}var N=re(re({},H),{},{x:H.left,y:H.top}),Z=Math.min(W,N.x+N.width),Y=Math.min(R,N.y+N.height),U=B[M]&&B[M].value,me=nI(E.state,E.props.data,M),le=B[M]?{x:P==="horizontal"?B[M].coordinate:Z,y:P==="horizontal"?Y:B[M].coordinate}:Qde;E.setState(re(re({},A),{},{activeLabel:U,activeCoordinate:le,activePayload:me,activeTooltipIndex:M}))}else E.setState(A)}),We(E,"renderCursor",function(A){var C,P=E.state,T=P.isTooltipActive,D=P.activeCoordinate,j=P.activePayload,I=P.offset,W=P.activeTooltipIndex,R=P.tooltipAxisBandSize,M=E.getTooltipEventType(),z=(C=A.props.active)!==null&&C!==void 0?C:T,H=E.props.layout,B=A.key||"_recharts-cursor";return q.createElement(u0t,{key:B,activeCoordinate:D,activePayload:j,activeTooltipIndex:W,chartName:n,element:A,isActive:z,layout:H,offset:I,tooltipAxisBandSize:R,tooltipEventType:M})}),We(E,"renderPolarAxis",function(A,C,P){var T=Ea(A,"type.axisType"),D=Ea(E.state,"".concat(T,"Map")),j=A.type.defaultProps,I=j!==void 0?re(re({},j),A.props):A.props,W=D&&D[I["".concat(T,"Id")]];return X.cloneElement(A,re(re({},W),{},{className:Ke(T,W.className),key:A.key||"".concat(C,"-").concat(P),ticks:Zl(W,!0)}))}),We(E,"renderPolarGrid",function(A){var C=A.props,P=C.radialLines,T=C.polarAngles,D=C.polarRadius,j=E.state,I=j.radiusAxisMap,W=j.angleAxisMap,R=rc(I),M=rc(W),z=M.cx,H=M.cy,B=M.innerRadius,G=M.outerRadius;return X.cloneElement(A,{polarAngles:Array.isArray(T)?T:Zl(M,!0).map(function(N){return N.coordinate}),polarRadius:Array.isArray(D)?D:Zl(R,!0).map(function(N){return N.coordinate}),cx:z,cy:H,innerRadius:B,outerRadius:G,key:A.key||"polar-grid",radialLines:P})}),We(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,C=E.props,P=C.children,T=C.width,D=C.height,j=E.props.margin||{},I=T-(j.left||0)-(j.right||0),W=_fe({children:P,formattedGraphicalItems:A,legendWidth:I,legendContent:u});if(!W)return null;var R=W.item,M=zX(W,c0t);return X.cloneElement(R,re(re({},M),{},{chartWidth:T,chartHeight:D,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),We(E,"renderTooltip",function(){var A,C=E.props,P=C.children,T=C.accessibilityLayer,D=fa(P,da);if(!D)return null;var j=E.state,I=j.isTooltipActive,W=j.activeCoordinate,R=j.activePayload,M=j.activeLabel,z=j.offset,H=(A=D.props.active)!==null&&A!==void 0?A:I;return X.cloneElement(D,{viewBox:re(re({},z),{},{x:z.left,y:z.top}),active:H,label:M,payload:H?R:[],coordinate:W,accessibilityLayer:T})}),We(E,"renderBrush",function(A){var C=E.props,P=C.margin,T=C.data,D=E.state,j=D.offset,I=D.dataStartIndex,W=D.dataEndIndex,R=D.updateId;return X.cloneElement(A,{key:A.key||"_recharts-brush",onChange:$_(E.handleBrushChange,A.props.onChange),data:T,x:he(A.props.x)?A.props.x:j.left,y:he(A.props.y)?A.props.y:j.top+j.height+j.brushBottom-(P.bottom||0),width:he(A.props.width)?A.props.width:j.width,startIndex:I,endIndex:W,updateId:"brush-".concat(R)})}),We(E,"renderReferenceElement",function(A,C,P){if(!A)return null;var T=E,D=T.clipPathId,j=E.state,I=j.xAxisMap,W=j.yAxisMap,R=j.offset,M=A.type.defaultProps||{},z=A.props,H=z.xAxisId,B=H===void 0?M.xAxisId:H,G=z.yAxisId,N=G===void 0?M.yAxisId:G;return X.cloneElement(A,{key:A.key||"".concat(C,"-").concat(P),xAxis:I[B],yAxis:W[N],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:D})}),We(E,"renderActivePoints",function(A){var C=A.item,P=A.activePoint,T=A.basePoint,D=A.childIndex,j=A.isRange,I=[],W=C.props.key,R=C.item.type.defaultProps!==void 0?re(re({},C.item.type.defaultProps),C.item.props):C.item.props,M=R.activeDot,z=R.dataKey,H=re(re({index:D,dataKey:z,cx:P.x,cy:P.y,r:4,fill:Ez(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Me(M,!1)),LS(M));return I.push(v.renderActiveDot(M,H,"".concat(W,"-activePoint-").concat(D))),T?I.push(v.renderActiveDot(M,re(re({},H),{},{cx:T.x,cy:T.y}),"".concat(W,"-basePoint-").concat(D))):j&&I.push(null),I}),We(E,"renderGraphicChild",function(A,C,P){var T=E.filterFormatItem(A,C,P);if(!T)return null;var D=E.getTooltipEventType(),j=E.state,I=j.isTooltipActive,W=j.tooltipAxis,R=j.activeTooltipIndex,M=j.activeLabel,z=E.props.children,H=fa(z,da),B=T.props,G=B.points,N=B.isRange,Z=B.baseLine,Y=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,U=Y.activeDot,me=Y.hide,le=Y.activeBar,ve=Y.activeShape,mt=!!(!me&&I&&H&&(U||le||ve)),it={};D!=="axis"&&H&&H.props.trigger==="click"?it={onClick:$_(E.handleItemMouseEnter,A.props.onClick)}:D!=="axis"&&(it={onMouseLeave:$_(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:$_(E.handleItemMouseEnter,A.props.onMouseEnter)});var be=X.cloneElement(A,re(re({},T.props),it));function De(Na){return typeof W.dataKey=="function"?W.dataKey(Na.payload):null}if(mt)if(R>=0){var Re,oe;if(W.dataKey&&!W.allowDuplicatedCategory){var Ct=typeof W.dataKey=="function"?De:"payload.".concat(W.dataKey.toString());Re=IS(G,Ct,M),oe=N&&Z&&IS(Z,Ct,M)}else Re=G==null?void 0:G[R],oe=N&&Z&&Z[R];if(ve||le){var nt=A.props.activeIndex!==void 0?A.props.activeIndex:R;return[X.cloneElement(A,re(re(re({},T.props),it),{},{activeIndex:nt})),null,null]}if(!Ze(Re))return[be].concat(lg(E.renderActivePoints({item:T,activePoint:Re,basePoint:oe,childIndex:R,isRange:N})))}else{var zt,Tt=(zt=E.getItemByXY(E.state.activeCoordinate))!==null&&zt!==void 0?zt:{graphicalItem:be},ln=Tt.graphicalItem,gr=ln.item,bo=gr===void 0?A:gr,ds=ln.childIndex,aa=re(re(re({},T.props),it),{},{activeIndex:ds});return[X.cloneElement(bo,aa),null,null]}return N?[be,null,null]:[be,null]}),We(E,"renderCustomized",function(A,C,P){return X.cloneElement(A,re(re({key:"recharts-customized-".concat(P)},E.props),E.state))}),We(E,"renderMap",{CartesianGrid:{handler:j_,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:j_},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:j_},YAxis:{handler:j_},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Vg("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Jce(E.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),E.state={},E}return w0t(v,x),v0t(v,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,E=_.data,A=_.height,C=_.layout,P=fa(k,da);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,j=nI(this.state,E,T,D),I=this.state.tooltipTicks[T].coordinate,W=(this.state.offset.top+A)/2,R=C==="horizontal",M=R?{x:I,y:W}:{y:I,x:W},z=this.state.formattedGraphicalItems.find(function(B){var G=B.item;return G.type.name==="Scatter"});z&&(M=re(re({},M),z.props.points[T].tooltipPosition),j=z.props.points[T].tooltipPayload);var H={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:D,activePayload:j,activeCoordinate:M};this.setState(H),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){UD([fa(_.children,da)],[fa(this.props.children,da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=fa(this.props.children,da);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,E=k.getBoundingClientRect(),A=$ot(E),C={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},P=E.width/k.offsetWidth||1,T=this.inRange(C.chartX,C.chartY,P);if(!T)return null;var D=this.state,j=D.xAxisMap,I=D.yAxisMap,W=this.getTooltipEventType(),R=UX(this.state,this.props.data,this.props.layout,T);if(W!=="axis"&&j&&I){var M=rc(j).scale,z=rc(I).scale,H=M&&M.invert?M.invert(C.chartX):null,B=z&&z.invert?z.invert(C.chartY):null;return re(re({},C),{},{xValue:H,yValue:B},R)}return R?re(re({},C),R):null}},{key:"inRange",value:function(_,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=_/E,P=k/E;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,D=C>=T.left&&C<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return D?{x:C,y:P}:null}var j=this.state,I=j.angleAxisMap,W=j.radiusAxisMap;if(I&&W){var R=rc(I);return pV({x:C,y:P},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),E=fa(_,da),A={};E&&k==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=LS(this.props,this.handleOuterEvent);return re(re({},C),A)}},{key:"addListener",value:function(){dT.on(hT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dT.removeListener(hT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,E){for(var A=this.state.formattedGraphicalItems,C=0,P=A.length;C<P;C++){var T=A[C];if(T.item===_||T.props.key===_.key||k===su(T.item.type)&&E===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,E=k.left,A=k.top,C=k.height,P=k.width;return q.createElement("defs",null,q.createElement("clipPath",{id:_},q.createElement("rect",{x:E,y:A,height:C,width:P})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,E){var A=RX(E,2),C=A[0],P=A[1];return re(re({},k),{},We({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,E){var A=RX(E,2),C=A[0],P=A[1];return re(re({},k),{},We({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,E=k.formattedGraphicalItems,A=k.activeItem;if(E&&E.length)for(var C=0,P=E.length;C<P;C++){var T=E[C],D=T.props,j=T.item,I=j.type.defaultProps!==void 0?re(re({},j.type.defaultProps),j.props):j.props,W=su(j.type);if(W==="Bar"){var R=(D.data||[]).find(function(B){return Bft(_,B)});if(R)return{graphicalItem:T,payload:R}}else if(W==="RadialBar"){var M=(D.data||[]).find(function(B){return pV(_,B)});if(M)return{graphicalItem:T,payload:M}}else if(jC(T,A)||IC(T,A)||R1(T,A)){var z=Rht({graphicalItem:T,activeTooltipItem:A,itemData:I.data}),H=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:re(re({},T),{},{childIndex:H}),payload:R1(T,A)?I.data[z]:T.props.data[z]}}}return null}},{key:"render",value:function(){var _=this;if(!qq(this))return null;var k=this.props,E=k.children,A=k.className,C=k.width,P=k.height,T=k.style,D=k.compact,j=k.title,I=k.desc,W=zX(k,f0t),R=Me(W,!1);if(D)return q.createElement(wX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(HD,Op({},R,{width:C,height:P,title:j,desc:I}),this.renderClipPath(),Vq(E,this.renderMap)));if(this.props.accessibilityLayer){var M,z;R.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,R.role=(z=this.props.role)!==null&&z!==void 0?z:"application",R.onKeyDown=function(B){_.accessibilityManager.keyboardEvent(B)},R.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return q.createElement(wX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Op({className:Ke("recharts-wrapper",A),style:re({position:"relative",cursor:"default",width:C,height:P},T)},H,{ref:function(G){_.container=G}}),q.createElement(HD,Op({},R,{width:C,height:P,title:j,desc:I,style:O0t}),this.renderClipPath(),Vq(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);We(m,"displayName",n),We(m,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(m,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,_=x.data,k=x.children,E=x.width,A=x.height,C=x.layout,P=x.stackOffset,T=x.margin,D=v.dataStartIndex,j=v.dataEndIndex;if(v.updateId===void 0){var I=WX(x);return re(re(re({},I),{},{updateId:0},p(re(re({props:x},I),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:_,prevWidth:E,prevHeight:A,prevLayout:C,prevStackOffset:P,prevMargin:T,prevChildren:k})}if(b!==v.prevDataKey||_!==v.prevData||E!==v.prevWidth||A!==v.prevHeight||C!==v.prevLayout||P!==v.prevStackOffset||!Vp(T,v.prevMargin)){var W=WX(x),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=re(re({},UX(v,_,C)),{},{updateId:v.updateId+1}),z=re(re(re({},W),R),M);return re(re(re({},z),p(re({props:x},z),v)),{},{prevDataKey:b,prevData:_,prevWidth:E,prevHeight:A,prevLayout:C,prevStackOffset:P,prevMargin:T,prevChildren:k})}if(!UD(k,v.prevChildren)){var H,B,G,N,Z=fa(k,Qm),Y=Z&&(H=(B=Z.props)===null||B===void 0?void 0:B.startIndex)!==null&&H!==void 0?H:D,U=Z&&(G=(N=Z.props)===null||N===void 0?void 0:N.endIndex)!==null&&G!==void 0?G:j,me=Y!==D||U!==j,le=!Ze(_),ve=le&&!me?v.updateId:v.updateId+1;return re(re({updateId:ve},p(re(re({props:x},v),{},{updateId:ve,dataStartIndex:Y,dataEndIndex:U}),v)),{},{prevChildren:k,dataStartIndex:Y,dataEndIndex:U})}return null}),We(m,"renderActiveDot",function(x,v,b){var _;return X.isValidElement(x)?_=X.cloneElement(x,v):Be(x)?_=x(v):_=q.createElement(Jx,v),q.createElement(ct,{className:"recharts-active-dot",key:b},_)});var g=X.forwardRef(function(v,b){return q.createElement(m,Op({},v,{ref:b}))});return g.displayName=m.displayName,g},F0t=WC({chartName:"BarChart",GraphicalChild:Ah,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ny},{axisType:"yAxis",AxisComp:ry}],formatAxisMap:gde}),R0t=WC({chartName:"PieChart",GraphicalChild:Du,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ey},{axisType:"radiusAxis",AxisComp:Jg}],formatAxisMap:Mfe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),z0t=WC({chartName:"RadarChart",GraphicalChild:eb,axisComponents:[{axisType:"angleAxis",AxisComp:ey},{axisType:"radiusAxis",AxisComp:Jg}],formatAxisMap:Mfe,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),B0t=WC({chartName:"AreaChart",GraphicalChild:Gs,axisComponents:[{axisType:"xAxis",AxisComp:ny},{axisType:"yAxis",AxisComp:ry}],formatAxisMap:gde});function U0t({onNavigate:e,selectedProjectId:t,setSelectedProjectId:n}){const[r,i]=X.useState([]),[a,o]=X.useState(null),[s,l]=X.useState(!0),[u,c]=X.useState(!1);X.useEffect(()=>{f()},[t]);const f=async()=>{try{const p=await fetch("/api/projects");if(p.ok){const m=await p.json();if(i(m),t){const g=m.find(x=>x.PROJECT_ID===t);g?o(g):m.length>0&&o(m[0])}else m.length>0&&o(m[0])}}catch(p){console.error("Failed to fetch projects:",p);const m=[{PROJECT_ID:"PRJ-001",PROJECT_NAME:"Downtown Transit Hub",PROJECT_TYPE:"TRANSIT",STATUS:"ACTIVE",CITY:"San Francisco",STATE:"CA",ORIGINAL_BUDGET:45e7,CURRENT_BUDGET:4725e5,CONTINGENCY_BUDGET:45e6,CONTINGENCY_USED:27e6,CPI:.89,SPI:.92,PRIME_CONTRACTOR:"Walsh Construction",RISK_LEVEL:"critical"},{PROJECT_ID:"PRJ-003",PROJECT_NAME:"Airport Terminal Expansion",PROJECT_TYPE:"FACILITY",STATUS:"ACTIVE",CITY:"Seattle",STATE:"WA",ORIGINAL_BUDGET:38e7,CURRENT_BUDGET:395e6,CONTINGENCY_BUDGET:38e6,CONTINGENCY_USED:19e6,CPI:.94,SPI:.96,PRIME_CONTRACTOR:"Turner Construction",RISK_LEVEL:"medium"},{PROJECT_ID:"PRJ-005",PROJECT_NAME:"Metro Blue Line Extension",PROJECT_TYPE:"TRANSIT",STATUS:"ACTIVE",CITY:"Los Angeles",STATE:"CA",ORIGINAL_BUDGET:52e7,CURRENT_BUDGET:546e6,CONTINGENCY_BUDGET:52e6,CONTINGENCY_USED:364e5,CPI:.91,SPI:.88,PRIME_CONTRACTOR:"Skanska USA",RISK_LEVEL:"critical"}];i(m);const g=m.find(x=>x.PROJECT_ID===t);o(g||m[0])}finally{l(!1)}},d=[{month:"Jan",planned:5,earned:4,actual:5},{month:"Feb",planned:12,earned:10,actual:13},{month:"Mar",planned:22,earned:18,actual:24},{month:"Apr",planned:35,earned:30,actual:38},{month:"May",planned:48,earned:42,actual:52},{month:"Jun",planned:58,earned:52,actual:62},{month:"Jul",planned:68,earned:60,actual:72},{month:"Aug",planned:76,earned:68,actual:80},{month:"Sep",planned:84,earned:75,actual:88},{month:"Oct",planned:90,earned:82,actual:94},{month:"Nov",planned:95,earned:88,actual:98},{month:"Dec",planned:100,earned:93,actual:105}];return s?S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsx("div",{className:"w-12 h-12 border-2 border-atlas-blue border-t-transparent rounded-full animate-spin"})}):S.jsxs("div",{className:"h-full overflow-y-auto p-6",children:[S.jsxs("div",{className:"mb-6",children:[S.jsxs("button",{onClick:()=>{n(null),e("map")},className:"mb-4 flex items-center gap-2 text-sm text-slate-400 hover:text-atlas-blue transition-colors",children:[S.jsx(oZ,{size:16}),"Back to Portfolio Map"]}),S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>c(!u),className:"card p-4 w-full flex items-center justify-between hover:border-atlas-blue/30 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:`w-3 h-3 rounded-full ${(a==null?void 0:a.RISK_LEVEL)==="critical"?"bg-atlas-red":(a==null?void 0:a.RISK_LEVEL)==="high"?"bg-atlas-yellow":(a==null?void 0:a.RISK_LEVEL)==="medium"?"bg-atlas-blue":"bg-atlas-green"}`}),S.jsxs("div",{children:[S.jsx("div",{className:"font-semibold text-white",children:a==null?void 0:a.PROJECT_NAME}),S.jsxs("div",{className:"text-sm text-slate-500",children:[a==null?void 0:a.CITY,", ",a==null?void 0:a.STATE,"  ",a==null?void 0:a.PROJECT_TYPE]})]})]}),S.jsx(lZ,{size:20,className:"text-slate-400"})]}),u&&S.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 card p-2 z-50 max-h-64 overflow-y-auto",children:r.map(p=>S.jsxs("button",{onClick:()=>{o(p),c(!1)},className:`w-full text-left p-3 rounded-lg flex items-center gap-3 hover:bg-navy-700/50 transition-colors ${(a==null?void 0:a.PROJECT_ID)===p.PROJECT_ID?"bg-navy-700/50":""}`,children:[S.jsx("div",{className:`w-2 h-2 rounded-full ${p.RISK_LEVEL==="critical"?"bg-atlas-red":p.RISK_LEVEL==="high"?"bg-atlas-yellow":p.RISK_LEVEL==="medium"?"bg-atlas-blue":"bg-atlas-green"}`}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium text-white",children:p.PROJECT_NAME}),S.jsx("div",{className:"text-xs text-slate-500",children:p.PROJECT_TYPE})]})]},p.PROJECT_ID))})]})]}),a&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[S.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-atlas-blue/20 rounded-lg",children:S.jsx(BE,{size:20,className:"text-atlas-blue"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500",children:"Original Budget"}),S.jsxs("div",{className:"text-lg font-bold text-white",children:["$",(a.ORIGINAL_BUDGET/1e6).toFixed(0),"M"]})]})]}),S.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-atlas-yellow/20 rounded-lg",children:S.jsx(am,{size:20,className:"text-atlas-yellow"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500",children:"Current Budget"}),S.jsxs("div",{className:"text-lg font-bold text-white",children:["$",(a.CURRENT_BUDGET/1e6).toFixed(0),"M"]})]})]}),S.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-lg ${a.CONTINGENCY_USED/a.CONTINGENCY_BUDGET>.7?"bg-atlas-red/20":"bg-atlas-green/20"}`,children:S.jsx(im,{size:20,className:a.CONTINGENCY_USED/a.CONTINGENCY_BUDGET>.7?"text-atlas-red":"text-atlas-green"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500",children:"Contingency Used"}),S.jsxs("div",{className:"text-lg font-bold text-white",children:[(a.CONTINGENCY_USED/a.CONTINGENCY_BUDGET*100).toFixed(0),"%"]})]})]}),S.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-atlas-purple/20 rounded-lg",children:S.jsx(iye,{size:20,className:"text-atlas-purple"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500",children:"Prime Contractor"}),S.jsx("div",{className:"text-sm font-medium text-white truncate max-w-[120px]",children:a.PRIME_CONTRACTOR})]})]}),S.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-atlas-cyan/20 rounded-lg",children:S.jsx(zE,{size:20,className:"text-atlas-cyan"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),S.jsx("div",{className:"text-sm font-medium text-white",children:a.STATUS})]})]})]}),S.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"card p-6",children:[S.jsx("h3",{className:"font-semibold text-white mb-6",children:"Performance Indices"}),S.jsxs("div",{className:"flex justify-center gap-8",children:[S.jsx(jS,{label:"CPI",value:a.CPI,target:1,size:"lg",showTrend:!0,trend:a.CPI>=1?"up":"down"}),S.jsx(jS,{label:"SPI",value:a.SPI,target:1,size:"lg",showTrend:!0,trend:a.SPI>=1?"up":"down"})]}),(a.CPI<.95||a.SPI<.95)&&S.jsx("div",{className:"mt-6 p-3 bg-atlas-red/10 border border-atlas-red/30 rounded-lg",children:S.jsxs("div",{className:"flex items-center gap-2 text-atlas-red text-sm",children:[S.jsx(Vs,{size:16}),S.jsx("span",{children:"Project requires intervention"})]})})]}),S.jsxs("div",{className:"card p-6 lg:col-span-2",children:[S.jsx("h3",{className:"font-semibold text-white mb-4",children:"Earned Value S-Curve"}),S.jsx(Sw,{width:"100%",height:300,children:S.jsxs(B0t,{data:d,children:[S.jsx(jz,{strokeDasharray:"3 3",stroke:"#30363d"}),S.jsx(ny,{dataKey:"month",stroke:"#64748b",fontSize:12}),S.jsx(ry,{stroke:"#64748b",fontSize:12}),S.jsx(da,{contentStyle:{background:"#161b22",border:"1px solid #30363d",borderRadius:"8px"}}),S.jsx(yd,{}),S.jsx(Gs,{type:"monotone",dataKey:"planned",name:"Planned Value",stroke:"#58a6ff",fill:"#58a6ff",fillOpacity:.1,strokeWidth:2}),S.jsx(Gs,{type:"monotone",dataKey:"earned",name:"Earned Value",stroke:"#3fb950",fill:"#3fb950",fillOpacity:.1,strokeWidth:2}),S.jsx(Gs,{type:"monotone",dataKey:"actual",name:"Actual Cost",stroke:"#f85149",fill:"#f85149",fillOpacity:.1,strokeWidth:2})]})})]})]}),S.jsxs("div",{className:"mt-6 card p-6",children:[S.jsx("h3",{className:"font-semibold text-white mb-4",children:"Budget Breakdown"}),S.jsx("div",{className:"space-y-4",children:[{label:"Labor",original:135,current:142,pct:30},{label:"Materials",original:157.5,current:165,pct:35},{label:"Equipment",original:67.5,current:71,pct:15},{label:"Subcontracts",original:90,current:94.5,pct:20}].map((p,m)=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("span",{className:"text-sm text-slate-300",children:p.label}),S.jsxs("span",{className:"text-sm text-slate-400",children:["$",p.current,"M / $",p.original,"M"]})]}),S.jsx("div",{className:"h-2 bg-navy-700 rounded-full overflow-hidden",children:S.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${p.current>p.original*1.05?"bg-atlas-red":p.current>p.original?"bg-atlas-yellow":"bg-atlas-green"}`,style:{width:`${Math.min(p.current/p.original*100,100)}%`}})})]},m))})]})]})]})}const Jh=["#f85149","#d29922","#58a6ff","#3fb950","#a371f7","#7ee787"];function W0t(e){var g,x;const[t,n]=X.useState(null),[r,i]=X.useState([]),[a,o]=X.useState(null),[s,l]=X.useState(!0),[u,c]=X.useState(""),[f,d]=X.useState("discovery");X.useEffect(()=>{p()},[]);const p=async()=>{try{const[v,b,_]=await Promise.all([fetch("/api/change-orders/hidden-pattern"),fetch("/api/ml/classification-summary"),fetch("/api/ml/hidden-pattern-analysis")]);v.ok&&n(await v.json()),b.ok&&i(await b.json()),_.ok&&o(await _.json())}catch(v){console.error("Failed to fetch data:",v),n({pattern_name:"Missing Grounding Specifications",co_count:156,project_count:12,total_amount:487500,avg_amount:3125,common_vendor:"Apex Electrical Services",change_orders:[{CO_ID:"CO-00001",PROJECT_NAME:"Downtown Transit Hub",REASON_TEXT:"Grounding not specified in original drawings",APPROVED_AMOUNT:3200},{CO_ID:"CO-00012",PROJECT_NAME:"Airport Terminal",REASON_TEXT:"Equipment grounding per NEC not in contract",APPROVED_AMOUNT:2850}]}),i([{category:"SCOPE_GAP",co_count:220,total_amount:285e4,avg_confidence:.91,avg_co_amount:12955},{category:"DESIGN_ERROR",co_count:85,total_amount:124e4,avg_confidence:.87,avg_co_amount:14588},{category:"FIELD_CONDITION",co_count:112,total_amount:98e4,avg_confidence:.82,avg_co_amount:8750},{category:"OWNER_REQUEST",co_count:45,total_amount:185e4,avg_confidence:.95,avg_co_amount:41111}])}finally{l(!1)}},m=r.map(v=>({category:v.category.replace("_"," "),confidence:v.avg_confidence*100,count:v.co_count}));return s?S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-12 h-12 border-2 border-atlas-blue border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-slate-400",children:"Analyzing change order patterns with ML..."})]})}):S.jsxs("div",{className:"h-full overflow-y-auto p-6",children:[S.jsxs("div",{className:"flex gap-4 mb-6",children:[S.jsxs("button",{onClick:()=>d("discovery"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${f==="discovery"?"bg-atlas-red/20 text-atlas-red border border-atlas-red/30":"bg-navy-800 text-slate-400 hover:text-white"}`,children:[S.jsx(Jl,{size:16}),"Hidden Discovery"]}),S.jsxs("button",{onClick:()=>d("ml"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${f==="ml"?"bg-atlas-purple/20 text-atlas-purple border border-atlas-purple/30":"bg-navy-800 text-slate-400 hover:text-white"}`,children:[S.jsx(Pv,{size:16}),"ML Analysis"]})]}),f==="discovery"&&S.jsxs(S.Fragment,{children:[t&&S.jsxs("div",{className:"alert-banner-critical mb-6 animate-fade-in",children:[S.jsx("div",{className:"flex-shrink-0 p-2 bg-atlas-red/20 rounded-lg",children:S.jsx(Vs,{size:24,className:"text-atlas-red"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("h3",{className:"font-semibold text-atlas-red mb-1 flex items-center gap-2",children:[S.jsx(Jl,{size:16}),"HIDDEN DISCOVERY: Systemic Pattern Detected"]}),S.jsxs("p",{className:"text-sm text-slate-300",children:["ATLAS has identified ",S.jsxs("strong",{children:[t.co_count," change orders"]})," across"," ",S.jsxs("strong",{children:[t.project_count," projects"]})," that share a common root cause:"," ",S.jsx("span",{className:"text-white font-medium",children:t.pattern_name})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"text-2xl font-bold text-atlas-red",children:["$",(g=t.total_amount)==null?void 0:g.toLocaleString()]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Aggregate Impact"})]})]}),S.jsx("div",{className:"mb-6",children:S.jsxs("div",{className:"relative",children:[S.jsx(Ed,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),S.jsx("input",{type:"text",value:u,onChange:v=>c(v.target.value),placeholder:"Search change orders by keyword (e.g., 'grounding', 'electrical')...",className:"input pl-10"})]})}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[S.jsxs("div",{className:"card-glow p-6 lg:col-span-1",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(Vs,{size:18,className:"text-atlas-red"}),"Pattern Analysis"]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Pattern Type"}),S.jsx("div",{className:"font-medium text-atlas-red",children:t==null?void 0:t.pattern_name})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3 text-center",children:[S.jsx($v,{size:20,className:"mx-auto text-atlas-blue mb-1"}),S.jsx("div",{className:"text-xl font-bold text-white",children:t==null?void 0:t.co_count}),S.jsx("div",{className:"text-xs text-slate-500",children:"Change Orders"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3 text-center",children:[S.jsx(rm,{size:20,className:"mx-auto text-atlas-purple mb-1"}),S.jsx("div",{className:"text-xl font-bold text-white",children:t==null?void 0:t.project_count}),S.jsx("div",{className:"text-xs text-slate-500",children:"Projects"})]})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-xs text-slate-500",children:"Average CO Size"}),S.jsxs("span",{className:"font-mono text-white",children:["$",(x=t==null?void 0:t.avg_amount)==null?void 0:x.toLocaleString()]})]}),S.jsx("div",{className:"text-xs text-slate-500 mt-2",children:" Below $5,000 threshold = Auto-approved"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Primary Vendor"}),S.jsx("div",{className:"font-medium text-atlas-yellow",children:t==null?void 0:t.common_vendor})]})]})]}),S.jsxs("div",{className:"card p-6",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(cZ,{size:18,className:"text-atlas-purple"}),"ML Classification Distribution"]}),S.jsx(Sw,{width:"100%",height:250,children:S.jsxs(R0t,{children:[S.jsx(Du,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"co_count",nameKey:"category",label:({category:v,co_count:b})=>`${v.replace("_"," ")}: ${b}`,labelLine:!1,children:r.map((v,b)=>S.jsx(v1,{fill:Jh[b%Jh.length]},`cell-${b}`))}),S.jsx(da,{contentStyle:{background:"#161b22",border:"1px solid #30363d",borderRadius:"8px"},formatter:(v,b,_)=>{var k;return[S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:[v," COs"]}),S.jsxs("div",{className:"text-xs text-slate-500",children:["$",(((k=_.payload)==null?void 0:k.total_amount)||0).toLocaleString()," total"]})]})]}})]})})]}),S.jsxs("div",{className:"card p-6",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(mp,{size:18,className:"text-atlas-yellow"}),"Model Confidence"]}),S.jsx(Sw,{width:"100%",height:250,children:S.jsxs(z0t,{data:m,children:[S.jsx(Kfe,{stroke:"#30363d"}),S.jsx(ey,{dataKey:"category",stroke:"#64748b",fontSize:11}),S.jsx(Jg,{angle:30,domain:[0,100],stroke:"#64748b",fontSize:10}),S.jsx(eb,{name:"Confidence %",dataKey:"confidence",stroke:"#a371f7",fill:"#a371f7",fillOpacity:.3}),S.jsx(da,{contentStyle:{background:"#161b22",border:"1px solid #30363d",borderRadius:"8px"},formatter:v=>[`${v.toFixed(1)}%`,"Confidence"]})]})})]})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"p-4 border-b border-navy-700/50",children:S.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[S.jsx($v,{size:18,className:"text-atlas-blue"}),"Sample Change Orders in Pattern"]})}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"table-atlas",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"CO #"}),S.jsx("th",{children:"Project"}),S.jsx("th",{children:"Reason"}),S.jsx("th",{className:"text-right",children:"Amount"})]})}),S.jsx("tbody",{children:t==null?void 0:t.change_orders.map((v,b)=>S.jsxs("tr",{children:[S.jsx("td",{className:"font-mono text-atlas-blue",children:v.CO_ID}),S.jsx("td",{children:v.PROJECT_NAME}),S.jsxs("td",{className:"max-w-md",children:[S.jsx("span",{className:"text-slate-300",children:v.REASON_TEXT}),v.REASON_TEXT.toLowerCase().includes("ground")&&S.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-atlas-red/20 text-atlas-red text-xs rounded",children:"PATTERN"})]}),S.jsxs("td",{className:"text-right font-mono",children:["$",v.APPROVED_AMOUNT.toLocaleString()]})]},b))})]})})]})]}),f==="ml"&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"card-glow border-atlas-purple/30 p-6 mb-6",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"p-3 bg-atlas-purple/20 rounded-xl",children:S.jsx(Pv,{size:32,className:"text-atlas-purple"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Change Order Classifier - XGBoost Model"}),S.jsxs("p",{className:"text-sm text-slate-400 mb-4",children:["Trained on ",r.reduce((v,b)=>v+b.co_count,0),"+ change orders to automatically classify root causes. Uses TF-IDF text features from reason narratives combined with cost codes, amounts, and project context."]}),S.jsxs("div",{className:"flex gap-6",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"text-2xl font-bold text-atlas-purple",children:[(r.reduce((v,b)=>v+b.avg_confidence,0)/r.length*100||0).toFixed(1),"%"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Avg Confidence"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold text-atlas-green",children:"4"}),S.jsx("div",{className:"text-xs text-slate-500",children:"Categories"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"text-2xl font-bold text-atlas-blue",children:["$",(r.reduce((v,b)=>v+b.total_amount,0)/1e6).toFixed(1),"M"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Classified Value"})]})]})]})]})}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:r.map((v,b)=>S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:Jh[b%Jh.length]}}),S.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-navy-700 text-slate-300",children:[(v.avg_confidence*100).toFixed(0),"% conf"]})]}),S.jsx("div",{className:"text-sm font-medium text-white mb-1",children:v.category.replace("_"," ")}),S.jsx("div",{className:"text-2xl font-bold text-white",children:v.co_count}),S.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"change orders"}),S.jsxs("div",{className:"pt-2 border-t border-navy-700/50",children:[S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsx("span",{className:"text-slate-500",children:"Total Impact"}),S.jsxs("span",{className:"text-white",children:["$",(v.total_amount/1e6).toFixed(2),"M"]})]}),S.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[S.jsx("span",{className:"text-slate-500",children:"Avg CO Size"}),S.jsxs("span",{className:"text-white",children:["$",v.avg_co_amount.toLocaleString()]})]})]})]},v.category))}),S.jsxs("div",{className:"card p-6 mb-6",children:[S.jsx("h3",{className:"font-semibold text-white mb-4",children:"Total Amount by ML Category"}),S.jsx(Sw,{width:"100%",height:300,children:S.jsxs(F0t,{data:r,children:[S.jsx(jz,{strokeDasharray:"3 3",stroke:"#30363d"}),S.jsx(ny,{dataKey:"category",stroke:"#64748b",fontSize:12,tickFormatter:v=>v.replace("_"," ")}),S.jsx(ry,{stroke:"#64748b",fontSize:12,tickFormatter:v=>`$${(v/1e6).toFixed(1)}M`}),S.jsx(da,{contentStyle:{background:"#161b22",border:"1px solid #30363d",borderRadius:"8px"},formatter:v=>[`$${v.toLocaleString()}`,"Total Amount"]}),S.jsx(Ah,{dataKey:"total_amount",radius:[4,4,0,0],children:r.map((v,b)=>S.jsx(v1,{fill:Jh[b%Jh.length]},`cell-${b}`))})]})})]}),a&&S.jsxs("div",{className:"card p-6",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(Jl,{size:18,className:"text-atlas-red"}),"ML-Detected Hidden Pattern: ",a.pattern_name]}),S.jsx("div",{className:"bg-atlas-red/10 border border-atlas-red/30 rounded-lg p-4 mb-4",children:S.jsx("p",{className:"text-sm text-slate-300",children:a.description})}),S.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsx("div",{className:"text-2xl font-bold text-atlas-red",children:a.summary.total_cos}),S.jsx("div",{className:"text-xs text-slate-500",children:"Change Orders"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsxs("div",{className:"text-2xl font-bold text-atlas-yellow",children:["$",(a.summary.total_amount/1e3).toFixed(0),"K"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Total Impact"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsxs("div",{className:"text-2xl font-bold text-atlas-purple",children:[(a.summary.avg_ml_confidence*100).toFixed(0),"%"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"ML Confidence"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsx("div",{className:"text-2xl font-bold text-atlas-blue",children:a.summary.projects_affected}),S.jsx("div",{className:"text-xs text-slate-500",children:"Projects"})]})]}),S.jsx("div",{className:"bg-navy-800/50 rounded-lg p-4",children:S.jsx("p",{className:"text-sm text-atlas-green",children:a.insight})}),S.jsx("div",{className:"mt-4 overflow-x-auto",children:S.jsxs("table",{className:"table-atlas",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"CO #"}),S.jsx("th",{children:"Project"}),S.jsx("th",{children:"Vendor"}),S.jsx("th",{children:"ML Category"}),S.jsx("th",{className:"text-right",children:"Confidence"}),S.jsx("th",{className:"text-right",children:"Amount"})]})}),S.jsx("tbody",{children:a.sample_cos.slice(0,10).map(v=>S.jsxs("tr",{children:[S.jsx("td",{className:"font-mono text-atlas-blue",children:v.co_id}),S.jsx("td",{children:v.project_name}),S.jsx("td",{className:"text-slate-400",children:v.vendor_name||"-"}),S.jsx("td",{children:S.jsx("span",{className:"px-2 py-1 rounded text-xs bg-atlas-purple/20 text-atlas-purple",children:v.ml_category})}),S.jsx("td",{className:"text-right font-mono",children:S.jsxs("span",{className:`${v.ml_confidence>.9?"text-atlas-green":v.ml_confidence>.8?"text-atlas-blue":"text-atlas-yellow"}`,children:[(v.ml_confidence*100).toFixed(0),"%"]})}),S.jsxs("td",{className:"text-right font-mono",children:["$",(v.approved_amount||0).toLocaleString()]})]},v.co_id))})]})})]})]}),S.jsxs("div",{className:"mt-6 card p-6",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(am,{size:18,className:"text-atlas-green"}),"AI Recommendations"]}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[S.jsxs("div",{className:"bg-atlas-blue/10 border border-atlas-blue/30 rounded-lg p-4",children:[S.jsx("div",{className:"text-xs text-atlas-blue font-semibold mb-2",children:"IMMEDIATE"}),S.jsx("p",{className:"text-sm text-slate-300",children:"Issue Global Design Bulletin to add grounding specifications to all active projects"})]}),S.jsxs("div",{className:"bg-atlas-yellow/10 border border-atlas-yellow/30 rounded-lg p-4",children:[S.jsx("div",{className:"text-xs text-atlas-yellow font-semibold mb-2",children:"PREVENTIVE"}),S.jsx("p",{className:"text-sm text-slate-300",children:"Update bid documents to include NEC Article 250 requirements explicitly"})]}),S.jsxs("div",{className:"bg-atlas-green/10 border border-atlas-green/30 rounded-lg p-4",children:[S.jsx("div",{className:"text-xs text-atlas-green font-semibold mb-2",children:"FINANCIAL"}),S.jsxs("p",{className:"text-sm text-slate-300",children:["Reserve additional $",(((t==null?void 0:t.total_amount)||0)*.1).toLocaleString()," for remaining project phases"]})]})]})]})]})}function H0t(e){var f,d;const[t,n]=X.useState(null),[r,i]=X.useState(!0),[a,o]=X.useState(new Date);X.useEffect(()=>{s();const p=setInterval(()=>o(new Date),1e3);return()=>clearInterval(p)},[]);const s=async()=>{try{const p=await fetch("/api/morning-brief");if(p.ok){const m=await p.json();n(m)}}catch(p){console.error("Failed to fetch morning brief:",p),n({date:new Date().toISOString().split("T")[0],portfolio:{total_projects:12,total_budget:23e8,avg_cpi:.968,avg_spi:.975,projects_over_budget:3,projects_behind_schedule:2},alerts:[{level:"critical",type:"scope",project:"Hidden Pattern",message:"156 COs share common root cause"},{level:"critical",type:"cost",project:"Downtown Transit",message:"CPI at 0.89"},{level:"warning",type:"schedule",project:"Metro Blue Line",message:"SPI at 0.88"}],critical_alert_count:2,hidden_pattern:{pattern_name:"Missing Grounding Specifications",co_count:156,total_amount:487500},schedule_risk_count:7,narrative:"Portfolio showing moderate stress with 3 projects over budget..."})}finally{i(!1)}},l=p=>p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),u=p=>p.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=()=>{const p=a.getHours();return p<12?"Good morning":p<17?"Good afternoon":"Good evening"};return r?S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx(uZ,{size:48,className:"mx-auto text-atlas-blue mb-4 animate-bounce"}),S.jsx("p",{className:"text-slate-400",children:"Preparing your morning brief..."})]})}):S.jsxs("div",{className:"h-full overflow-y-auto",children:[S.jsxs("div",{className:"relative bg-gradient-to-br from-navy-800 via-navy-900 to-navy-950 px-8 py-12",children:[S.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-10"}),S.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx(tye,{size:24,className:"text-atlas-yellow"}),S.jsx("span",{className:"text-atlas-yellow font-medium",children:c()})]}),S.jsx("h1",{className:"text-4xl font-display font-bold text-white mb-2",children:"Portfolio Morning Brief"}),S.jsxs("div",{className:"flex items-center gap-6 text-slate-400",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(zE,{size:16}),S.jsx("span",{children:u(a)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(JI,{size:16}),S.jsx("span",{children:l(a)})]})]})]})]}),S.jsxs("div",{className:"max-w-4xl mx-auto px-8 py-8 space-y-8",children:[S.jsxs("section",{className:"card p-6",children:[S.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(Jl,{size:20,className:"text-atlas-blue"}),"Executive Summary"]}),S.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsx("div",{className:"text-2xl font-bold text-white",children:t==null?void 0:t.portfolio.total_projects}),S.jsx("div",{className:"text-xs text-slate-500",children:"Active Projects"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(((t==null?void 0:t.portfolio.total_budget)||0)/1e9).toFixed(1),"B"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Portfolio Value"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsx("div",{className:`text-2xl font-bold ${((t==null?void 0:t.portfolio.avg_cpi)||0)>=.95?"text-atlas-green":"text-atlas-red"}`,children:(f=t==null?void 0:t.portfolio.avg_cpi)==null?void 0:f.toFixed(3)}),S.jsx("div",{className:"text-xs text-slate-500",children:"Average CPI"})]}),S.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-4 text-center",children:[S.jsx("div",{className:`text-2xl font-bold ${((t==null?void 0:t.portfolio.avg_spi)||0)>=.95?"text-atlas-green":"text-atlas-yellow"}`,children:(d=t==null?void 0:t.portfolio.avg_spi)==null?void 0:d.toFixed(3)}),S.jsx("div",{className:"text-xs text-slate-500",children:"Average SPI"})]})]}),S.jsxs("p",{className:"text-slate-300",children:["Today's portfolio shows ",S.jsxs("strong",{className:"text-white",children:[t==null?void 0:t.portfolio.projects_over_budget," projects"]})," trending over budget and ",S.jsxs("strong",{className:"text-white",children:[t==null?void 0:t.portfolio.projects_behind_schedule," projects"]})," behind schedule. ",(t==null?void 0:t.critical_alert_count)&&t.critical_alert_count>0&&S.jsxs("span",{className:"text-atlas-red",children:["There are ",t.critical_alert_count," critical alerts requiring immediate attention."]})]})]}),(t==null?void 0:t.hidden_pattern)&&S.jsxs("section",{className:"alert-banner-critical",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx(Vs,{size:24,className:"text-atlas-red"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"font-semibold text-white mb-1",children:"Hidden Pattern Detected"}),S.jsxs("p",{className:"text-sm text-slate-300",children:["ATLAS identified ",S.jsxs("strong",{children:[t.hidden_pattern.co_count," change orders"]}),' related to "',t.hidden_pattern.pattern_name,'" with aggregate impact of ',S.jsxs("strong",{children:["$",t.hidden_pattern.total_amount.toLocaleString()]}),"."]})]}),S.jsx("button",{className:"btn-danger text-sm",children:"View Details"})]}),S.jsxs("section",{className:"card p-6",children:[S.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Today's Priorities"}),S.jsx("div",{className:"space-y-4",children:t==null?void 0:t.alerts.slice(0,5).map((p,m)=>S.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-lg ${p.level==="critical"?"bg-atlas-red/10 border border-atlas-red/30":p.level==="warning"?"bg-atlas-yellow/10 border border-atlas-yellow/30":"bg-atlas-blue/10 border border-atlas-blue/30"}`,children:[S.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${p.level==="critical"?"bg-atlas-red text-white":p.level==="warning"?"bg-atlas-yellow text-navy-900":"bg-atlas-blue text-white"}`,children:m+1}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"font-medium text-white",children:p.project}),S.jsx("div",{className:"text-sm text-slate-400",children:p.message})]}),S.jsx("span",{className:`badge ${p.level==="critical"?"badge-red":p.level==="warning"?"badge-yellow":"badge-blue"}`,children:p.type})]},m))})]}),S.jsxs("section",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"card p-6",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(im,{size:18,className:"text-atlas-red"}),"Cost Concerns"]}),S.jsx("div",{className:"space-y-3",children:[{name:"Downtown Transit Hub",cpi:.89,trend:-.02},{name:"Metro Blue Line",cpi:.91,trend:-.01},{name:"Rail Yard Expansion",cpi:.93,trend:.01}].map((p,m)=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-slate-300",children:p.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:`font-mono text-sm ${p.cpi<.95?"text-atlas-red":"text-atlas-yellow"}`,children:p.cpi.toFixed(2)}),S.jsxs("span",{className:`text-xs ${p.trend<0?"text-atlas-red":"text-atlas-green"}`,children:[p.trend>0?"+":"",p.trend.toFixed(2)]})]})]},m))})]}),S.jsxs("div",{className:"card p-6",children:[S.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(lN,{size:18,className:"text-atlas-green"}),"On Track"]}),S.jsx("div",{className:"space-y-3",children:[{name:"Central Utility Plant",cpi:1.05,spi:1.03},{name:"Power Substation North",cpi:1.01,spi:1},{name:"Harbor Bridge",cpi:.99,spi:1.02}].map((p,m)=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-slate-300",children:p.name}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xs text-slate-500",children:"CPI"}),S.jsx("span",{className:"font-mono text-sm text-atlas-green",children:p.cpi.toFixed(2)}),S.jsx("span",{className:"text-xs text-slate-500",children:"SPI"}),S.jsx("span",{className:"font-mono text-sm text-atlas-green",children:p.spi.toFixed(2)})]})]},m))})]})]}),S.jsxs("section",{className:"card p-6 border-atlas-blue/30",children:[S.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(Jl,{size:20,className:"text-atlas-blue"}),"AI Recommendations"]}),S.jsxs("ul",{className:"space-y-3 text-slate-300",children:[S.jsxs("li",{className:"flex items-start gap-3",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-blue mt-2"}),S.jsxs("span",{children:[S.jsx("strong",{className:"text-white",children:"Immediate:"})," Review Downtown Transit Hub's electrical subcontractor performance. CPI drop accelerating over past 3 weeks."]})]}),S.jsxs("li",{className:"flex items-start gap-3",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-yellow mt-2"}),S.jsxs("span",{children:[S.jsx("strong",{className:"text-white",children:"This Week:"})," Schedule root cause analysis for the grounding specification pattern. 156 COs require design update decision."]})]}),S.jsxs("li",{className:"flex items-start gap-3",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-green mt-2"}),S.jsxs("span",{children:[S.jsx("strong",{className:"text-white",children:"Opportunity:"})," Central Utility Plant is 5% under budget. Consider accelerating to capture savings."]})]})]})]})]})]})}function q0t(e){var g,x;const[t,n]=X.useState(""),[r,i]=X.useState([]),[a,o]=X.useState(!1),[s,l]=X.useState(null),[u,c]=X.useState("all"),f=async()=>{if(t.trim()){o(!0);try{const v=await fetch("/api/change-orders/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t.trim(),limit:20})});if(v.ok){const b=await v.json();i(b)}}catch(v){console.error("Search failed:",v),i([{co_id:"CO-00001",project_name:"Downtown Transit Hub",vendor_name:"Apex Electrical",reason_text:"Grounding not specified in original drawings. Additional ground rods and conductors required per NEC 250.",approved_amount:3200,ml_category:"SCOPE_GAP",approval_date:"2024-03-15"},{co_id:"CO-00012",project_name:"Airport Terminal",vendor_name:"Apex Electrical",reason_text:"Equipment grounding per NEC Article 250 not included in contract scope. Install grounding system for all panels.",approved_amount:2850,ml_category:"SCOPE_GAP",approval_date:"2024-04-02"},{co_id:"CO-00023",project_name:"Metro Blue Line",vendor_name:"Apex Electrical",reason_text:"Ground wire installation missing from electrical specifications. Add grounding conductors to all circuits.",approved_amount:4100,ml_category:"SCOPE_GAP",approval_date:"2024-04-18"},{co_id:"CO-00078",project_name:"Downtown Transit Hub",vendor_name:"Delta Mechanical",reason_text:"Unforeseen rock encountered during excavation for ductbank. Additional equipment and labor required.",approved_amount:45e3,ml_category:"FIELD_CONDITION",approval_date:"2024-05-01"},{co_id:"CO-00089",project_name:"Rail Yard Expansion",vendor_name:"Steel Dynamics",reason_text:"Structural calculations require revision due to updated seismic requirements. Additional steel members needed.",approved_amount:125e3,ml_category:"DESIGN_ERROR",approval_date:"2024-05-15"}])}finally{o(!1)}}},d=v=>{v.preventDefault(),f()},p=u==="all"?r:r.filter(v=>v.ml_category===u),m=["all","SCOPE_GAP","DESIGN_ERROR","FIELD_CONDITION","OWNER_REQUEST"];return S.jsxs("div",{className:"h-full flex",children:[S.jsxs("div",{className:"w-[500px] flex-shrink-0 border-r border-navy-700/50 flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-navy-700/50",children:[S.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Search Knowledge Base"}),S.jsx("form",{onSubmit:d,children:S.jsxs("div",{className:"relative",children:[S.jsx(Ed,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),S.jsx("input",{type:"text",value:t,onChange:v=>n(v.target.value),placeholder:"Search COs, contracts, specs...",className:"input pl-10 pr-20"}),S.jsx("button",{type:"submit",disabled:a||!t.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 btn-primary py-1.5 px-3 text-sm disabled:opacity-50",children:a?"...":"Search"})]})}),S.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:["grounding","electrical","excavation","structural"].map(v=>S.jsx("button",{onClick:()=>{n(v),f()},className:"px-3 py-1 bg-navy-700/50 hover:bg-navy-600/50 rounded-full text-xs text-slate-400 hover:text-white transition-colors",children:v},v))})]}),S.jsxs("div",{className:"p-4 border-b border-navy-700/50",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx(Zge,{size:14,className:"text-slate-500"}),S.jsx("span",{className:"text-xs text-slate-500",children:"Filter by category"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(v=>S.jsx("button",{onClick:()=>c(v),className:`px-3 py-1 rounded-full text-xs transition-colors ${u===v?"bg-atlas-blue text-white":"bg-navy-700/50 text-slate-400 hover:text-white"}`,children:v==="all"?"All":v.replace("_"," ")},v))})]}),S.jsx("div",{className:"flex-1 overflow-y-auto",children:p.length>0?S.jsx("div",{className:"divide-y divide-navy-700/50",children:p.map(v=>{var b;return S.jsx("button",{onClick:()=>l(v),className:`w-full text-left p-4 hover:bg-navy-700/30 transition-colors ${(s==null?void 0:s.co_id)===v.co_id?"bg-navy-700/50":""}`,children:S.jsxs("div",{className:"flex items-start justify-between gap-3",children:[S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("span",{className:"font-mono text-sm text-atlas-blue",children:v.co_id}),S.jsx("span",{className:`badge ${v.ml_category==="SCOPE_GAP"?"badge-red":v.ml_category==="DESIGN_ERROR"?"badge-yellow":v.ml_category==="FIELD_CONDITION"?"badge-blue":"badge-purple"}`,children:(b=v.ml_category)==null?void 0:b.replace("_"," ")})]}),S.jsx("div",{className:"text-sm text-white mb-1",children:v.project_name}),S.jsx("p",{className:"text-xs text-slate-400 line-clamp-2",children:v.reason_text})]}),S.jsx(QI,{size:16,className:"text-slate-600 flex-shrink-0 mt-1"})]})},v.co_id)})}):t&&!a?S.jsxs("div",{className:"p-8 text-center",children:[S.jsx($v,{size:48,className:"mx-auto text-slate-600 mb-4"}),S.jsxs("p",{className:"text-slate-400",children:['No results found for "',t,'"']}),S.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Try different keywords"})]}):S.jsxs("div",{className:"p-8 text-center",children:[S.jsx(Ed,{size:48,className:"mx-auto text-slate-600 mb-4"}),S.jsx("p",{className:"text-slate-400",children:"Search change orders and contracts"}),S.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Use semantic search to find related documents"})]})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto",children:s?S.jsxs("div",{className:"p-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-6",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx("span",{className:"font-mono text-xl text-atlas-blue",children:s.co_id}),S.jsx("span",{className:`badge ${s.ml_category==="SCOPE_GAP"?"badge-red":s.ml_category==="DESIGN_ERROR"?"badge-yellow":s.ml_category==="FIELD_CONDITION"?"badge-blue":"badge-purple"}`,children:(g=s.ml_category)==null?void 0:g.replace("_"," ")})]}),S.jsx("h2",{className:"text-lg font-semibold text-white",children:s.project_name})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",s.approved_amount.toLocaleString()]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Approved Amount"})]})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-1",children:[S.jsx(rm,{size:14}),S.jsx("span",{className:"text-xs",children:"Vendor"})]}),S.jsx("div",{className:"font-medium text-white",children:s.vendor_name})]}),S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-1",children:[S.jsx(zE,{size:14}),S.jsx("span",{className:"text-xs",children:"Approval Date"})]}),S.jsx("div",{className:"font-medium text-white",children:s.approval_date})]}),S.jsxs("div",{className:"card p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-1",children:[S.jsx(V6,{size:14}),S.jsx("span",{className:"text-xs",children:"ML Classification"})]}),S.jsx("div",{className:"font-medium text-white",children:(x=s.ml_category)==null?void 0:x.replace("_"," ")})]})]}),S.jsxs("div",{className:"card p-6 mb-6",children:[S.jsx("h3",{className:"font-semibold text-white mb-3",children:"Reason for Change"}),S.jsx("p",{className:"text-slate-300 leading-relaxed",children:s.reason_text}),s.ml_category==="SCOPE_GAP"&&s.reason_text.toLowerCase().includes("ground")&&S.jsx("div",{className:"mt-4 p-3 bg-atlas-red/10 border border-atlas-red/30 rounded-lg",children:S.jsxs("div",{className:"flex items-center gap-2 text-atlas-red text-sm",children:[S.jsx(V6,{size:14}),S.jsx("span",{children:'Part of "Missing Grounding Specifications" pattern'})]})})]}),S.jsxs("div",{className:"card p-6",children:[S.jsx("h3",{className:"font-semibold text-white mb-4",children:"Related Change Orders"}),S.jsx("div",{className:"space-y-3",children:r.filter(v=>v.co_id!==s.co_id&&v.ml_category===s.ml_category).slice(0,3).map(v=>S.jsx("button",{onClick:()=>l(v),className:"w-full text-left p-3 bg-navy-700/30 hover:bg-navy-700/50 rounded-lg transition-colors",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("span",{className:"font-mono text-sm text-atlas-blue",children:v.co_id}),S.jsx("span",{className:"text-sm text-slate-400 ml-2",children:v.project_name})]}),S.jsxs("span",{className:"text-sm text-slate-400",children:["$",v.approved_amount.toLocaleString()]})]})},v.co_id))})]})]}):S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx($v,{size:64,className:"mx-auto text-slate-600 mb-4"}),S.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"Select a Document"}),S.jsx("p",{className:"text-slate-500",children:"Search and click on a result to view details"})]})})})]})}const qX={frontend:{id:"frontend",name:"React Frontend",shortName:"UI",description:"Modern, real-time UI built with React, TypeScript, and Tailwind CSS. Features interactive chat interface, portfolio map with Leaflet, animated visualizations, and the mission control dashboard.",tech:["React 18","TypeScript","Tailwind CSS","Vite","Recharts","Leaflet"],stats:"8 pages, real-time updates",color:"cyan"},backend:{id:"backend",name:"FastAPI Backend",shortName:"API",description:"Python middleware handling API requests, WebSocket connections, and agent orchestration. Routes queries to appropriate agents based on intent classification.",tech:["Python 3.11","FastAPI","Uvicorn","Pydantic"],stats:"15 endpoints",color:"blue"},orchestrator:{id:"orchestrator",name:"Agent Orchestrator",shortName:"Brain",description:"Intelligent router that classifies user intent (analytical, search, hidden discovery) and delegates to specialized agents. Aggregates responses for coherent output.",tech:["Intent Classification","Multi-Agent Coordination","Context Management"],stats:"4 intent types",color:"purple"},scopeAgent:{id:"scopeAgent",name:"Scope Analyst Agent",shortName:"Search",description:'Analyzes change orders to detect scope gaps and pattern anomalies. Uses ML classification to identify hidden patterns like the "Missing Grounding Specifications" discovery.',tech:["Cortex Search","ML Classification","Pattern Detection"],stats:"156 patterns found",color:"green"},riskAgent:{id:"riskAgent",name:"Risk Predictor Agent",shortName:"Advisor",description:"Provides risk assessments and recommendations based on historical project data. Uses XGBoost models to predict schedule slips and cost overruns.",tech:["XGBoost","SHAP Explanations","Cortex LLM"],stats:"4 ML models",color:"yellow"},watchdog:{id:"watchdog",name:"Portfolio Watchdog Agent",shortName:"Monitor",description:"Monitors portfolio-wide KPIs for anomalies. Pattern matches against historical incidents for proactive alerting and risk detection across all 12 projects.",tech:["Anomaly Detection","KPI Monitoring","Real-time Alerts"],stats:"$3.3B watched",color:"red"},snowflake:{id:"snowflake",name:"Snowflake Data Cloud",shortName:"Data",description:"Cloud data platform storing project data, change orders, vendor information, and schedule activities. Powers all analytical queries with ATOMIC and CAPITAL_PROJECTS schemas.",tech:["CAPITAL_PROJECTS_DB","ATOMIC Schema","Parquet Data"],stats:"12 projects, 600+ COs",color:"blue"},cortex:{id:"cortex",name:"Cortex AI Services",shortName:"AI",description:"Snowflake's AI services including Cortex Agents for orchestration, Cortex Search for semantic document retrieval, and Cortex Complete (LLM) for reasoning.",tech:["Cortex Agents","Cortex Search","Cortex Analyst","Mistral Large"],stats:"3 AI services",color:"purple"}};function G0t(e){const[t,n]=X.useState(null),[r,i]=X.useState(null),a=t?qX[t]:null,o=(u,c)=>{const f={cyan:{bg:c?"bg-cyan-500/20":"bg-cyan-500/10",border:c?"border-cyan-400":"border-cyan-500/30",glow:"shadow-cyan-500/50"},blue:{bg:c?"bg-blue-500/20":"bg-blue-500/10",border:c?"border-blue-400":"border-blue-500/30",glow:"shadow-blue-500/50"},purple:{bg:c?"bg-purple-500/20":"bg-purple-500/10",border:c?"border-purple-400":"border-purple-500/30",glow:"shadow-purple-500/50"},green:{bg:c?"bg-emerald-500/20":"bg-emerald-500/10",border:c?"border-emerald-400":"border-emerald-500/30",glow:"shadow-emerald-500/50"},yellow:{bg:c?"bg-amber-500/20":"bg-amber-500/10",border:c?"border-amber-400":"border-amber-500/30",glow:"shadow-amber-500/50"},red:{bg:c?"bg-red-500/20":"bg-red-500/10",border:c?"border-red-400":"border-red-500/30",glow:"shadow-red-500/50"}};return f[u]||f.blue},s=({id:u,x:c,y:f})=>{const d=qX[u],p=t===u,m=o(d.color,p),x={frontend:H6,backend:G6,orchestrator:Pv,scopeAgent:Ed,riskAgent:Jl,watchdog:cN,snowflake:uN,cortex:mp}[u]||ZI;return S.jsxs("g",{transform:`translate(${c}, ${f})`,onClick:()=>n(p?null:u),className:"cursor-pointer",children:[p&&S.jsx("circle",{cx:"40",cy:"40",r:"50",className:`fill-current text-${d.color}-500 opacity-20`,style:{filter:"blur(15px)"}}),S.jsx("rect",{x:"0",y:"0",width:"80",height:"80",rx:"12",className:`${m.bg} ${m.border} border-2 transition-all duration-300 ${p?`shadow-lg ${m.glow}`:""}`,style:{filter:p?"drop-shadow(0 0 10px currentColor)":"none"}}),S.jsx("foreignObject",{x:"20",y:"15",width:"40",height:"40",children:S.jsx("div",{className:"flex items-center justify-center w-full h-full",children:S.jsx(x,{size:28,className:`text-${d.color}-400`})})}),S.jsx("text",{x:"40",y:"68",textAnchor:"middle",className:"text-xs font-medium fill-slate-300",children:d.shortName}),S.jsx("circle",{cx:"70",cy:"10",r:"5",className:"fill-emerald-400",style:{filter:"drop-shadow(0 0 4px #10b981)"},children:S.jsx("animate",{attributeName:"opacity",values:"1;0.5;1",dur:"2s",repeatCount:"indefinite"})})]})},l=({from:u,to:c,label:f,curved:d=!1})=>{const p=r===f;let m;if(d){const g=(u.x+c.x)/2,x=Math.min(u.y,c.y)-30;m=`M ${u.x} ${u.y} Q ${g} ${x} ${c.x} ${c.y}`}else m=`M ${u.x} ${u.y} L ${c.x} ${c.y}`;return S.jsxs("g",{onMouseEnter:()=>i(f||null),onMouseLeave:()=>i(null),children:[S.jsx("path",{d:m,fill:"none",stroke:"#58a6ff",strokeWidth:p?4:2,strokeOpacity:p?.5:.2,style:{filter:p?"blur(4px)":"none"}}),S.jsx("path",{d:m,fill:"none",stroke:"#58a6ff",strokeWidth:"2",strokeDasharray:"8 4",strokeOpacity:p?1:.6,children:S.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-12",dur:"1s",repeatCount:"indefinite"})}),S.jsx("circle",{cx:c.x,cy:c.y,r:"4",className:"fill-atlas-blue",children:S.jsx("animate",{attributeName:"r",values:"3;5;3",dur:"1.5s",repeatCount:"indefinite"})}),f&&S.jsx("text",{x:(u.x+c.x)/2,y:(u.y+c.y)/2-8,textAnchor:"middle",className:`text-[10px] fill-slate-400 ${p?"fill-blue-300":""}`,children:f})]})};return S.jsx("div",{className:"p-6 min-h-screen overflow-y-auto",children:S.jsxs("div",{className:"max-w-7xl mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-200 flex items-center gap-3",children:[S.jsxs("div",{className:"relative",children:[S.jsx(mp,{className:"text-atlas-blue"}),S.jsx("div",{className:"absolute inset-0 text-atlas-blue animate-ping opacity-30",children:S.jsx(mp,{})})]}),"System Architecture"]}),S.jsx("p",{className:"text-slate-400 mt-2",children:"Interactive blueprint of the ATLAS Capital Delivery system. Click any component to learn more."})]}),S.jsx("div",{className:"grid grid-cols-5 gap-4 mb-8",children:[{label:"AI Agents",value:"4",color:"purple"},{label:"Change Orders",value:"600+",color:"green"},{label:"Portfolio Value",value:"$3.3B",color:"blue"},{label:"Projects",value:"12",color:"cyan"},{label:"API Endpoints",value:"15",color:"yellow"}].map((u,c)=>S.jsxs("div",{className:"card card-glow text-center py-4",children:[S.jsx("p",{className:"text-2xl font-mono font-bold text-atlas-blue",children:u.value}),S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:u.label})]},c))}),S.jsxs("div",{className:"card p-8 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 scan-line pointer-events-none"}),S.jsxs("svg",{viewBox:"0 0 1000 400",className:"w-full h-auto",style:{minHeight:"350px"},children:[S.jsx("defs",{children:S.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:S.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"rgba(88, 166, 255, 0.05)",strokeWidth:"1"})})}),S.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),S.jsx("text",{x:"50",y:"30",className:"text-xs fill-slate-500 uppercase tracking-wider",children:"Presentation"}),S.jsx("text",{x:"250",y:"30",className:"text-xs fill-slate-500 uppercase tracking-wider",children:"API Layer"}),S.jsx("text",{x:"420",y:"30",className:"text-xs fill-slate-500 uppercase tracking-wider",children:"Intelligence"}),S.jsx("text",{x:"650",y:"30",className:"text-xs fill-slate-500 uppercase tracking-wider",children:"Data Layer"}),S.jsx("text",{x:"850",y:"30",className:"text-xs fill-slate-500 uppercase tracking-wider",children:"AI Services"}),S.jsx(l,{from:{x:120,y:200},to:{x:220,y:200},label:"HTTP/WS"}),S.jsx(l,{from:{x:320,y:200},to:{x:420,y:160},label:"Route"}),S.jsx(l,{from:{x:320,y:200},to:{x:420,y:200}}),S.jsx(l,{from:{x:320,y:200},to:{x:420,y:240}}),S.jsx(l,{from:{x:520,y:160},to:{x:650,y:200},label:"Query"}),S.jsx(l,{from:{x:520,y:200},to:{x:650,y:200}}),S.jsx(l,{from:{x:520,y:240},to:{x:650,y:200}}),S.jsx(l,{from:{x:750,y:200},to:{x:850,y:200},label:"AI"}),S.jsx(l,{from:{x:890,y:140},to:{x:460,y:120},curved:!0,label:"LLM Response"}),S.jsx(s,{id:"frontend",x:40,y:160}),S.jsx(s,{id:"backend",x:220,y:160}),S.jsx(s,{id:"orchestrator",x:420,y:160}),S.jsx(s,{id:"scopeAgent",x:420,y:50}),S.jsx(s,{id:"riskAgent",x:420,y:270}),S.jsx(s,{id:"watchdog",x:520,y:160}),S.jsx(s,{id:"snowflake",x:650,y:160}),S.jsx(s,{id:"cortex",x:850,y:160}),[...Array(5)].map((u,c)=>S.jsxs("circle",{r:"2",className:"fill-atlas-blue",children:[S.jsx("animateMotion",{dur:`${3+c*.5}s`,repeatCount:"indefinite",path:"M 120 200 L 320 200 L 460 200 L 690 200 L 850 200"}),S.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:`${3+c*.5}s`,repeatCount:"indefinite"})]},c))]}),S.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-xs text-slate-500",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-0.5 bg-atlas-blue",style:{backgroundImage:"repeating-linear-gradient(90deg, #58a6ff 0, #58a6ff 8px, transparent 8px, transparent 12px)"}}),S.jsx("span",{children:"Data Flow"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full",style:{boxShadow:"0 0 8px #10b981"}}),S.jsx("span",{children:"Active"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 border-2 border-atlas-blue/30 rounded"}),S.jsx("span",{children:"Click for details"})]})]})]}),a&&S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>n(null),children:S.jsxs("div",{className:"card max-w-lg w-full relative animate-scale-in",onClick:u=>u.stopPropagation(),children:[S.jsx("button",{onClick:()=>n(null),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-navy-700 transition-colors",children:S.jsx(aye,{size:20,className:"text-slate-400"})}),S.jsxs("div",{className:"flex items-start gap-4 mb-6 p-6 pb-0",children:[S.jsxs("div",{className:"w-14 h-14 rounded-xl bg-navy-700 flex items-center justify-center",children:[a.id==="frontend"&&S.jsx(H6,{className:"text-cyan-400",size:28}),a.id==="backend"&&S.jsx(G6,{className:"text-blue-400",size:28}),a.id==="orchestrator"&&S.jsx(Pv,{className:"text-purple-400",size:28}),a.id==="scopeAgent"&&S.jsx(Ed,{className:"text-emerald-400",size:28}),a.id==="riskAgent"&&S.jsx(Jl,{className:"text-amber-400",size:28}),a.id==="watchdog"&&S.jsx(cN,{className:"text-red-400",size:28}),a.id==="snowflake"&&S.jsx(uN,{className:"text-blue-400",size:28}),a.id==="cortex"&&S.jsx(mp,{className:"text-purple-400",size:28})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-200",children:a.name}),a.stats&&S.jsx("p",{className:"text-sm text-atlas-blue font-mono",children:a.stats})]})]}),S.jsxs("div",{className:"px-6",children:[S.jsx("p",{className:"text-slate-300 mb-6",children:a.description}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2",children:"Technologies"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:a.tech.map((u,c)=>S.jsx("span",{className:"text-xs px-3 py-1.5 bg-atlas-blue/10 text-atlas-blue rounded-full border border-atlas-blue/20",children:u},c))})]})]}),S.jsxs("div",{className:"mt-6 mx-6 mb-6 pt-4 border-t border-navy-700 flex items-center justify-between",children:[S.jsxs("span",{className:"text-xs text-slate-500",children:["Component ID: ",a.id]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),S.jsx("span",{className:"text-xs text-emerald-400",children:"Online"})]})]})]})})]})})}function V0t(){const[e,t]=X.useState("landing"),[n,r]=X.useState(null),i={onNavigate:t,selectedProjectId:n,setSelectedProjectId:r};if(e==="landing")return S.jsx(uye,{onNavigate:t});const a=()=>{switch(e){case"mission":return S.jsx(Pq,{...i});case"map":return S.jsx(WGe,{...i});case"project":return S.jsx(U0t,{...i});case"scope":return S.jsx(W0t,{...i});case"brief":return S.jsx(H0t,{...i});case"knowledge":return S.jsx(q0t,{...i});case"architecture":return S.jsx(G0t,{...i});default:return S.jsx(Pq,{...i})}};return S.jsx(oye,{currentPage:e,onNavigate:t,children:a()})}mT.createRoot(document.getElementById("root")).render(S.jsx(q.StrictMode,{children:S.jsx(V0t,{})}));
